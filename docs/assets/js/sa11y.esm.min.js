var e="top",t="bottom",i="right",n="left",s=[e,t,i,n],r=s.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),a=[].concat(s,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),o=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function l(e){return e?(e.nodeName||"").toLowerCase():null}function c(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function d(e){return e instanceof c(e).Element||e instanceof Element}function u(e){return e instanceof c(e).HTMLElement||e instanceof HTMLElement}function h(e){return"undefined"!=typeof ShadowRoot&&(e instanceof c(e).ShadowRoot||e instanceof ShadowRoot)}var p={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];u(s)&&l(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});u(n)&&l(n)&&(Object.assign(n.style,r),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};function f(e){return e.split("-")[0]}var g=Math.max,m=Math.min,y=Math.round;function b(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function A(){return!/^((?!chrome|android).)*safari/i.test(b())}function v(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),s=1,r=1;t&&u(e)&&(s=e.offsetWidth>0&&y(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&y(n.height)/e.offsetHeight||1);var a=(d(e)?c(e):window).visualViewport,o=!A()&&i,l=(n.left+(o&&a?a.offsetLeft:0))/s,h=(n.top+(o&&a?a.offsetTop:0))/r,p=n.width/s,f=n.height/r;return{width:p,height:f,top:h,right:l+p,bottom:h+f,left:l,x:l,y:h}}function E(e){var t=v(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function I(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&h(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function T(e){return c(e).getComputedStyle(e)}function _(e){return["table","td","th"].indexOf(l(e))>=0}function L(e){return((d(e)?e.ownerDocument:e.document)||window.document).documentElement}function x(e){return"html"===l(e)?e:e.assignedSlot||e.parentNode||(h(e)?e.host:null)||L(e)}function O(e){return u(e)&&"fixed"!==T(e).position?e.offsetParent:null}function S(e){for(var t=c(e),i=O(e);i&&_(i)&&"static"===T(i).position;)i=O(i);return i&&("html"===l(i)||"body"===l(i)&&"static"===T(i).position)?t:i||function(e){var t=/firefox/i.test(b());if(/Trident/i.test(b())&&u(e)&&"fixed"===T(e).position)return null;var i=x(e);for(h(i)&&(i=i.host);u(i)&&["html","body"].indexOf(l(i))<0;){var n=T(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function w(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function C(e,t,i){return g(e,m(t,i))}function k(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function N(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}var $={name:"arrow",enabled:!0,phase:"main",fn:function(r){var a,o=r.state,l=r.name,c=r.options,d=o.elements.arrow,u=o.modifiersData.popperOffsets,h=f(o.placement),p=w(h),g=[n,i].indexOf(h)>=0?"height":"width";if(d&&u){var m=function(e,t){return k("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:N(e,s))}(c.padding,o),y=E(d),b="y"===p?e:n,A="y"===p?t:i,v=o.rects.reference[g]+o.rects.reference[p]-u[p]-o.rects.popper[g],I=u[p]-o.rects.reference[p],T=S(d),_=T?"y"===p?T.clientHeight||0:T.clientWidth||0:0,L=v/2-I/2,x=m[b],O=_-y[g]-m[A],$=_/2-y[g]/2+L,D=C(x,$,O),M=p;o.modifiersData[l]=((a={})[M]=D,a.centerOffset=D-$,a)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&I(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function D(e){return e.split("-")[1]}var M={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R(s){var r,a=s.popper,o=s.popperRect,l=s.placement,d=s.variation,u=s.offsets,h=s.position,p=s.gpuAcceleration,f=s.adaptive,g=s.roundOffsets,m=s.isFixed,b=u.x,A=void 0===b?0:b,v=u.y,E=void 0===v?0:v,I="function"==typeof g?g({x:A,y:E}):{x:A,y:E};A=I.x,E=I.y;var _=u.hasOwnProperty("x"),x=u.hasOwnProperty("y"),O=n,w=e,C=window;if(f){var k=S(a),N="clientHeight",$="clientWidth";if(k===c(a)&&"static"!==T(k=L(a)).position&&"absolute"===h&&(N="scrollHeight",$="scrollWidth"),l===e||(l===n||l===i)&&"end"===d)w=t,E-=(m&&k===C&&C.visualViewport?C.visualViewport.height:k[N])-o.height,E*=p?1:-1;if(l===n||(l===e||l===t)&&"end"===d)O=i,A-=(m&&k===C&&C.visualViewport?C.visualViewport.width:k[$])-o.width,A*=p?1:-1}var D,R=Object.assign({position:h},f&&M),B=!0===g?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:y(t*n)/n||0,y:y(i*n)/n||0}}({x:A,y:E}):{x:A,y:E};return A=B.x,E=B.y,p?Object.assign({},R,((D={})[w]=x?"0":"",D[O]=_?"0":"",D.transform=(C.devicePixelRatio||1)<=1?"translate("+A+"px, "+E+"px)":"translate3d("+A+"px, "+E+"px, 0)",D)):Object.assign({},R,((r={})[w]=x?E+"px":"",r[O]=_?A+"px":"",r.transform="",r))}var B={passive:!0};var P={left:"right",right:"left",bottom:"top",top:"bottom"};function H(e){return e.replace(/left|right|bottom|top/g,(function(e){return P[e]}))}var G={start:"end",end:"start"};function W(e){return e.replace(/start|end/g,(function(e){return G[e]}))}function q(e){var t=c(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function j(e){return v(L(e)).left+q(e).scrollLeft}function V(e){var t=T(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function U(e){return["html","body","#document"].indexOf(l(e))>=0?e.ownerDocument.body:u(e)&&V(e)?e:U(x(e))}function F(e,t){var i;void 0===t&&(t=[]);var n=U(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),r=c(n),a=s?[r].concat(r.visualViewport||[],V(n)?n:[]):n,o=t.concat(a);return s?o:o.concat(F(x(a)))}function z(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Q(e,t,i){return"viewport"===t?z(function(e,t){var i=c(e),n=L(e),s=i.visualViewport,r=n.clientWidth,a=n.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;var d=A();(d||!d&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o+j(e),y:l}}(e,i)):d(t)?function(e,t){var i=v(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):z(function(e){var t,i=L(e),n=q(e),s=null==(t=e.ownerDocument)?void 0:t.body,r=g(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=g(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+j(e),l=-n.scrollTop;return"rtl"===T(s||i).direction&&(o+=g(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:l}}(L(e)))}function K(e,t,i,n){var s="clippingParents"===t?function(e){var t=F(x(e)),i=["absolute","fixed"].indexOf(T(e).position)>=0&&u(e)?S(e):e;return d(i)?t.filter((function(e){return d(e)&&I(e,i)&&"body"!==l(e)})):[]}(e):[].concat(t),r=[].concat(s,[i]),a=r[0],o=r.reduce((function(t,i){var s=Q(e,i,n);return t.top=g(s.top,t.top),t.right=m(s.right,t.right),t.bottom=m(s.bottom,t.bottom),t.left=g(s.left,t.left),t}),Q(e,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Y(s){var r,a=s.reference,o=s.element,l=s.placement,c=l?f(l):null,d=l?D(l):null,u=a.x+a.width/2-o.width/2,h=a.y+a.height/2-o.height/2;switch(c){case e:r={x:u,y:a.y-o.height};break;case t:r={x:u,y:a.y+a.height};break;case i:r={x:a.x+a.width,y:h};break;case n:r={x:a.x-o.width,y:h};break;default:r={x:a.x,y:a.y}}var p=c?w(c):null;if(null!=p){var g="y"===p?"height":"width";switch(d){case"start":r[p]=r[p]-(a[g]/2-o[g]/2);break;case"end":r[p]=r[p]+(a[g]/2-o[g]/2)}}return r}function X(n,r){void 0===r&&(r={});var a=r,o=a.placement,l=void 0===o?n.placement:o,c=a.strategy,u=void 0===c?n.strategy:c,h=a.boundary,p=void 0===h?"clippingParents":h,f=a.rootBoundary,g=void 0===f?"viewport":f,m=a.elementContext,y=void 0===m?"popper":m,b=a.altBoundary,A=void 0!==b&&b,E=a.padding,I=void 0===E?0:E,T=k("number"!=typeof I?I:N(I,s)),_="popper"===y?"reference":"popper",x=n.rects.popper,O=n.elements[A?_:y],S=K(d(O)?O:O.contextElement||L(n.elements.popper),p,g,u),w=v(n.elements.reference),C=Y({reference:w,element:x,strategy:"absolute",placement:l}),$=z(Object.assign({},x,C)),D="popper"===y?$:w,M={top:S.top-D.top+T.top,bottom:D.bottom-S.bottom+T.bottom,left:S.left-D.left+T.left,right:D.right-S.right+T.right},R=n.modifiersData.offset;if("popper"===y&&R){var B=R[l];Object.keys(M).forEach((function(n){var s=[i,t].indexOf(n)>=0?1:-1,r=[e,t].indexOf(n)>=0?"y":"x";M[n]+=B[r]*s}))}return M}function J(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,l=i.rootBoundary,c=i.padding,d=i.flipVariations,u=i.allowedAutoPlacements,h=void 0===u?a:u,p=D(n),g=p?d?r:r.filter((function(e){return D(e)===p})):s,m=g.filter((function(e){return h.indexOf(e)>=0}));0===m.length&&(m=g);var y=m.reduce((function(t,i){return t[i]=X(e,{placement:i,boundary:o,rootBoundary:l,padding:c})[f(i)],t}),{});return Object.keys(y).sort((function(e,t){return y[e]-y[t]}))}var Z={name:"flip",enabled:!0,phase:"main",fn:function(s){var r=s.state,a=s.options,o=s.name;if(!r.modifiersData[o]._skip){for(var l=a.mainAxis,c=void 0===l||l,d=a.altAxis,u=void 0===d||d,h=a.fallbackPlacements,p=a.padding,g=a.boundary,m=a.rootBoundary,y=a.altBoundary,b=a.flipVariations,A=void 0===b||b,v=a.allowedAutoPlacements,E=r.options.placement,I=f(E),T=h||(I===E||!A?[H(E)]:function(e){if("auto"===f(e))return[];var t=H(e);return[W(e),t,W(t)]}(E)),_=[E].concat(T).reduce((function(e,t){return e.concat("auto"===f(t)?J(r,{placement:t,boundary:g,rootBoundary:m,padding:p,flipVariations:A,allowedAutoPlacements:v}):t)}),[]),L=r.rects.reference,x=r.rects.popper,O=new Map,S=!0,w=_[0],C=0;C<_.length;C++){var k=_[C],N=f(k),$="start"===D(k),M=[e,t].indexOf(N)>=0,R=M?"width":"height",B=X(r,{placement:k,boundary:g,rootBoundary:m,altBoundary:y,padding:p}),P=M?$?i:n:$?t:e;L[R]>x[R]&&(P=H(P));var G=H(P),q=[];if(c&&q.push(B[N]<=0),u&&q.push(B[P]<=0,B[G]<=0),q.every((function(e){return e}))){w=k,S=!1;break}O.set(k,q)}if(S)for(var j=function(e){var t=_.find((function(t){var i=O.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return w=t,"break"},V=A?3:1;V>0;V--){if("break"===j(V))break}r.placement!==w&&(r.modifiersData[o]._skip=!0,r.placement=w,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ee(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function te(s){return[e,i,t,n].some((function(e){return s[e]>=0}))}var ie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var s=t.state,r=t.options,o=t.name,l=r.offset,c=void 0===l?[0,0]:l,d=a.reduce((function(t,r){return t[r]=function(t,s,r){var a=f(t),o=[n,e].indexOf(a)>=0?-1:1,l="function"==typeof r?r(Object.assign({},s,{placement:t})):r,c=l[0],d=l[1];return c=c||0,d=(d||0)*o,[n,i].indexOf(a)>=0?{x:d,y:c}:{x:c,y:d}}(r,s.rects,c),t}),{}),u=d[s.placement],h=u.x,p=u.y;null!=s.modifiersData.popperOffsets&&(s.modifiersData.popperOffsets.x+=h,s.modifiersData.popperOffsets.y+=p),s.modifiersData[o]=d}};var ne={name:"preventOverflow",enabled:!0,phase:"main",fn:function(s){var r=s.state,a=s.options,o=s.name,l=a.mainAxis,c=void 0===l||l,d=a.altAxis,u=void 0!==d&&d,h=a.boundary,p=a.rootBoundary,y=a.altBoundary,b=a.padding,A=a.tether,v=void 0===A||A,I=a.tetherOffset,T=void 0===I?0:I,_=X(r,{boundary:h,rootBoundary:p,padding:b,altBoundary:y}),L=f(r.placement),x=D(r.placement),O=!x,k=w(L),N="x"===k?"y":"x",$=r.modifiersData.popperOffsets,M=r.rects.reference,R=r.rects.popper,B="function"==typeof T?T(Object.assign({},r.rects,{placement:r.placement})):T,P="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),H=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,G={x:0,y:0};if($){if(c){var W,q="y"===k?e:n,j="y"===k?t:i,V="y"===k?"height":"width",U=$[k],F=U+_[q],z=U-_[j],Q=v?-R[V]/2:0,K="start"===x?M[V]:R[V],Y="start"===x?-R[V]:-M[V],J=r.elements.arrow,Z=v&&J?E(J):{width:0,height:0},ee=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[q],ie=ee[j],ne=C(0,M[V],Z[V]),se=O?M[V]/2-Q-ne-te-P.mainAxis:K-ne-te-P.mainAxis,re=O?-M[V]/2+Q+ne+ie+P.mainAxis:Y+ne+ie+P.mainAxis,ae=r.elements.arrow&&S(r.elements.arrow),oe=ae?"y"===k?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(W=null==H?void 0:H[k])?W:0,ce=U+re-le,de=C(v?m(F,U+se-le-oe):F,U,v?g(z,ce):z);$[k]=de,G[k]=de-U}if(u){var ue,he="x"===k?e:n,pe="x"===k?t:i,fe=$[N],ge="y"===N?"height":"width",me=fe+_[he],ye=fe-_[pe],be=-1!==[e,n].indexOf(L),Ae=null!=(ue=null==H?void 0:H[N])?ue:0,ve=be?me:fe-M[ge]-R[ge]-Ae+P.altAxis,Ee=be?fe+M[ge]+R[ge]-Ae-P.altAxis:ye,Ie=v&&be?function(e,t,i){var n=C(e,t,i);return n>i?i:n}(ve,fe,Ee):C(v?ve:me,fe,v?Ee:ye);$[N]=Ie,G[N]=Ie-fe}r.modifiersData[o]=G}},requiresIfExists:["offset"]};function se(e,t,i){void 0===i&&(i=!1);var n,s,r=u(t),a=u(t)&&function(e){var t=e.getBoundingClientRect(),i=y(t.width)/e.offsetWidth||1,n=y(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),o=L(t),d=v(e,a,i),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(r||!r&&!i)&&(("body"!==l(t)||V(o))&&(h=(n=t)!==c(n)&&u(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:q(n)),u(t)?((p=v(t,!0)).x+=t.clientLeft,p.y+=t.clientTop):o&&(p.x=j(o))),{x:d.left+h.scrollLeft-p.x,y:d.top+h.scrollTop-p.y,width:d.width,height:d.height}}function re(e){var t=new Map,i=new Set,n=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),n}var ae={placement:"bottom",modifiers:[],strategy:"absolute"};function oe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function le(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,s=t.defaultOptions,r=void 0===s?ae:s;return function(e,t,i){void 0===i&&(i=r);var s,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},ae,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,h={state:l,setOptions:function(i){var s="function"==typeof i?i(l.options):i;p(),l.options=Object.assign({},r,l.options,s),l.scrollParents={reference:d(e)?F(e):e.contextElement?F(e.contextElement):[],popper:F(t)};var a,u,f=function(e){var t=re(e);return o.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((a=[].concat(n,l.options.modifiers),u=a.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=f.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var r=s({state:l,name:t,instance:h,options:n}),a=function(){};c.push(r||a)}})),h.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,i=e.popper;if(oe(t,i)){l.rects={reference:se(t,S(i),"fixed"===l.options.strategy),popper:E(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<l.orderedModifiers.length;n++)if(!0!==l.reset){var s=l.orderedModifiers[n],r=s.fn,a=s.options,o=void 0===a?{}:a,c=s.name;"function"==typeof r&&(l=r({state:l,options:o,name:c,instance:h})||l)}else l.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(e){h.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(s())}))}))),a}),destroy:function(){p(),u=!0}};if(!oe(e,t))return h;function p(){c.forEach((function(e){return e()})),c=[]}return h.setOptions(i).then((function(e){!u&&i.onFirstUpdate&&i.onFirstUpdate(e)})),h}}var ce=le({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,s=n.scroll,r=void 0===s||s,a=n.resize,o=void 0===a||a,l=c(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&d.forEach((function(e){e.addEventListener("scroll",i.update,B)})),o&&l.addEventListener("resize",i.update,B),function(){r&&d.forEach((function(e){e.removeEventListener("scroll",i.update,B)})),o&&l.removeEventListener("resize",i.update,B)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=void 0===n||n,r=i.adaptive,a=void 0===r||r,o=i.roundOffsets,l=void 0===o||o,c={placement:f(t.placement),variation:D(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,R(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,R(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},p,ie,Z,ne,$,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=X(t,{elementContext:"reference"}),o=X(t,{altBoundary:!0}),l=ee(a,n),c=ee(o,s,r),d=te(l),u=te(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),de={passive:!0,capture:!0},ue=function(){return document.body};function he(e,t,i){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(i)?i[t]:i:n}return e}function pe(e,t){var i={}.toString.call(e);return 0===i.indexOf("[object")&&i.indexOf(t+"]")>-1}function fe(e,t){return"function"==typeof e?e.apply(void 0,t):e}function ge(e,t){return 0===t?e:function(n){clearTimeout(i),i=setTimeout((function(){e(n)}),t)};var i}function me(e){return[].concat(e)}function ye(e,t){-1===e.indexOf(t)&&e.push(t)}function be(e){return[].slice.call(e)}function Ae(e){return Object.keys(e).reduce((function(t,i){return void 0!==e[i]&&(t[i]=e[i]),t}),{})}function ve(){return document.createElement("div")}function Ee(e){return["Element","Fragment"].some((function(t){return pe(e,t)}))}function Ie(e){return Ee(e)?[e]:function(e){return pe(e,"NodeList")}(e)?be(e):Array.isArray(e)?e:be(document.querySelectorAll(e))}function Te(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function _e(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Le(e,t,i){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,i)}))}function xe(e,t){for(var i=t;i;){var n;if(e.contains(i))return!0;i=null==i.getRootNode||null==(n=i.getRootNode())?void 0:n.host}return!1}var Oe={isTouch:!1},Se=0;function we(){Oe.isTouch||(Oe.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ce))}function Ce(){var e=performance.now();e-Se<20&&(Oe.isTouch=!1,document.removeEventListener("mousemove",Ce)),Se=e}function ke(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var i=t._tippy;t.blur&&!i.state.isVisible&&t.blur()}}var Ne=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,$e=Object.assign({appendTo:ue,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),De=Object.keys($e);function Me(e){var t=(e.plugins||[]).reduce((function(t,i){var n,s=i.name,r=i.defaultValue;s&&(t[s]=void 0!==e[s]?e[s]:null!=(n=$e[s])?n:r);return t}),{});return Object.assign({},e,t)}function Re(e,t){var i=Object.assign({},t,{content:fe(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Me(Object.assign({},$e,{plugins:t}))):De).reduce((function(t,i){var n=(e.getAttribute("data-tippy-"+i)||"").trim();if(!n)return t;if("content"===i)t[i]=n;else try{t[i]=JSON.parse(n)}catch(e){t[i]=n}return t}),{})}(e,t.plugins));return i.aria=Object.assign({},$e.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}function Be(e,t){e.innerHTML=t}function Pe(e){var t=ve();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",Ee(e)?t.appendChild(e):Be(t,e)),t}function He(e,t){Ee(t.content)?(Be(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Be(e,t.content):e.textContent=t.content)}function Ge(e){var t=e.firstElementChild,i=be(t.children);return{box:t,content:i.find((function(e){return e.classList.contains("tippy-content")})),arrow:i.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:i.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function We(e){var t=ve(),i=ve();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=ve();function s(i,n){var s=Ge(t),r=s.box,a=s.content,o=s.arrow;n.theme?r.setAttribute("data-theme",n.theme):r.removeAttribute("data-theme"),"string"==typeof n.animation?r.setAttribute("data-animation",n.animation):r.removeAttribute("data-animation"),n.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?r.setAttribute("role",n.role):r.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||He(a,e.props),n.arrow?o?i.arrow!==n.arrow&&(r.removeChild(o),r.appendChild(Pe(n.arrow))):r.appendChild(Pe(n.arrow)):o&&r.removeChild(o)}return n.className="tippy-content",n.setAttribute("data-state","hidden"),He(n,e.props),t.appendChild(i),i.appendChild(n),s(e.props,e.props),{popper:t,onUpdate:s}}We.$$tippy=!0;var qe=1,je=[],Ve=[];function Ue(e,t){var i,n,s,r,a,o,l,c,d=Re(e,Object.assign({},$e,Me(Ae(t)))),u=!1,h=!1,p=!1,f=!1,g=[],m=ge(z,d.interactiveDebounce),y=qe++,b=(c=d.plugins).filter((function(e,t){return c.indexOf(e)===t})),A={id:y,reference:e,popper:ve(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(s)},setProps:function(t){if(A.state.isDestroyed)return;$("onBeforeUpdate",[A,t]),U();var i=A.props,n=Re(e,Object.assign({},i,Ae(t),{ignoreAttributes:!0}));A.props=n,V(),i.interactiveDebounce!==n.interactiveDebounce&&(R(),m=ge(z,n.interactiveDebounce));i.triggerTarget&&!n.triggerTarget?me(i.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded");M(),N(),I&&I(i,n);A.popperInstance&&(X(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));$("onAfterUpdate",[A,t])},setContent:function(e){A.setProps({content:e})},show:function(){var e=A.state.isVisible,t=A.state.isDestroyed,i=!A.state.isEnabled,n=Oe.isTouch&&!A.props.touch,s=he(A.props.duration,0,$e.duration);if(e||t||i||n)return;if(S().hasAttribute("disabled"))return;if($("onShow",[A],!1),!1===A.props.onShow(A))return;A.state.isVisible=!0,O()&&(E.style.visibility="visible");N(),G(),A.state.isMounted||(E.style.transition="none");if(O()){var r=C(),a=r.box,l=r.content;Te([a,l],0)}o=function(){var e;if(A.state.isVisible&&!f){if(f=!0,E.offsetHeight,E.style.transition=A.props.moveTransition,O()&&A.props.animation){var t=C(),i=t.box,n=t.content;Te([i,n],s),_e([i,n],"visible")}D(),M(),ye(Ve,A),null==(e=A.popperInstance)||e.forceUpdate(),$("onMount",[A]),A.props.animation&&O()&&function(e,t){q(e,t)}(s,(function(){A.state.isShown=!0,$("onShown",[A])}))}},function(){var e,t=A.props.appendTo,i=S();e=A.props.interactive&&t===ue||"parent"===t?i.parentNode:fe(t,[i]);e.contains(E)||e.appendChild(E);A.state.isMounted=!0,X()}()},hide:function(){var e=!A.state.isVisible,t=A.state.isDestroyed,i=!A.state.isEnabled,n=he(A.props.duration,1,$e.duration);if(e||t||i)return;if($("onHide",[A],!1),!1===A.props.onHide(A))return;A.state.isVisible=!1,A.state.isShown=!1,f=!1,u=!1,O()&&(E.style.visibility="hidden");if(R(),W(),N(!0),O()){var s=C(),r=s.box,a=s.content;A.props.animation&&(Te([r,a],n),_e([r,a],"hidden"))}D(),M(),A.props.animation?O()&&function(e,t){q(e,(function(){!A.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&t()}))}(n,A.unmount):A.unmount()},hideWithInteractivity:function(e){w().addEventListener("mousemove",m),ye(je,m),m(e)},enable:function(){A.state.isEnabled=!0},disable:function(){A.hide(),A.state.isEnabled=!1},unmount:function(){A.state.isVisible&&A.hide();if(!A.state.isMounted)return;J(),Z().forEach((function(e){e._tippy.unmount()})),E.parentNode&&E.parentNode.removeChild(E);Ve=Ve.filter((function(e){return e!==A})),A.state.isMounted=!1,$("onHidden",[A])},destroy:function(){if(A.state.isDestroyed)return;A.clearDelayTimeouts(),A.unmount(),U(),delete e._tippy,A.state.isDestroyed=!0,$("onDestroy",[A])}};if(!d.render)return A;var v=d.render(A),E=v.popper,I=v.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+A.id,A.popper=E,e._tippy=A,E._tippy=A;var T=b.map((function(e){return e.fn(A)})),_=e.hasAttribute("aria-expanded");return V(),M(),N(),$("onCreate",[A]),d.showOnCreate&&ee(),E.addEventListener("mouseenter",(function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()})),E.addEventListener("mouseleave",(function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&w().addEventListener("mousemove",m)})),A;function L(){var e=A.props.touch;return Array.isArray(e)?e:[e,0]}function x(){return"hold"===L()[0]}function O(){var e;return!(null==(e=A.props.render)||!e.$$tippy)}function S(){return l||e}function w(){var e,t,i=S().parentNode;return i?null!=(t=me(i)[0])&&null!=(e=t.ownerDocument)&&e.body?t.ownerDocument:document:document}function C(){return Ge(E)}function k(e){return A.state.isMounted&&!A.state.isVisible||Oe.isTouch||r&&"focus"===r.type?0:he(A.props.delay,e?0:1,$e.delay)}function N(e){void 0===e&&(e=!1),E.style.pointerEvents=A.props.interactive&&!e?"":"none",E.style.zIndex=""+A.props.zIndex}function $(e,t,i){var n;(void 0===i&&(i=!0),T.forEach((function(i){i[e]&&i[e].apply(i,t)})),i)&&(n=A.props)[e].apply(n,t)}function D(){var t=A.props.aria;if(t.content){var i="aria-"+t.content,n=E.id;me(A.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(i);if(A.state.isVisible)e.setAttribute(i,t?t+" "+n:n);else{var s=t&&t.replace(n,"").trim();s?e.setAttribute(i,s):e.removeAttribute(i)}}))}}function M(){!_&&A.props.aria.expanded&&me(A.props.triggerTarget||e).forEach((function(e){A.props.interactive?e.setAttribute("aria-expanded",A.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")}))}function R(){w().removeEventListener("mousemove",m),je=je.filter((function(e){return e!==m}))}function B(t){if(!Oe.isTouch||!p&&"mousedown"!==t.type){var i=t.composedPath&&t.composedPath()[0]||t.target;if(!A.props.interactive||!xe(E,i)){if(me(A.props.triggerTarget||e).some((function(e){return xe(e,i)}))){if(Oe.isTouch)return;if(A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[A,t]);!0===A.props.hideOnClick&&(A.clearDelayTimeouts(),A.hide(),h=!0,setTimeout((function(){h=!1})),A.state.isMounted||W())}}}function P(){p=!0}function H(){p=!1}function G(){var e=w();e.addEventListener("mousedown",B,!0),e.addEventListener("touchend",B,de),e.addEventListener("touchstart",H,de),e.addEventListener("touchmove",P,de)}function W(){var e=w();e.removeEventListener("mousedown",B,!0),e.removeEventListener("touchend",B,de),e.removeEventListener("touchstart",H,de),e.removeEventListener("touchmove",P,de)}function q(e,t){var i=C().box;function n(e){e.target===i&&(Le(i,"remove",n),t())}if(0===e)return t();Le(i,"remove",a),Le(i,"add",n),a=n}function j(t,i,n){void 0===n&&(n=!1),me(A.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,i,n),g.push({node:e,eventType:t,handler:i,options:n})}))}function V(){var e;x()&&(j("touchstart",F,{passive:!0}),j("touchend",Q,{passive:!0})),(e=A.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(j(e,F),e){case"mouseenter":j("mouseleave",Q);break;case"focus":j(Ne?"focusout":"blur",K);break;case"focusin":j("focusout",K)}}))}function U(){g.forEach((function(e){var t=e.node,i=e.eventType,n=e.handler,s=e.options;t.removeEventListener(i,n,s)})),g=[]}function F(e){var t,i=!1;if(A.state.isEnabled&&!Y(e)&&!h){var n="focus"===(null==(t=r)?void 0:t.type);r=e,l=e.currentTarget,M(),!A.state.isVisible&&pe(e,"MouseEvent")&&je.forEach((function(t){return t(e)})),"click"===e.type&&(A.props.trigger.indexOf("mouseenter")<0||u)&&!1!==A.props.hideOnClick&&A.state.isVisible?i=!0:ee(e),"click"===e.type&&(u=!i),i&&!n&&te(e)}}function z(e){var t=e.target,i=S().contains(t)||E.contains(t);if("mousemove"!==e.type||!i){var n=Z().concat(E).map((function(e){var t,i=null==(t=e._tippy.popperInstance)?void 0:t.state;return i?{popperRect:e.getBoundingClientRect(),popperState:i,props:d}:null})).filter(Boolean);(function(e,t){var i=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,s=e.popperState,r=e.props.interactiveBorder,a=s.placement.split("-")[0],o=s.modifiersData.offset;if(!o)return!0;var l="bottom"===a?o.top.y:0,c="top"===a?o.bottom.y:0,d="right"===a?o.left.x:0,u="left"===a?o.right.x:0,h=t.top-n+l>r,p=n-t.bottom-c>r,f=t.left-i+d>r,g=i-t.right-u>r;return h||p||f||g}))})(n,e)&&(R(),te(e))}}function Q(e){Y(e)||A.props.trigger.indexOf("click")>=0&&u||(A.props.interactive?A.hideWithInteractivity(e):te(e))}function K(e){A.props.trigger.indexOf("focusin")<0&&e.target!==S()||A.props.interactive&&e.relatedTarget&&E.contains(e.relatedTarget)||te(e)}function Y(e){return!!Oe.isTouch&&x()!==e.type.indexOf("touch")>=0}function X(){J();var t=A.props,i=t.popperOptions,n=t.placement,s=t.offset,r=t.getReferenceClientRect,a=t.moveTransition,l=O()?Ge(E).arrow:null,c=r?{getBoundingClientRect:r,contextElement:r.contextElement||S()}:e,d={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(O()){var i=C().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?i.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)})),t.attributes.popper={}}}},u=[{name:"offset",options:{offset:s}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},d];O()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),u.push.apply(u,(null==i?void 0:i.modifiers)||[]),A.popperInstance=ce(c,E,Object.assign({},i,{placement:n,onFirstUpdate:o,modifiers:u}))}function J(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function Z(){return be(E.querySelectorAll("[data-tippy-root]"))}function ee(e){A.clearDelayTimeouts(),e&&$("onTrigger",[A,e]),G();var t=k(!0),n=L(),s=n[0],r=n[1];Oe.isTouch&&"hold"===s&&r&&(t=r),t?i=setTimeout((function(){A.show()}),t):A.show()}function te(e){if(A.clearDelayTimeouts(),$("onUntrigger",[A,e]),A.state.isVisible){if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=k(!1);t?n=setTimeout((function(){A.state.isVisible&&A.hide()}),t):s=requestAnimationFrame((function(){A.hide()}))}}else W()}}function Fe(e,t){void 0===t&&(t={});var i=$e.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",we,de),window.addEventListener("blur",ke);var n=Object.assign({},t,{plugins:i}),s=Ie(e).reduce((function(e,t){var i=t&&Ue(t,n);return i&&e.push(i),e}),[]);return Ee(e)?s[0]:s}Fe.defaultProps=$e,Fe.setDefaultProps=function(e){Object.keys(e).forEach((function(t){$e[t]=e[t]}))},Fe.currentInput=Oe,Object.assign({},p,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}}),Fe.setDefaultProps({render:We});
/**
 * Sa11y, the accessibility quality assurance assistant.
 * @version: 2.3.6
 * @author: Development led by Adam Chaboryk, CPWA. <adam.chaboryk@ryerson.ca>
 * @license: https://github.com/ryersondmp/sa11y/blob/master/LICENSE.md
 * @acknowledgements https://sa11y.netlify.app/acknowledgements/
 * @copyright (c) 2020 - 2022 Toronto Metropolitan University (formerly Ryerson University).
 * The above copyright notice shall be included in all copies or substantial portions of the Software.
*/
const ze={langStrings:{},addI18n(e){this.langStrings=e},_(e){return this.translate(e)},sprintf(e,...t){let i=this._(e);return t&&t.length&&t.forEach((e=>{i=i.replace(/%\([a-zA-z]+\)/,e)})),i},translate(e){return this.langStrings[e]||e}};class Qe{setSa11y(e){this.sa11y=e}check(){}}class Ke{constructor(e){const t={checkRoot:"body",containerIgnore:".sa11y-ignore",contrastIgnore:'.sr-only, [role="menu"] *',outlineIgnore:"",headerIgnore:"",imageIgnore:"",linkIgnore:'nav *, [role="navigation"] *',linkIgnoreSpan:"",linksToFlag:"",nonConsecutiveHeadingIsError:!0,flagLongHeadings:!0,showGoodLinkButton:!0,detectSPArouting:!1,doNotRun:"",dismissAnnotations:!0,appendTooltips:document.body,headless:!1,readabilityPlugin:!0,readabilityRoot:"body",readabilityLang:"en",readabilityIgnore:"",contrastPlugin:!0,formLabelsPlugin:!0,linksAdvancedPlugin:!0,customChecks:!0,badLinksQA:!0,strongItalicsQA:!0,pdfQA:!0,langQA:!0,blockquotesQA:!0,tablesQA:!0,allCapsQA:!0,fakeHeadingsQA:!0,fakeListQA:!0,duplicateIdQA:!0,underlinedTextQA:!0,pageTitleQA:!0,subscriptQA:!0,embeddedContentAll:!0,embeddedContentAudio:!0,embeddedContentVideo:!0,embeddedContentDataViz:!0,embeddedContentTitles:!0,embeddedContentGeneral:!0,videoContent:"youtube.com, vimeo.com, yuja.com, panopto.com",audioContent:"soundcloud.com, simplecast.com, podbean.com, buzzsprout.com, blubrry.com, transistor.fm, fusebox.fm, libsyn.com",dataVizContent:"datastudio.google.com, tableau",embeddedContent:""};t.embeddedContent=`${t.videoContent}, ${t.audioContent}, ${t.dataVizContent}`;const i={...t,...e},n=ze._("ERROR"),s=ze._("WARNING"),r=ze._("GOOD"),a=window.location.pathname;this.html=document.querySelector("html"),this.initialize=()=>{var e;(()=>{const{doNotRun:e}=i;return e.trim().length>0&&document.querySelector(e)})()||(this.globals(),this.utilities(),e=()=>{!1===i.headless?(this.buildSa11yUI(),this.settingsPanelToggles(),this.initializePanelToggles(),this.mainToggle(),this.skipToIssueTooltip(),this.detectPageChanges(),this.dismissAnnotations(),i.customChecks&&i.customChecks.setSa11y&&i.customChecks.setSa11y(this),this.toggle.disabled=!1,"Closed"!==this.store.getItem("sa11y-remember-panel")&&this.store.getItem("sa11y-remember-panel")?this.panelActive=!0:(this.panelActive=!1,this.checkAll())):(i.customChecks&&i.customChecks.setSa11y&&i.customChecks.setSa11y(this),this.checkAll())},"complete"===document.readyState?e():window.addEventListener("load",e))},this.buildSa11yUI=()=>{const e=document.createElement("div");e.setAttribute("id","sa11y-container"),e.setAttribute("role","region"),e.setAttribute("lang",ze._("LANG_CODE")),e.setAttribute("aria-label",ze._("CONTAINER_LABEL"));const t="On"===this.store.getItem("sa11y-remember-contrast"),i="On"===this.store.getItem("sa11y-remember-labels"),n="On"===this.store.getItem("sa11y-remember-links-advanced"),s="On"===this.store.getItem("sa11y-remember-readability");e.innerHTML=`\n        <button type="button" aria-expanded="false" id="sa11y-toggle" aria-describedby="sa11y-notification-badge" aria-label="${ze._("MAIN_TOGGLE_LABEL")}" disabled>\n          <svg role='img' focusable='false' width='35px' height='35px' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='#ffffff' d='M256 48c114.953 0 208 93.029 208 208 0 114.953-93.029 208-208 208-114.953 0-208-93.029-208-208 0-114.953 93.029-208 208-208m0-40C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 56C149.961 64 64 149.961 64 256s85.961 192 192 192 192-85.961 192-192S362.039 64 256 64zm0 44c19.882 0 36 16.118 36 36s-16.118 36-36 36-36-16.118-36-36 16.118-36 36-36zm117.741 98.023c-28.712 6.779-55.511 12.748-82.14 15.807.851 101.023 12.306 123.052 25.037 155.621 3.617 9.26-.957 19.698-10.217 23.315-9.261 3.617-19.699-.957-23.316-10.217-8.705-22.308-17.086-40.636-22.261-78.549h-9.686c-5.167 37.851-13.534 56.208-22.262 78.549-3.615 9.255-14.05 13.836-23.315 10.217-9.26-3.617-13.834-14.056-10.217-23.315 12.713-32.541 24.185-54.541 25.037-155.621-26.629-3.058-53.428-9.027-82.141-15.807-8.6-2.031-13.926-10.648-11.895-19.249s10.647-13.926 19.249-11.895c96.686 22.829 124.283 22.783 220.775 0 8.599-2.03 17.218 3.294 19.249 11.895 2.029 8.601-3.297 17.219-11.897 19.249z'/></svg>\n          <div id="sa11y-notification-badge">\n            <span id="sa11y-notification-count"></span>\n            <span id="sa11y-notification-text" class="sa11y-visually-hidden"></span>\n          </div>\n        </button><div id="sa11y-panel"><div id="sa11y-outline-panel" role="tabpanel" aria-labelledby="sa11y-outline-header">\n            <div id="sa11y-outline-header" class="sa11y-header-text">\n              <h2 tabindex="-1">${ze._("PAGE_OUTLINE")}</h2>\n            </div>\n            <div id="sa11y-outline-content">\n              <ul id="sa11y-outline-list" tabindex="0" role="list" aria-label="${ze._("PAGE_OUTLINE")}"></ul>\n            </div>\n            <div id="sa11y-readability-panel">\n              <div id="sa11y-readability-content">\n                <h2 class="sa11y-header-text-inline">${ze._("LANG_READABILITY")}</h2>\n                <p id="sa11y-readability-info"></p>\n                <ul id="sa11y-readability-details"></ul>\n              </div>\n            </div>\n          </div><div id="sa11y-settings-panel" role="tabpanel" aria-labelledby="sa11y-settings-header">\n            <div id="sa11y-settings-header" class="sa11y-header-text">\n              <h2 tabindex="-1">${ze._("SETTINGS")}</h2>\n            </div>\n            <div id="sa11y-settings-content">\n              <ul id="sa11y-settings-options">\n                <li id="sa11y-contrast-item">\n                  <label id="sa11y-check-contrast" for="sa11y-contrast-toggle">${ze._("CONTRAST")}</label>\n                  <button id="sa11y-contrast-toggle"\n                    aria-labelledby="sa11y-check-contrast"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${t?"true":"false"}">${t?ze._("ON"):ze._("OFF")}\n                  </button>\n                </li>\n                <li id="sa11y-form-labels-item">\n                  <label id="sa11y-check-labels" for="sa11y-labels-toggle">${ze._("FORM_LABELS")}</label>\n                  <button id="sa11y-labels-toggle"\n                    aria-labelledby="sa11y-check-labels"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${i?"true":"false"}">${i?ze._("ON"):ze._("OFF")}\n                  </button>\n                </li>\n                <li id="sa11y-links-advanced-item">\n                  <label id="check-changerequest" for="sa11y-links-advanced-toggle">${ze._("LINKS_ADVANCED")} <span class="sa11y-badge">AAA</span></label>\n                  <button id="sa11y-links-advanced-toggle"\n                    aria-labelledby="check-changerequest"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${n?"true":"false"}">${n?ze._("ON"):ze._("OFF")}</button>\n                </li>\n                <li id="sa11y-readability-item">\n                  <label id="check-readability" for="sa11y-readability-toggle">${ze._("LANG_READABILITY")} <span class="sa11y-badge">AAA</span></label>\n                  <button id="sa11y-readability-toggle"\n                    aria-labelledby="check-readability"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${s?"true":"false"}">${s?ze._("ON"):ze._("OFF")}\n                  </button>\n                </li>\n                <li>\n                  <label id="sa11y-dark-mode" for="sa11y-theme-toggle">${ze._("DARK_MODE")}</label>\n                  <button id="sa11y-theme-toggle"\n                    aria-labelledby="sa11y-dark-mode"\n                    class="sa11y-settings-switch">\n                  </button>\n                </li>\n              </ul>\n            </div>\n          </div><div id="sa11y-panel-alert">\n          <div class="sa11y-header-text">\n              <button id="sa11y-close-alert" class="sa11y-close-btn" aria-label="${ze._("ALERT_CLOSE")}" aria-describedby="sa11y-alert-heading sa11y-panel-alert-text"></button>\n              <h2 id="sa11y-alert-heading">${ze._("ALERT_TEXT")}</h2>\n          </div>\n          <p id="sa11y-panel-alert-text"></p>\n          <div id="sa11y-panel-alert-preview"></div>\n        </div><div id="sa11y-panel-content">\n          <button id="sa11y-skip-button" type="button">\n            <div class="sa11y-panel-icon"></div>\n            <span class="sa11y-visually-hidden">${ze._("SHORTCUT_SCREEN_READER")}</span>\n          </button>\n          <button id="sa11y-dismiss-button" type="button">\n            <div class="sa11y-dismiss-icon"></div>\n            <span id="sa11y-dismiss-tooltip" class="sa11y-visually-hidden"></span>\n          </button>\n          <div id="sa11y-panel-text">\n            <h1 class="sa11y-visually-hidden">${ze._("PANEL_HEADING")}</h1>\n            <p id="sa11y-status" aria-live="polite"></p>\n          </div>\n        </div><div id="sa11y-panel-controls" role="tablist" aria-orientation="horizontal">\n          <button type="button" role="tab" aria-expanded="false" id="sa11y-outline-toggle" aria-controls="sa11y-outline-panel">\n            ${ze._("SHOW_OUTLINE")}\n          </button>\n          <button type="button" role="tab" aria-expanded="false" id="sa11y-settings-toggle" aria-controls="sa11y-settings-panel">\n            ${ze._("SHOW_SETTINGS")}\n          </button>\n          <div style="width:40px;"></div>\n        </div></div>`,document.body.appendChild(e),this.container=document.getElementById("sa11y-container"),this.panel=document.getElementById("sa11y-panel"),this.panelContent=document.getElementById("sa11y-panel-content"),this.panelControls=document.getElementById("sa11y-panel-controls"),this.outlinePanel=document.getElementById("sa11y-outline-panel"),this.outlineList=document.getElementById("sa11y-outline-list"),this.outlineHeader=document.getElementById("sa11y-outline-header"),this.notificationBadge=document.getElementById("sa11y-notification-badge"),this.notificationCount=document.getElementById("sa11y-notification-count"),this.notificationText=document.getElementById("sa11y-notification-text"),this.dismissedBadge=document.getElementById("sa11y-dismissed-badge"),this.status=document.getElementById("sa11y-status"),this.settingsPanel=document.getElementById("sa11y-settings-panel"),this.settingsContent=document.getElementById("sa11y-settings-content"),this.contrastToggle=document.getElementById("sa11y-contrast-toggle"),this.labelsToggle=document.getElementById("sa11y-labels-toggle"),this.linksToggle=document.getElementById("sa11y-links-advanced-toggle"),this.readabilityToggle=document.getElementById("sa11y-readability-toggle"),this.themeToggle=document.getElementById("sa11y-theme-toggle"),this.contrastItem=document.getElementById("sa11y-contrast-item"),this.formLabelsItem=document.getElementById("sa11y-form-labels-item"),this.linksAdvacedItem=document.getElementById("sa11y-links-advanced-item"),this.readabilityItem=document.getElementById("sa11y-readability-item"),this.toggle=document.getElementById("sa11y-toggle"),this.outlineToggle=document.getElementById("sa11y-outline-toggle"),this.settingToggle=document.getElementById("sa11y-settings-toggle"),this.skipButton=document.getElementById("sa11y-skip-button"),this.restoreDismissButton=document.getElementById("sa11y-dismiss-button"),this.dismissTooltip=document.getElementById("sa11y-dismiss-tooltip"),this.alertPanel=document.getElementById("sa11y-panel-alert"),this.alertText=document.getElementById("sa11y-panel-alert-text"),this.alertPreview=document.getElementById("sa11y-panel-alert-preview"),this.closeAlert=document.getElementById("sa11y-close-alert"),this.readabilityInfo=document.getElementById("sa11y-readability-info"),this.readabilityPanel=document.getElementById("sa11y-readability-panel"),this.readabilityDetails=document.getElementById("sa11y-readability-details")},this.globals=()=>{i.readabilityRoot||(i.readabilityRoot=i.checkRoot);const e=["en","fr","es","de","nl","it","sv","fi","da","no","nb","nn"],t=this.html.getAttribute("lang");if(t){const n=t.toLowerCase();e.some((e=>n.includes(e)))||(i.readabilityPlugin=!1)}else i.readabilityPlugin=!1;if(i.containerIgnore){const e=i.containerIgnore.split(",").map((e=>`${e} *, ${e}`));i.containerIgnore=`[aria-hidden], [data-tippy-root] *, #sa11y-container *, #wpadminbar *, ${e.join(", ")}`}else i.containerIgnore="[aria-hidden], [data-tippy-root] *, #sa11y-container *, #wpadminbar *";if(this.containerIgnore=i.containerIgnore,this.contrastIgnore=`${this.containerIgnore}, .sa11y-heading-label, script`,i.contrastIgnore&&(this.contrastIgnore=`${i.contrastIgnore}, ${this.contrastIgnore}`),this.readabilityIgnore=`${this.containerIgnore}, nav li, [role="navigation"] li`,i.readabilityIgnore&&(this.readabilityIgnore=`${i.readabilityIgnore}, ${this.readabilityIgnore}`),this.headerIgnore=this.containerIgnore,i.headerIgnore&&(this.headerIgnore=`${i.headerIgnore}, ${this.headerIgnore}`),i.outlineIgnore&&(this.outlineIgnore=`${i.outlineIgnore}, #sa11y-container h1, #sa11y-container h2`),this.imageIgnore=`${this.containerIgnore}, [role='presentation']`,i.imageIgnore&&(this.imageIgnore=`${i.imageIgnore}, ${this.imageIgnore}`),this.linkIgnore=`${this.containerIgnore}, [aria-hidden="true"], .anchorjs-link`,i.linkIgnore&&(this.linkIgnore=`${i.linkIgnore}, ${this.linkIgnore}`),i.linkIgnoreSpan){const e=i.linkIgnoreSpan.split(",").map((e=>`${e} *, ${e}`));i.linkIgnoreSpan=`noscript, ${e.join(", ")}`}else i.linkIgnoreSpan="noscript";if(i.videoContent){const e=i.videoContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.videoContent=`video, ${e.join(", ")}`}else i.videoContent="video";if(i.audioContent){const e=i.audioContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.audioContent=`audio, ${e.join(", ")}`}else i.audioContent="audio";if(i.dataVizContent){const e=i.dataVizContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.dataVizContent=e.join(", ")}else i.dataVizContent="datastudio.google.com, tableau";if(i.embeddedContent){const e=i.embeddedContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.embeddedContent=e.join(", ")}let n=!1;"function"==typeof window.matchMedia&&(n=window.matchMedia("(prefers-reduced-motion: reduce)")),this.scrollBehaviour=!n||n.matches?"auto":"smooth"},this.mainToggle=()=>{this.toggle.addEventListener("click",(e=>{"Opened"===this.store.getItem("sa11y-remember-panel")?(this.store.setItem("sa11y-remember-panel","Closed"),this.toggle.classList.remove("sa11y-on"),this.toggle.setAttribute("aria-expanded","false"),this.resetAll(),this.updateBadge(),e.preventDefault()):(this.store.setItem("sa11y-remember-panel","Opened"),this.toggle.classList.add("sa11y-on"),this.toggle.setAttribute("aria-expanded","true"),this.checkAll(),this.notificationBadge.style.display="none",e.preventDefault())})),"Opened"===this.store.getItem("sa11y-remember-panel")&&(this.toggle.classList.add("sa11y-on"),this.toggle.setAttribute("aria-expanded","true")),this.toggle.classList.contains("sa11y-on")&&(this.toggle.classList.toggle("loading-sa11y"),this.toggle.setAttribute("aria-expanded","true"),setTimeout(this.checkAll,400)),document.onkeydown=e=>{const t=e||window.event;"Escape"===t.key&&this.panel.classList.contains("sa11y-active")&&(this.toggle.setAttribute("aria-expanded","false"),this.toggle.classList.remove("sa11y-on"),this.toggle.click(),this.resetAll()),t.altKey&&"KeyA"===t.code&&(this.toggle.click(),this.toggle.focus(),t.preventDefault())}},this.utilities=()=>{this.isElementHidden=e=>{if(e.getAttribute("hidden")||0===e.offsetWidth&&0===e.offsetHeight)return!0;return"none"===getComputedStyle(e).getPropertyValue("display")},this.isElementVisuallyHiddenOrHidden=e=>{if(e.getAttribute("hidden")||0===e.offsetWidth&&0===e.offsetHeight||1===e.clientHeight&&1===e.clientWidth)return!0;return"none"===getComputedStyle(e).getPropertyValue("display")},this.escapeHTML=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML.replaceAll('"',"&quot;").replaceAll("'","&#039;").replaceAll("`","&#x60;")},this.sanitizeHTML=e=>e.replace(/[^\w. ]/gi,(e=>`&#${e.charCodeAt(0)};`)),this.jsEscape=e=>String(e).replace(/[^\w. ]/gi,(e=>`\\u${`0000${e.charCodeAt(0).toString(16)}`.slice(-4)}`)),this.computeTextNodeWithImage=e=>{const t=this.getText(e),i=Array.from(e.querySelectorAll("img"));let n="";if(0===i.length&&t.length>1)n=t;else if(i.length&&0===t.length){const e=i[0].getAttribute("alt");e&&" "!==e&&""!==e?void 0!==e&&(n=e):n=""}else i.length&&t.length&&(i.forEach((e=>{e.insertAdjacentHTML("afterend",` <span class='sa11y-clone-image-text' aria-hidden='true'>${i[0].getAttribute("alt")}</span>`)})),n=t);return n},this.debounce=(e,t)=>{let i=null;return(...n)=>{window.clearTimeout(i),i=window.setTimeout((()=>{e(...n)}),t)}},this.fnIgnore=(e,t)=>{const i=e.cloneNode(!0);return Array.from(t?i.querySelectorAll(t):i.children).forEach((e=>{e.parentElement.removeChild(e)})),i},this.computeAriaLabel=e=>{if(e.matches("[aria-label]"))return e.getAttribute("aria-label");if(e.matches("[aria-labelledby]")){const t=e.getAttribute("aria-labelledby").split(/\s+/);if(t.length>0){let e="";return t.forEach((t=>{const i=document.querySelector(`#${t}`);null===i?e+=" ":i.hasAttribute("aria-label")?e+=`${i.getAttribute("aria-label")}`:e+=`${i.firstChild.nodeValue} `})),e}}if(Array.from(e.children).filter((e=>e.matches("[aria-label]"))).length>0){const t=Array.from(e.childNodes);let i="";return t.forEach((e=>{1===e.nodeType?3===e.nodeType||null===e.ariaLabel?i+=e.innerText:i+=e.getAttribute("aria-label"):i+=e.nodeValue})),i}if(Array.from(e.children).filter((e=>e.matches("[aria-labelledby]"))).length>0){const t=Array.from(e.childNodes);let i="";return t.forEach((e=>{if(8===e.nodeType);else if(3===e.nodeType||null===e.getAttribute("aria-labelledby"))i+=e.nodeValue;else{const t=e.getAttribute("aria-labelledby").split(/\s+/);if(t.length>0){let e="";t.forEach((t=>{null===document.querySelector(`#${t}`)?e+=" ":e+=`${document.querySelector(`#${t}`).firstChild.nodeValue} `})),i+=e}}})),i}return"noAria"},this.findVisibleParent=(e,t,i)=>{let n=e;for(;null!==n;){if(window.getComputedStyle(n).getPropertyValue(t)===i)return n;n=n.parentElement}return null},this.offsetTop=e=>{const t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i}},this.store={getItem(e){try{return null===localStorage.getItem(e)?sessionStorage.getItem(e):localStorage.getItem(e)}catch(e){return!1}},setItem(e,t){try{localStorage.setItem(e,t)}catch(i){sessionStorage.setItem(e,t)}return!0},removeItem(e){try{localStorage.removeItem(e)}catch(t){sessionStorage.removeItem(e)}return!0}},this.addPulse=e=>{const t="sa11y-pulse-border";document.querySelectorAll(`.${t}`).forEach((e=>e.classList.remove(t))),e.classList.add(t),setTimeout((()=>{e.classList.remove(t)}),2500)},this.createAlert=(e,t)=>{this.alertPanel.classList.add("sa11y-active"),this.alertText.innerHTML=e,t&&(this.alertPreview.classList.add("sa11y-panel-alert-preview"),this.alertPreview.innerHTML=t),setTimeout((()=>{this.closeAlert.focus()}),500),this.closeAlert.addEventListener("click",(()=>{this.removeAlert(),this.skipButton.focus()}))},this.removeAlert=()=>{for(this.alertPanel.classList.remove("sa11y-active"),this.alertPreview.classList.remove("sa11y-panel-alert-preview");this.alertText.firstChild;)this.alertText.removeChild(this.alertText.firstChild);for(;this.alertPreview.firstChild;)this.alertPreview.removeChild(this.alertPreview.firstChild)},this.getText=e=>e.textContent.replace(/[\n\r]+|[\s]{2,}/g," ").trim(),this.getNextSibling=(e,t)=>{let i=e.nextElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.nextElementSibling}return""},this.prepTooltip=e=>e.replaceAll(/<hr>/g,'<hr aria-hidden="true">').replaceAll(/<a[\s]href=/g,'<a target="_blank" rel="noopener noreferrer" href=').replaceAll(/<\/a>/g,`<span class="sa11y-visually-hidden"> (${ze._("NEW_TAB")})</span></a>`).replaceAll(/{r}/g,'class="sa11y-red-text"'),this.prepareDismissal=e=>String(e).substring(0,256)},this.settingsPanelToggles=()=>{this.contrastToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-contrast")?(this.store.setItem("sa11y-remember-contrast","Off"),this.contrastToggle.textContent=`${ze._("OFF")}`,this.contrastToggle.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-contrast","On"),this.contrastToggle.textContent=`${ze._("ON")}`,this.contrastToggle.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())},this.labelsToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-labels")?(this.store.setItem("sa11y-remember-labels","Off"),this.labelsToggle.textContent=`${ze._("OFF")}`,this.labelsToggle.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-labels","On"),this.labelsToggle.textContent=`${ze._("ON")}`,this.labelsToggle.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())},this.linksToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-links-advanced")?(this.store.setItem("sa11y-remember-links-advanced","Off"),this.linksToggle.textContent=`${ze._("OFF")}`,this.linksToggle.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-links-advanced","On"),this.linksToggle.textContent=`${ze._("ON")}`,this.linksToggle.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())},this.readabilityToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-readability")?(this.store.setItem("sa11y-remember-readability","Off"),this.readabilityToggle.textContent=`${ze._("OFF")}`,this.readabilityToggle.setAttribute("aria-pressed","false"),this.readabilityPanel.classList.remove("sa11y-active"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-readability","On"),this.readabilityToggle.textContent=`${ze._("ON")}`,this.readabilityToggle.setAttribute("aria-pressed","true"),this.readabilityPanel.classList.add("sa11y-active"),this.resetAll(!1),await this.checkAll())},"On"===this.store.getItem("sa11y-remember-readability")&&this.readabilityPanel.classList.add("sa11y-active");const e=window.matchMedia("(prefers-color-scheme: dark)");e.matches?(this.themeToggle.textContent=`${ze._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true")):(this.themeToggle.textContent=`${ze._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false"));e.addEventListener("change",(()=>{e.matches?(this.html.setAttribute("data-sa11y-theme","dark"),this.themeToggle.textContent=`${ze._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true"),this.store.setItem("sa11y-remember-theme","")):(this.html.setAttribute("data-sa11y-theme","light"),this.themeToggle.textContent=`${ze._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false"),this.store.setItem("sa11y-remember-theme",""))})),this.themeToggle.onclick=async()=>{const t=this.store.getItem("sa11y-remember-theme");"dark"===t?(this.html.setAttribute("data-sa11y-theme","light"),this.store.setItem("sa11y-remember-theme","light"),this.themeToggle.textContent=`${ze._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false")):"light"===t?(this.html.setAttribute("data-sa11y-theme","dark"),this.store.setItem("sa11y-remember-theme","dark"),this.themeToggle.textContent=`${ze._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true")):e.matches?(this.html.setAttribute("data-sa11y-theme","light"),this.store.setItem("sa11y-remember-theme","light"),this.themeToggle.textContent=`${ze._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false")):(this.html.setAttribute("data-sa11y-theme","dark"),this.store.setItem("sa11y-remember-theme","dark"),this.themeToggle.textContent=`${ze._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true"))};const t=this.store.getItem("sa11y-remember-theme");"dark"===t?(this.html.setAttribute("data-sa11y-theme","dark"),this.store.setItem("sa11y-remember-theme","dark"),this.themeToggle.textContent=`${ze._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true")):"light"===t&&(this.html.setAttribute("data-sa11y-theme","light"),this.store.setItem("sa11y-remember-theme","light"),this.themeToggle.textContent=`${ze._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false"))},this.skipToIssueTooltip=()=>{let e;e=-1!==navigator.userAgent.indexOf("Mac")?'<span class="sa11y-kbd">Option</span> + <span class="sa11y-kbd">S</span>':'<span class="sa11y-kbd">Alt</span> + <span class="sa11y-kbd">S</span>',Fe("#sa11y-skip-button",{content:`${ze._("SHORTCUT_TOOLTIP")} &raquo; ${e}`,allowHTML:!0,delay:[500,0],trigger:"mouseenter focusin",arrow:!0,placement:"top",theme:"sa11y-theme",maxWidth:165,aria:{content:null,expanded:!1},appendTo:document.body,zIndex:2147483645}),this.dismissTippy=Fe(this.restoreDismissButton,{delay:[500,0],trigger:"mouseenter focusin",arrow:!0,placement:"top",theme:"sa11y-theme",maxWidth:165,aria:{content:null,expanded:!1},appendTo:document.body,zIndex:2147483645})},this.detectPageChanges=()=>{if(!0===i.detectSPArouting){let e=a;const t=this.debounce((async()=>{e!==a&&("Closed"!==this.store.getItem("sa11y-remember-panel")&&this.store.getItem("sa11y-remember-panel")||(this.panelActive=!1,this.checkAll()),!0===this.panelActive&&(this.resetAll(!1),await this.checkAll()),e=window.location.pathname)}),250);window.addEventListener("mousemove",t),window.addEventListener("keydown",t)}},this.checkAll=async()=>{if(this.results=[],this.headingOutline=[],this.errorCount=0,this.warningCount=0,!1===i.headless&&(this.dismissed=this.store.getItem("sa11y-dismissed"),this.dismissed=this.dismissed?JSON.parse(this.dismissed):[],this.dismissCount=this.dismissed.filter((e=>e.href===a)).length,this.dismissCount&&this.restoreDismissButton.classList.add("sa11y-active"),this.dismissTooltip.innerText=ze.sprintf("PANEL_DISMISS_BUTTON",this.dismissCount),this.dismissTippy.setContent(ze.sprintf("PANEL_DISMISS_BUTTON",this.dismissCount))),this.findElements(),this.checkHeaders(),this.checkLinkText(),this.checkImages(),this.checkContrast(),this.checkLabels(),this.checkLinksAdvanced(),this.checkReadability(),this.checkEmbeddedContent(),this.checkQA(),i.customChecks&&i.customChecks.setSa11y&&i.customChecks.check(),!1===i.headless){const e=this.dismissed.map((e=>{const t=this.results.find((t=>e.key.includes(t.dismiss)&&e.href===a));return void 0===t?"":t}));this.results=this.results.filter((t=>!e.find((e=>e.dismiss===t.dismiss)))),this.updateCount(),!0===this.panelActive?(this.results.forEach(((e,t)=>{Object.assign(e,{id:t}),this.annotate(e.element,e.type,e.content,e.inline,e.position,e.id)})),this.initializeTooltips(),this.generatePageOutline(),this.updateStatus(),setTimeout((()=>{this.detectOverflow(),this.nudge()}),0)):(this.resetAll(),this.updateBadge())}},this.updateCount=()=>{this.results.forEach(((e,t)=>{const i=this.results[t].type;i===n?this.errorCount+=1:i===s&&(this.warningCount+=1)}))},this.resetAll=(e=!0)=>{this.panelActive=!0,this.html.removeAttribute("data-sa11y-active");["sa11y-error-border","sa11y-error-text","sa11y-warning-border","sa11y-warning-text","sa11y-good-border","sa11y-good-text","sa11y-overflow"].forEach((e=>document.querySelectorAll(`.${e}`).forEach((t=>t.classList.remove(e)))));for((e=>{e.forEach((e=>document.querySelectorAll(`[${e}]`).forEach((t=>t.removeAttribute(e)))))})(["data-sa11y-parent","data-sa11y-error","data-sa11y-warning","data-sa11y-error-inline","data-sa11y-warning-inline"]),this.readabilityInfo.innerHTML="",document.querySelectorAll("\n        .sa11y-element,\n        .sa11y-instance,\n        .sa11y-instance-inline,\n        .sa11y-heading-label,\n        #sa11y-outline-list li,\n        .sa11y-readability-period,\n        #sa11y-readability-details li,\n        .sa11y-clone-image-text\n      ").forEach((e=>e.parentNode.removeChild(e))),this.removeAlert(),document.removeEventListener("keyup",this.shortcutAltS);this.status.firstChild;)this.status.removeChild(this.status.firstChild);e&&this.panel.classList.remove("sa11y-active")},this.initializeTooltips=()=>{const e={name:"hideOnEsc",defaultValue:!0,fn({hide:e}){const t=t=>{27===t.keyCode&&e()};return{onShow(){document.addEventListener("keydown",t)},onHide(){document.removeEventListener("keydown",t)}}}},t=Fe(".sa11y-btn",{interactive:!0,trigger:"mouseenter click",arrow:!0,delay:[200,400],theme:"sa11y-theme",placement:"right-start",allowHTML:!0,aria:{content:"describedby",expanded:"auto"},appendTo:i.appendTooltips,zIndex:2147483645,plugins:[e],onShow(e){t.forEach((t=>{t!==e.popper&&t.hide()}))}})},this.dismissAnnotations=()=>{!0===i.dismissAnnotations&&(document.addEventListener("click",(async e=>{let t=JSON.parse(this.store.getItem("sa11y-dismissed"));const i=e.target;if("BUTTON"===i.tagName&&i.hasAttribute("data-sa11y-dismiss")){const e=parseInt(i.getAttribute("data-sa11y-dismiss"),10),n=this.results.find((t=>t.id===e));null===t&&(t=[]);const s={key:n.dismiss,href:a};this.store.setItem("sa11y-dismiss-item",JSON.stringify(s)),t.push(s),this.store.setItem("sa11y-dismissed",JSON.stringify(t)),this.store.removeItem("sa11y-dismiss-item"),this.restoreDismissButton.classList.add("sa11y-active"),null!==i.closest("[data-tippy-root]")&&i.closest("[data-tippy-root]").remove(),this.dismissPosition=n.id,this.resetAll(!1),await this.checkAll()}}),!1),document.addEventListener("keyup",(e=>{const t=e||window.event,i=document.querySelector("[data-sa11y-dismiss]");null!==i&&t.altKey&&"KeyD"===t.code&&i.click()}),!1),this.restoreDismissButton.onclick=async()=>{const e=this.dismissed.filter((e=>e.href!==a));this.store.setItem("sa11y-dismissed",JSON.stringify(e)),this.restoreDismissButton.classList.remove("sa11y-active"),this.dismissTippy.hide(),this.resetAll(!1),await this.checkAll()})},this.detectOverflow=()=>{document.querySelectorAll(".sa11y-btn").forEach((e=>{const t=((e,t,i)=>{let n=e;for(;null!==n;){if(window.getComputedStyle(n).getPropertyValue(t)===i)return n;n=n.parentElement}return null})(e,"overflow","hidden");null!==t&&t.classList.add("sa11y-overflow")}))},this.nudge=()=>{document.querySelectorAll(".sa11y-instance, .sa11y-instance-inline").forEach((e=>{const t=e.nextElementSibling;null!==t&&(t.classList.contains("sa11y")||t.hasAttribute("data-sa11y-error")||t.hasAttribute("data-sa11y-warning"))&&null!==t.querySelector(".sa11y-btn")&&t.querySelector(".sa11y-btn").setAttribute("style","margin: -10px -20px !important;")}))},this.updateBadge=()=>{const e=this.errorCount+this.warningCount;0===e?this.notificationBadge.style.display="none":this.warningCount>0&&0===this.errorCount?(this.notificationBadge.style.display="flex",this.notificationBadge.classList.add("sa11y-notification-badge-warning"),this.notificationCount.innerText=`${this.warningCount}`,this.notificationText.innerText=`${ze._("PANEL_ICON_WARNINGS")}`):(this.notificationBadge.style.display="flex",this.notificationBadge.classList.remove("sa11y-notification-badge-warning"),this.notificationCount.innerText=`${e}`,this.notificationText.innerText=ze._("PANEL_ICON_TOTAL"))},this.updateStatus=()=>{if(this.skipToIssue(),this.skipButton.disabled=!1,this.panel.classList.add("sa11y-active"),this.html.setAttribute("data-sa11y-active","true"),this.skipButton.setAttribute("style","display: block"),this.errorCount>0&&this.warningCount>0)this.panelContent.setAttribute("class","sa11y-errors"),this.status.innerHTML=`${ze._("ERRORS")} <span class="sa11y-panel-count sa11y-margin-right">${this.errorCount}</span> ${ze._("WARNINGS")} <span class="sa11y-panel-count" id="sa11y-warning-count">${this.warningCount}</span>`;else if(this.errorCount>0)this.panelContent.setAttribute("class","sa11y-errors"),this.status.innerHTML=`${ze._("ERRORS")} <span class="sa11y-panel-count">${this.errorCount}</span>`;else if(this.warningCount>0)this.panelContent.setAttribute("class","sa11y-warnings"),this.status.innerHTML=`${ze._("WARNINGS")} <span class="sa11y-panel-count" id="sa11y-warning-count">${this.warningCount}</span>`;else{this.dismissCount>0?(this.status.innerHTML=`${ze._("DISMISSED")} <span class="sa11y-panel-count">${this.dismissCount}</span>`,this.skipButton.setAttribute("style","display: none")):(this.panelContent.setAttribute("class","sa11y-good"),this.status.innerHTML=`${ze._("PANEL_STATUS_NONE")}`);0===document.querySelectorAll(".sa11y-btn").length&&(this.skipButton.disabled=!0)}},this.initializePanelToggles=()=>{this.outlineToggle.addEventListener("click",(()=>{"true"===this.outlineToggle.getAttribute("aria-expanded")?(this.outlineToggle.classList.remove("sa11y-outline-active"),this.outlinePanel.classList.remove("sa11y-active"),this.outlineToggle.textContent=`${ze._("SHOW_OUTLINE")}`,this.outlineToggle.setAttribute("aria-expanded","false"),this.store.setItem("sa11y-remember-outline","Closed")):(this.outlineToggle.classList.add("sa11y-outline-active"),this.outlinePanel.classList.add("sa11y-active"),this.outlineToggle.textContent=`${ze._("HIDE_OUTLINE")}`,this.outlineToggle.setAttribute("aria-expanded","true"),this.store.setItem("sa11y-remember-outline","Opened")),document.querySelector("#sa11y-outline-header > h2").focus();document.querySelectorAll(".sa11y-heading-label").forEach((e=>e.classList.toggle("sa11y-label-visible"))),this.settingsPanel.classList.remove("sa11y-active"),this.settingToggle.classList.remove("sa11y-settings-active"),this.settingToggle.setAttribute("aria-expanded","false"),this.settingToggle.textContent=`${ze._("SHOW_SETTINGS")}`,this.outlineList.clientHeight>250&&this.outlineList.setAttribute("tabindex","0")})),"Opened"===this.store.getItem("sa11y-remember-outline")&&(this.outlineToggle.classList.add("sa11y-outline-active"),this.outlinePanel.classList.add("sa11y-active"),this.outlineToggle.textContent=`${ze._("HIDE_OUTLINE")}`,this.outlineToggle.setAttribute("aria-expanded","true")),this.settingToggle.addEventListener("click",(()=>{"true"===this.settingToggle.getAttribute("aria-expanded")?(this.settingToggle.classList.remove("sa11y-settings-active"),this.settingsPanel.classList.remove("sa11y-active"),this.settingToggle.textContent=`${ze._("SHOW_SETTINGS")}`,this.settingToggle.setAttribute("aria-expanded","false")):(this.settingToggle.classList.add("sa11y-settings-active"),this.settingsPanel.classList.add("sa11y-active"),this.settingToggle.textContent=`${ze._("HIDE_SETTINGS")}`,this.settingToggle.setAttribute("aria-expanded","true")),document.querySelector("#sa11y-settings-header > h2").focus(),this.outlinePanel.classList.remove("sa11y-active"),this.outlineToggle.classList.remove("sa11y-outline-active"),this.outlineToggle.setAttribute("aria-expanded","false"),this.outlineToggle.textContent=`${ze._("SHOW_OUTLINE")}`;document.querySelectorAll(".sa11y-heading-label").forEach((e=>e.classList.remove("sa11y-label-visible"))),this.store.setItem("sa11y-remember-outline","Closed"),this.settingsContent.clientHeight>350&&(this.settingsContent.setAttribute("tabindex","0"),this.settingsContent.setAttribute("aria-label",`${ze._("SETTINGS")}`),this.settingsContent.setAttribute("role","region"))})),this.panelControls.addEventListener("keydown",(e=>{const t=document.querySelectorAll("#sa11y-outline-toggle[role=tab], #sa11y-settings-toggle[role=tab]");if("ArrowRight"===e.key)for(let i=0;i<t.length;i++)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i+1].focus(),e.preventDefault();break}if("ArrowDown"===e.key)for(let i=0;i<t.length;i++)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i+1].focus(),e.preventDefault();break}if("ArrowLeft"===e.key)for(let i=t.length-1;i>0;i--)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i-1].focus(),e.preventDefault();break}if("ArrowUp"===e.key)for(let i=t.length-1;i>0;i--)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i-1].focus(),e.preventDefault();break}}))},this.skipToIssue=()=>{document.querySelectorAll("[data-sa11y-annotation]").forEach(((e,t)=>{e.setAttribute("data-sa11y-position",t)}));const e=document.querySelectorAll("[data-sa11y-position]"),t=e.length,i=document.querySelector(`[data-sa11y-annotation="${this.dismissPosition-1}"]`);let n;if(null!==i){const e=parseInt(i.getAttribute("data-sa11y-position"),10);n=e-1}else n=-1;const s=()=>{e.forEach((e=>{const t=this.findVisibleParent(e,"display","none");if(null!==t){const e=t.previousElementSibling;e?this.addPulse(e):this.addPulse(t.parentNode)}}))},r=t=>{if(0===t.offsetTop){const i=this.findVisibleParent(t,"display","none");s();const r=e[n].getAttribute("data-tippy-content");if(this.createAlert(`${ze._("NOT_VISIBLE_ALERT")}`,r),i){const e=i.previousElementSibling,{parentNode:t}=i;return e?this.offsetTop(e).top-150:this.offsetTop(t).top-150}}return this.removeAlert(),this.skipButton.focus(),this.offsetTop(t).top-150},a=()=>{const i=document.querySelector(".sa11y-btn[aria-expanded=true]");if(i){const e=parseInt(i.getAttribute("data-sa11y-position"),10);i.click(),n=e}n+=1;const s=e[n];if(s){const e=r(s);window.scrollTo({top:e,behavior:`${this.scrollBehaviour}`}),0!==s.offsetTop&&(s.focus(),s.click())}n>=t-1&&(n=-1)},o=()=>{const t=document.querySelector(".sa11y-btn[aria-expanded=true]");if(t){const e=parseInt(t.getAttribute("data-sa11y-position"),10);t.click(),n=e}n=Math.max(0,n-=1);const i=e[n];if(i){const e=r(i);window.scrollTo({top:e,behavior:`${this.scrollBehaviour}`}),0!==i.offsetTop&&(i.focus(),i.click())}};this.shortcutAltS=e=>{e.preventDefault(),t&&e.altKey&&("Period"===e.code||"KeyS"===e.code)?a():t&&e.altKey&&("Comma"===e.code||"KeyW"===e.code)&&o()},document.addEventListener("keyup",this.shortcutAltS,!1),this.skipButton.addEventListener("click",a,!1)},this.findElements=()=>{const e=(e,t,n)=>{let s;"document"===n?s=document:"readability"===n?s=document.querySelector(i.readabilityRoot):(s=document.querySelector(i.checkRoot),this.root=s),s||(s=document.body,this.root=document.body,this.createAlert(`${ze.sprintf("ERROR_MISSING_ROOT_TARGET",i.checkRoot)}`));const r=Array.from(document.querySelectorAll(t));return Array.from(s.querySelectorAll(e)).filter((e=>!r.includes(e)))};this.contrast=e("*",this.contrastIgnore),this.images=e("img",this.imageIgnore),this.headings=e('h1, h2, h3, h4, h5, h6, [role="heading"][aria-level]',this.headerIgnore),this.headingOne=e('h1, [role="heading"][aria-level="1"]',this.headerIgnore,"document"),this.links=e("a[href]",this.linkIgnore),this.readability=e("p, li",this.readabilityIgnore,"readability"),this.paragraphs=e("p",this.containerIgnore),this.lists=e("li",this.containerIgnore),this.spans=e("span",this.containerIgnore),this.blockquotes=e("blockquote",this.containerIgnore),this.tables=e('table:not([role="presentation"])',this.containerIgnore),this.pdf=e('a[href$=".pdf"]',this.containerIgnore),this.strongitalics=e("strong, em",this.containerIgnore),this.inputs=e("input, select, textarea",this.containerIgnore),this.ids=e("[id]",this.containerIgnore,"document"),this.underlines=e("u",this.containerIgnore),this.subscripts=e("sup, sub",this.containerIgnore),this.labels=e("label",this.containerIgnore),this.language=this.html.getAttribute("lang"),this.customErrorLinks=i.linksToFlag?e(i.linksToFlag,this.containerIgnore):[],this.iframes=e("iframe, audio, video",this.containerIgnore),this.videos=this.iframes.filter((e=>e.matches(i.videoContent))),this.audio=this.iframes.filter((e=>e.matches(i.audioContent))),this.datavisualizations=this.iframes.filter((e=>e.matches(i.dataVizContent))),this.embeddedContent=this.iframes.filter((e=>!e.matches(i.embeddedContent)))},this.generatePageOutline=()=>{if(0===this.headingOne.length){const e=`\n          <div class="sa11y-instance sa11y-missing-h1">\n            <span class="sa11y-badge sa11y-error-badge"><span aria-hidden="true">!</span><span class="sa11y-visually-hidden">${n}</span></span>\n            <span class='sa11y-red-text sa11y-bold'>${ze._("PANEL_HEADING_MISSING_ONE")}</span>\n          </div>`;this.outlineHeader.insertAdjacentHTML("afterend",e)}const e=[];this.dismissed.map((e=>{const t=this.headingOutline.find((t=>e.key.includes(t.dismiss)&&e.href===a));return void 0===t?"":t})).forEach((e=>{Object.assign(e,{dismissedHeading:!0})})),this.headingOutline.forEach((t=>{const r=t.element,a=t.headingLevel,o=t.text,l=t.index,c=t.type,d=t.hidden,u=t.visibleParent,h=t.dismissedHeading;let p=[];if(i.outlineIgnore&&(p=Array.from(document.querySelectorAll(this.outlineIgnore))),!p.includes(r)){const t=!0===d?'<span class="sa11y-hidden-icon"></span><span class="sa11y-visually-hidden">Hidden</span>':"",i=!0===d?'class="sa11y-hidden-h"':"";let r;c===n?(r=`\n            <li class="sa11y-outline-${a}">\n              <a role="button" id="sa11y-link-${l}" tabindex="-1" ${i}>\n                <span class="sa11y-badge sa11y-error-badge">\n                <span aria-hidden="true">${t} &#33;</span>\n                <span class="sa11y-visually-hidden">${ze._("ERROR")}</span> ${a}</span>\n                <strong class="sa11y-outline-list-item sa11y-red-text">${o}</strong>\n              </a>\n            </li>`,e.push(r)):c!==s||h?(r=`\n            <li class="sa11y-outline-${a}">\n              <a role="button" id="sa11y-link-${l}" tabindex="-1" ${i}>\n                <span class="sa11y-badge">${t} ${a}</span>\n                <span class="sa11y-outline-list-item">${o}</span>\n              </a>\n            </li>`,e.push(r)):(r=`\n            <li class="sa11y-outline-${a}">\n              <a role="button" id="sa11y-link-${l}" tabindex="-1" ${i}>\n                <span class="sa11y-badge sa11y-warning-badge">\n                <span aria-hidden="true">${t} &#x3f;</span>\n                <span class="sa11y-visually-hidden">${ze._("WARNING")}</span> ${a}</span>\n                <strong class="sa11y-outline-list-item sa11y-yellow-text">${o}</strong>\n              </a>\n            </li>`,e.push(r))}const f=document.createElement("span");if(f.classList.add("sa11y-heading-label"),f.innerHTML=`H${a}`,null!==u){r.insertAdjacentElement("beforeend",f);const e=u.previousElementSibling,t=`<span class="sa11y-element" id="sa11y-h${l}"></span>`;e?(e.insertAdjacentHTML("beforebegin",t),e.setAttribute("data-sa11y-parent",`h${l}`)):(u.parentNode.insertAdjacentHTML("beforebegin",t),u.parentNode.setAttribute("data-sa11y-parent",`h${l}`))}else f.setAttribute("id",`sa11y-h${l}`),r.insertAdjacentElement("beforeend",f);"Opened"===this.store.getItem("sa11y-remember-outline")&&f.classList.add("sa11y-label-visible")})),this.outlineList.innerHTML=e.join(" "),setTimeout((()=>{const e=Array.from(this.outlineList.querySelectorAll("a"));e.forEach(((e,t)=>{const i=document.getElementById(`sa11y-link-${t}`),n=document.getElementById(`sa11y-h${t}`),s=n.parentElement,r=document.querySelector(`[data-sa11y-parent="h${t}"]`),a=()=>n.scrollIntoView({behavior:`${this.scrollBehaviour}`,block:"center"}),o=()=>null!==r?this.addPulse(r):this.addPulse(s),l=e=>{("keyup"===e.type&&"Enter"===e.code||"click"===e.type)&&(a(),o(),i.classList.contains("sa11y-hidden-h")?this.createAlert(`${ze._("HEADING_NOT_VISIBLE_ALERT")}`):this.alertPanel.classList.contains("sa11y-active")&&this.removeAlert()),e.preventDefault()};i.addEventListener("click",l,!1),i.addEventListener("keyup",l,!1)}));let t=0;const i=i=>{if(!["ArrowUp","ArrowDown","Space"].includes(i.code))return;if("Space"===i.code)return void e[t].click();let n;e[t].setAttribute("tabindex",-1),"ArrowDown"===i.code?(n=t+1,t===e.length-1&&(n=0)):"ArrowUp"===i.code&&(n=t-1,0===t&&(n=e.length-1)),e[n].setAttribute("tabindex",0),e[n].focus(),t=n,i.preventDefault()};this.outlineList.addEventListener("focus",(()=>{e.length>0&&(this.outlineList.setAttribute("tabindex",-1),e[t].setAttribute("tabindex",0),e[t].focus()),this.outlineList.addEventListener("keydown",i)})),this.outlineList.addEventListener("blur",(()=>{this.outlineList.removeEventListener("keydown",i)}))}),0)},this.annotate=(e,t,a,o=!1,l,c)=>{const d=[n,s,r];if(-1===d.indexOf(t))throw Error(`Invalid type [${t}] for annotation`);[t].forEach((t=>{if(t===n&&void 0!==e){const t=o?"data-sa11y-error-inline":"data-sa11y-error";e.setAttribute(t,c)}else if(t===s){const t=o?"data-sa11y-warning-inline":"data-sa11y-warning";e.setAttribute(t,c)}}));const u={[d[0]]:"error",[d[1]]:"warning",[d[2]]:"good"};let h=a;h=this.prepTooltip(h);const p=!0===i.dismissAnnotations&&"warning"===u[t]?`<button data-sa11y-dismiss='${c}' type='button'>${ze._("DISMISS")}</button>`:"",f=document.createElement("div");if(void 0===e)f.setAttribute("class",`sa11y-instance sa11y-${u[t]}-message-container`),f.innerHTML=`\n          <div role="region" data-sa11y-annotation="${c}" tabindex="-1" aria-label="${[t]}" class="sa11y-${u[t]}-message" lang="${ze._("LANG_CODE")}">\n            ${h}\n          </div>\n        `,document.body.insertAdjacentElement("afterbegin",f);else{f.classList.add(""+(o?"sa11y-instance-inline":"sa11y-instance")),f.innerHTML=`\n        <button data-sa11y-annotation="${c}" type="button" aria-label="${[t]}" class="sa11y-btn sa11y-${u[t]}-btn${o?"-text":""}" data-tippy-content="\n            <div lang='${ze._("LANG_CODE")}'>\n              <div class='sa11y-header-text'>${[t]}</div>\n                ${this.escapeHTML(h)}\n              </div>\n            ${p}">\n          </button>\n        `;let i=e.closest("a, button");i||(i=e),i.insertAdjacentElement(l,f)}},this.checkHeaders=()=>{let e;this.headings.forEach(((t,r)=>{const a=this.computeTextNodeWithImage(t),o=this.sanitizeHTML(a);let l;l=t.getAttribute("aria-level")?+t.getAttribute("aria-level"):+t.tagName.slice(1),l=parseInt(l,10);const c=o.length;let d=null,u=null;if(l-e>1&&0!==r)if(!0===i.nonConsecutiveHeadingIsError)d=ze.sprintf("HEADING_NON_CONSECUTIVE_LEVEL",e,l),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"});else{u=ze.sprintf("HEADING_NON_CONSECUTIVE_LEVEL",e,l);const i=this.prepareDismissal(l+o);this.results.push({element:t,type:s,content:u,inline:!1,position:"beforebegin",dismiss:i})}else if(0===c)if(t.querySelectorAll("img").length){const e=t.querySelector("img").getAttribute("alt");null!==e&&" "!==e&&""!==e||(d=ze.sprintf("HEADING_EMPTY_WITH_IMAGE",l),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"}))}else d=ze.sprintf("HEADING_EMPTY",l),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"});else if(0===r&&1!==l&&2!==l)d=ze._("HEADING_FIRST"),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"});else if(c>170&&!0===i.flagLongHeadings){u=ze.sprintf("HEADING_LONG",c);const e=this.prepareDismissal(l+o);this.results.push({element:t,type:s,content:u,inline:!1,position:"beforebegin",dismiss:e})}e=l;const h=this.isElementVisuallyHiddenOrHidden(t),p=this.findVisibleParent(t,"display","none");if(null!==d)this.headingOutline.push({element:t,headingLevel:l,text:o,index:r,type:n,hidden:h,visibleParent:p});else if(null!==u){const e=this.prepareDismissal(l+o);this.headingOutline.push({element:t,headingLevel:l,text:o,index:r,type:s,hidden:h,visibleParent:p,dismiss:e})}else null!==d&&null!==u||this.headingOutline.push({element:t,headingLevel:l,text:o,index:r,hidden:h,visibleParent:p})})),0===this.headingOne.length&&this.results.push({type:n,content:ze._("HEADING_MISSING_ONE")})},this.checkLinkText=()=>{this.links.forEach((e=>{let t=this.computeAriaLabel(e);const a=e.getAttribute("aria-labelledby"),o=e.getAttribute("aria-label");let l=null,c=null;const d=e.getAttribute("title");if(e.children.length){const t=e.children[0];l=t.getAttribute("aria-labelledby"),c=t.getAttribute("aria-label")}if("noAria"===t){t=this.getText(e);const i=e.querySelector("img");if(i){const e=this.computeAriaLabel(i);t+="noAria"!==e?e:i&&i.getAttribute("alt")||""}}const u=(e=>{const t=[null,null,null];return ze._("PARTIAL_ALT_STOPWORDS").forEach((i=>(e.length===i.length&&e.toLowerCase().indexOf(i)>=0&&(t[0]=i),!1))),ze._("WARNING_ALT_STOPWORDS").forEach((i=>(e.toLowerCase().indexOf(i)>=0&&(t[1]=i),!1))),["http",".asp",".htm",".php",".edu/",".com/",".net/",".org/",".us/",".ca/",".de/",".icu/",".uk/",".ru/",".info/",".top/",".xyz/",".tk/",".cn/",".ga/",".cf/",".nl/",".io/",".fr/",".pe/",".nz/",".pt/",".es/",".pl/",".ua/"].forEach((i=>(e.toLowerCase().indexOf(i)>=0&&(t[2]=i),!1))),t})(this.fnIgnore(e,i.linkIgnoreSpan).textContent.replace(/[!*?]/g,"").trim());if(e.querySelectorAll("img").length);else if(e.getAttribute("href")&&!t)e&&d||(e.children.length?this.results.push({element:e,type:n,content:ze._("LINK_EMPTY_LINK_NO_LABEL"),inline:!0,position:"afterend"}):this.results.push({element:e,type:n,content:ze._("LINK_EMPTY"),inline:!0,position:"afterend"}));else if(null!=u[0])a||o||l||c?!0===i.showGoodLinkButton&&this.results.push({element:e,type:r,content:ze.sprintf("LINK_LABEL",t),inline:!0,position:"afterend"}):"true"===e.getAttribute("aria-hidden")&&"-1"===e.getAttribute("tabindex")||this.results.push({element:e,type:n,content:ze.sprintf("LINK_STOPWORD",u[0]),inline:!0,position:"afterend"});else if(null!=u[1]){const i=this.prepareDismissal(`link: ${t} ${u[1]}`);this.results.push({element:e,type:s,content:ze.sprintf("LINK_BEST_PRACTICES",u[1]),inline:!0,position:"beforebegin",dismiss:i})}else if(null!=u[2]){const i=this.prepareDismissal(`link: ${t} ${u[2]}`);t.length>40&&this.results.push({element:e,type:s,content:ze._("LINK_URL"),inline:!0,position:"beforebegin",dismiss:i})}else(a||o||l||c)&&!0===i.showGoodLinkButton&&this.results.push({element:e,type:r,content:ze.sprintf("LINK_LABEL",t),inline:!0,position:"afterend"})}))},this.checkLinksAdvanced=()=>{if(!0===i.linksAdvancedPlugin){if("On"===this.store.getItem("sa11y-remember-links-advanced")){const e={};this.links.forEach((t=>{let i=this.computeAriaLabel(t);const n=t.querySelector("img");if("noAria"===i&&(i=this.getText(t),n)){const e=this.computeAriaLabel(n);i+="noAria"!==e?e:n&&n.getAttribute("alt")||""}const r=i.replace(/'|"|-|\.|\s+/g,"").toLowerCase(),a=t.getAttribute("href");if(0!==i.length)if(e[r]&&0!==r.length)if(e[a]);else{const e=this.prepareDismissal(`link: ${r}`);this.results.push({element:t,type:s,content:ze.sprintf("LINK_IDENTICAL_NAME",i),inline:!0,position:"beforebegin",dismiss:e})}else e[r]=!0,e[a]=!0;const o=ze._("NEW_WINDOW_PHRASES").some((e=>(0===i.trim().length&&t.getAttribute("title")&&(i=t.getAttribute("title")),i.toLowerCase().indexOf(e)>=0))),l=ze._("FILE_TYPE_PHRASES").some((e=>i.toLowerCase().indexOf(e)>=0)),c=t.matches("\n              a[href$='.pdf'],\n              a[href$='.doc'],\n              a[href$='.docx'],\n              a[href$='.zip'],\n              a[href$='.mp3'],\n              a[href$='.txt'],\n              a[href$='.exe'],\n              a[href$='.dmg'],\n              a[href$='.rtf'],\n              a[href$='.pptx'],\n              a[href$='.ppt'],\n              a[href$='.xls'],\n              a[href$='.xlsx'],\n              a[href$='.csv'],\n              a[href$='.mp4'],\n              a[href$='.mov'],\n              a[href$='.avi']\n            ");if(0!==r.length&&"_blank"===t.getAttribute("target")&&!c&&!o){const e=this.prepareDismissal(`link: ${r}`);this.results.push({element:t,type:s,content:ze._("NEW_TAB_WARNING"),inline:!0,position:"beforebegin",dismiss:e})}if(0!==r.length&&c&&!l){const e=this.prepareDismissal(`link: ${r}`);this.results.push({element:t,type:s,content:ze._("FILE_TYPE_WARNING"),inline:!0,position:"beforebegin",dismiss:e})}}))}}else this.linksAdvacedItem.setAttribute("style","display: none !important;"),this.store.setItem("sa11y-remember-links-advanced","Off")},this.checkImages=()=>{this.containsAltTextStopWords=e=>{const t=[null,null,null];return[".png",".jpg",".jpeg",".webp",".gif",".tiff",".svg"].forEach((i=>{e.toLowerCase().indexOf(i)>=0&&(t[0]=i)})),ze._("SUSPICIOUS_ALT_STOPWORDS").forEach((i=>{e.toLowerCase().indexOf(i)>=0&&(t[1]=i)})),ze._("PLACEHOLDER_ALT_STOPWORDS").forEach((i=>{e.length===i.length&&e.toLowerCase().indexOf(i)>=0&&(t[2]=i)})),t},this.images.forEach((e=>{const t=e.getAttribute("alt");if(null===t)e.closest("a[href]")?this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1?this.results.push({element:e,type:n,content:ze._("MISSING_ALT_LINK_BUT_HAS_TEXT_MESSAGE"),inline:!1,position:"beforebegin"}):0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length&&this.results.push({element:e,type:n,content:ze._("MISSING_ALT_LINK_MESSAGE"),inline:!1,position:"beforebegin"}):this.results.push({element:e,type:n,content:ze._("MISSING_ALT_MESSAGE"),inline:!1,position:"beforebegin"});else{const i=this.sanitizeHTML(t),a=this.containsAltTextStopWords(i),o=t.length,l=e.getAttribute("src").split("?")[0];if(e.closest("a[href]")&&"-1"===e.closest("a[href]").getAttribute("tabindex")&&"true"===e.closest("a[href]").getAttribute("aria-hidden"));else if(null!==a[0]&&e.closest("a[href]"))this.results.push({element:e,type:n,content:ze.sprintf("LINK_IMAGE_BAD_ALT_MESSAGE",a[0],i),inline:!1,position:"beforebegin"});else if(null!==a[2]&&e.closest("a[href]"))this.results.push({element:e,type:n,content:ze.sprintf("LINK_IMAGE_PLACEHOLDER_ALT_MESSAGE",i),inline:!1,position:"beforebegin"});else if(null!==a[1]&&e.closest("a[href]")){const t=this.prepareDismissal(`link: ${l} ${i} ${a[1]}`);this.results.push({element:e,type:s,content:ze.sprintf("LINK_IMAGE_SUS_ALT_MESSAGE",a[1],i),inline:!1,position:"beforebegin",dismiss:t})}else if(null!==a[0])this.results.push({element:e,type:n,content:ze.sprintf("LINK_ALT_HAS_BAD_WORD_MESSAGE",a[0],i),inline:!1,position:"beforebegin"});else if(null!==a[2])this.results.push({element:e,type:n,content:ze.sprintf("ALT_PLACEHOLDER_MESSAGE",i),inline:!1,position:"beforebegin"});else if(null!==a[1]){const t=this.prepareDismissal(l+i+a[1]);this.results.push({element:e,type:s,content:ze.sprintf("ALT_HAS_SUS_WORD",a[1],i),inline:!1,position:"beforebegin",dismiss:t})}else if(""!==t&&" "!==t||!e.closest("a[href]")){if(t.length>250&&e.closest("a[href]")){const n=this.prepareDismissal(l+i+t.length);this.results.push({element:e,type:s,content:ze.sprintf("LINK_IMAGE_LONG_ALT",o,i),inline:!1,position:"beforebegin",dismiss:n})}else if(""!==t&&e.closest("a[href]")&&0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length){const t=this.prepareDismissal(`image link: ${l} ${i}`);this.results.push({element:e,type:s,content:ze.sprintf("LINK_IMAGE_ALT_WARNING",i),inline:!1,position:"beforebegin",dismiss:t})}else if(""!==t&&e.closest("a[href]")&&this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1){const t=this.prepareDismissal(`image link: ${l} ${i}`);this.results.push({element:e,type:s,content:ze.sprintf("LINK_IMAGE_ALT_AND_TEXT_WARNING",i),inline:!1,position:"beforebegin",dismiss:t})}else if(""===t||" "===t)if(e.closest("figure")){const t=e.closest("figure").querySelector("figcaption");if(null!==t&&t.textContent.trim().length>=1){const t=this.prepareDismissal(`decorative: ${l}`);this.results.push({element:e,type:s,content:ze._("IMAGE_FIGURE_DECORATIVE"),inline:!1,position:"beforebegin",dismiss:t})}else{const t=this.prepareDismissal(`decorative: ${l}`);this.results.push({element:e,type:s,content:ze._("IMAGE_DECORATIVE"),inline:!1,position:"beforebegin",dismiss:t})}}else{const t=this.prepareDismissal(`decorative: ${l}`);this.results.push({element:e,type:s,content:ze._("IMAGE_DECORATIVE"),inline:!1,position:"beforebegin",dismiss:t})}else if(t.length>250){const n=this.prepareDismissal(l+i+t.length);this.results.push({element:e,type:s,content:ze.sprintf("IMAGE_ALT_TOO_LONG",o,i),inline:!1,position:"beforebegin",dismiss:n})}else if(""!==t)if(e.closest("figure")){const t=e.closest("figure").querySelector("figcaption");if(t&&t.textContent.trim().toLowerCase()===i.trim().toLowerCase()){const t=this.prepareDismissal(`figure: ${l} ${i}`);this.results.push({element:e,type:s,content:ze.sprintf("IMAGE_FIGURE_DUPLICATE_ALT",i),inline:!1,position:"beforebegin",dismiss:t})}else this.results.push({element:e,type:r,content:ze.sprintf("IMAGE_PASS",i),inline:!1,position:"beforebegin"})}else this.results.push({element:e,type:r,content:ze.sprintf("IMAGE_PASS",i),inline:!1,position:"beforebegin"})}else"-1"===e.closest("a[href]").getAttribute("tabindex")&&"true"===e.closest("a[href]").getAttribute("aria-hidden")||("true"===e.closest("a[href]").getAttribute("aria-hidden")?this.results.push({element:e,type:n,content:ze._("LINK_IMAGE_ARIA_HIDDEN"),inline:!1,position:"beforebegin"}):0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length?this.results.push({element:e,type:n,content:ze._("LINK_IMAGE_NO_ALT_TEXT"),inline:!1,position:"beforebegin"}):this.results.push({element:e,type:r,content:ze._("LINK_IMAGE_HAS_TEXT"),inline:!1,position:"beforebegin"}))}}))},this.checkLabels=()=>{!0===i.formLabelsPlugin?"On"===this.store.getItem("sa11y-remember-labels")&&this.inputs.forEach((e=>{if(!0!==this.isElementHidden(e)){let t=this.computeAriaLabel(e);const i=e.getAttribute("type"),r=e.getAttribute("tabindex");if("submit"===i||"button"===i||"hidden"===i||"-1"===r);else if("image"===i){const t=e.getAttribute("alt");t&&" "!==t||e.getAttribute("aria-label")||this.results.push({element:e,type:n,content:ze._("LABELS_MISSING_IMAGE_INPUT_MESSAGE"),inline:!1,position:"beforebegin"})}else if("reset"===i){const i=this.prepareDismissal(`input: ${t}`);this.results.push({element:e,type:s,content:ze._("LABELS_INPUT_RESET_MESSAGE"),inline:!1,position:"beforebegin",dismiss:i})}else if(e.getAttribute("aria-label")||e.getAttribute("aria-labelledby")||e.getAttribute("title"))if(e.getAttribute("title")){t=e.getAttribute("title");const i=this.prepareDismissal(`input: ${t}`);this.results.push({element:e,type:s,content:ze.sprintf("LABELS_ARIA_LABEL_INPUT_MESSAGE",t),inline:!1,position:"beforebegin",dismiss:i})}else{const i=this.prepareDismissal(`input: ${t}`);this.results.push({element:e,type:s,content:ze.sprintf("LABELS_ARIA_LABEL_INPUT_MESSAGE",t),inline:!1,position:"beforebegin",dismiss:i})}else if(e.closest("label")&&e.closest("label").textContent.trim());else if(e.getAttribute("id")){let t=!1;if(this.labels.forEach((i=>{t||i.getAttribute("for")===e.getAttribute("id")&&(t=!0)})),!t){const t=e.getAttribute("id");this.results.push({element:e,type:n,content:ze.sprintf("LABELS_NO_FOR_ATTRIBUTE_MESSAGE",t),inline:!1,position:"beforebegin"})}}else this.results.push({element:e,type:n,content:ze._("LABELS_MISSING_LABEL_MESSAGE"),inline:!1,position:"beforebegin"})}})):(this.formLabelsItem.setAttribute("style","display: none !important;"),this.store.setItem("sa11y-remember-labels","Off"))},this.checkEmbeddedContent=()=>{!0===i.embeddedContentAll&&(!0===i.embeddedContentAudio&&this.audio.forEach((e=>{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:ze._("EMBED_AUDIO"),inline:!1,position:"beforebegin",dismiss:t})})),!0===i.embeddedContentVideo&&this.videos.forEach((e=>{const t=e.getElementsByTagName("TRACK");if("VIDEO"===e.tagName&&t.length);else{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:ze._("EMBED_VIDEO"),inline:!1,position:"beforebegin",dismiss:t})}})),!0===i.embeddedContentDataViz&&this.datavisualizations.forEach((e=>{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:ze._("EMBED_DATA_VIZ"),inline:!1,position:"beforebegin",dismiss:t})})),!0===i.embeddedContentTitles&&this.iframes.forEach((e=>{"VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||null!==e.getAttribute("title")&&""!==e.getAttribute("title")||null!==e.getAttribute("aria-label")&&""!==e.getAttribute("aria-label")||null===e.getAttribute("aria-labelledby")&&(e.classList.contains("sa11y-warning-border")&&e.classList.remove("sa11y-warning-border"),this.results.push({element:e,type:n,content:ze._("EMBED_MISSING_TITLE"),inline:!1,position:"beforebegin"}))})),!0===i.embeddedContentGeneral&&this.embeddedContent.forEach((e=>{if("VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||"-1"===e.getAttribute("tabindex"));else{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:ze._("EMBED_GENERAL_WARNING"),inline:!1,position:"beforebegin",dismiss:t})}})))},this.checkQA=()=>{if(!0===i.badLinksQA&&this.customErrorLinks.forEach((e=>{this.results.push({element:e,type:n,content:ze.sprintf("QA_BAD_LINK",e),inline:!0,position:"beforebegin"})})),!0===i.strongItalicsQA&&this.strongitalics.forEach((e=>{const t=e.textContent.trim().length,i=this.prepareDismissal(e.tagName+e.textContent);t>400&&this.results.push({element:e.parentNode,type:s,content:ze._("QA_BAD_ITALICS"),inline:!1,position:"beforebegin",dismiss:i})})),!0===i.pdfQA&&this.pdf.forEach(((e,t)=>{const i=this.pdf.length,n=e.getAttribute("href"),r=this.prepareDismissal(`pdf: ${n}`);i&&void 0!==this.dismissed&&!this.dismissed.filter((e=>e.key===r)).length&&e.setAttribute("data-sa11y-warning-inline","pdf"),e&&0===t&&this.results.push({element:e,type:s,content:ze.sprintf("QA_PDF",i),inline:!0,position:"beforebegin",dismiss:r})})),!0===i.langQA&&(!this.language||this.language.length<2)&&this.results.push({type:n,content:ze._("QA_PAGE_LANGUAGE")}),!0===i.blockquotesQA&&this.blockquotes.forEach((e=>{const t=e.textContent;if(t.trim().length<25){const i=this.prepareDismissal(`${e.tagName}: ${t}`);this.results.push({element:e,type:s,content:ze.sprintf("QA_BLOCKQUOTE_MESSAGE",t),inline:!1,position:"beforebegin",dismiss:i})}})),!0===i.tablesQA&&this.tables.forEach((e=>{const t=e.querySelectorAll("th"),i=e.querySelectorAll("h1, h2, h3, h4, h5, h6");0===t.length&&this.results.push({element:e,type:n,content:ze._("TABLES_MISSING_HEADINGS"),inline:!1,position:"beforebegin"}),i.length>0&&i.forEach((e=>{this.results.push({element:e,type:n,content:ze._("TABLES_SEMANTIC_HEADING"),inline:!1,position:"beforebegin"})})),t.forEach((e=>{0===e.textContent.trim().length&&this.results.push({element:e,type:n,content:ze._("TABLES_EMPTY_HEADING"),inline:!1,position:"afterbegin"})}))})),!0===i.fakeHeadingsQA&&this.paragraphs.forEach((e=>{const t=e.innerHTML.indexOf("</strong><br>"),i=e.innerHTML.indexOf("<br></strong>"),n='h1, h2, h3, h4, h5, h6, [role="heading"][aria-level], blockquote',r=n.concat(", table"),a=this.getText(e);let o;if(e&&a.length>=300){const{firstChild:n}=e;if("STRONG"===n.tagName&&(-1!==i||-1!==t)){o=this.getText(n);const t=null!==o.match(/[.;?!"]/);if(!/[*]$/.test(o)&&!e.closest(r)&&o.length>=4&&o.length<=120&&!1===t){const e=this.prepareDismissal(`bold: ${o}`);this.results.push({element:n,type:s,content:ze.sprintf("QA_FAKE_HEADING",o),inline:!1,position:"beforebegin",dismiss:e})}}}if(/^<(strong)>.+<\/\1>$/.test(e.innerHTML.trim())){o=a;const t=e.previousElementSibling,i=null!==o.match(/[.;?!"]/);if(null!==t&&t.matches(n));else if(!/[*]$/.test(o)&&o.length>=4&&o.length<=120&&!e.closest(r)&&!1===i){const t=this.prepareDismissal(`bold: ${o}`);this.results.push({element:e,type:s,content:ze.sprintf("QA_FAKE_HEADING",o),inline:!1,position:"beforebegin",dismiss:t})}}(e=>{const t=getComputedStyle(e).fontSize.replace("px",""),i='h1, h2, h3, h4, h5, h6, [role="heading"][aria-level], blockquote',n=this.getText(e),r=e.previousElementSibling,a=null!==n.match(/[.;?!"]/);if(null!==r&&r.matches(i));else if(t>=24&&!e.closest(i)&&n.length>=4&&n.length<=120&&!1===a){const t=this.prepareDismissal(`bold: ${n}`);this.results.push({element:e,type:s,content:ze.sprintf("QA_FAKE_HEADING",n),inline:!1,position:"beforebegin",dismiss:t})}})(e)})),!0===i.fakeListQA&&this.paragraphs.forEach((e=>{let t="";const i={b:"a",B:"A",2:"1","":"","":""},n=e=>e.replace(/^b|^B|^|^|^2/,(e=>i[e]));let r=!1;const a=e.textContent.substring(0,2);if(a.trim().length>0&&a!==t&&a.match(/a\.|a\)|A\.|A\)|\.|\)|\.|\)|1\.|1\)|\*\s|-\s|--|\s|\s|\s|\s|\s|\s|\s|\s|\s|\s/)){const i=e.innerHTML.indexOf("<br>");if(-1!==i){a===n(e.innerHTML.substring(i+4).trim().substring(0,2))&&(r=!0)}if(!r){if(this.getNextSibling(e,"p")){a===n(e.nextElementSibling.textContent.substring(0,2))&&(r=!0)}}if(r){const i=this.prepareDismissal(`list: ${e.textContent}`);this.results.push({element:e,type:s,content:ze.sprintf("QA_SHOULD_BE_LIST",a),inline:!1,position:"beforebegin",dismiss:i}),t=a}else t=""}else t=""})),!0===i.allCapsQA){const e=e=>{let t="";"LI"===e.tagName?e.childNodes.forEach((e=>{3===e.nodeType&&(t+=e.textContent)})):t=this.getText(e);const i=t.match(/([A-Z]{2,}[ ])([A-Z]{2,}[ ])([A-Z]{2,}[ ])([A-Z]{2,})/g);if(i&&i[0].length>10){const i=this.prepareDismissal(`uppercase: ${t}`);this.results.push({element:e,type:s,content:ze._("QA_UPPERCASE_WARNING"),inline:!1,position:"beforebegin",dismiss:i})}};this.paragraphs.forEach((t=>e(t))),this.headings.forEach((t=>e(t))),this.lists.forEach((t=>e(t))),this.blockquotes.forEach((t=>e(t)))}if(!0===i.duplicateIdQA){const e={};this.ids.forEach((t=>{const{id:i}=t;i&&(void 0===e[i]?e[i]=1:this.results.push({element:t,type:n,content:ze.sprintf("QA_DUPLICATE_ID",i),inline:!0,position:"beforebegin"}))}))}if(!0===i.underlinedTextQA){this.underlines.forEach((e=>{const t=this.getText(e),i=this.prepareDismissal(`underline: ${t}`);this.results.push({element:e,type:s,content:ze._("QA_TEXT_UNDERLINE_WARNING"),inline:!0,position:"beforebegin",dismiss:i})}));const e=e=>{const t=getComputedStyle(e).textDecorationLine,i=this.getText(e);if("underline"===t){const t=this.prepareDismissal(`underline: ${i}`);this.results.push({element:e,type:s,content:ze._("QA_TEXT_UNDERLINE_WARNING"),inline:!1,position:"beforebegin",dismiss:t})}};this.paragraphs.forEach((t=>e(t))),this.headings.forEach((t=>e(t))),this.lists.forEach((t=>e(t))),this.blockquotes.forEach((t=>e(t))),this.spans.forEach((t=>e(t)))}if(!0===i.pageTitleQA){const e=document.querySelector("title");e&&0!==e.textContent.trim().length||this.results.push({type:n,content:ze._("QA_PAGE_TITLE")})}!0===i.subscriptQA&&this.subscripts.forEach((e=>{const t=this.getText(e);if(t.length>=80){const i=this.prepareDismissal(`${e.tagName} ${t}`);this.results.push({element:e,type:s,content:ze._("QA_SUBSCRIPT_WARNING"),inline:!0,position:"beforebegin",dismiss:i})}}))},this.checkContrast=()=>{if(!0===i.contrastPlugin){if("On"===this.store.getItem("sa11y-remember-contrast")){let e={errors:[],warnings:[]};const t=this.contrast,i={parseRgb(e){let t,i,n,s,r;if(i=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(n=i.slice(1,4),t=s=0;s<=2;t=++s)n[t]=+n[t];n[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(n=i.slice(1,5),t=r=0;r<=3;t=++r)n[t]=+n[t];return n},relativeLuminance(e){const t=[];for(let i=0;i<3;i++){const n=e[i]/255;t.push(n<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrastRatio(e,t){const n=i.relativeLuminance(i.parseRgb(e)),s=i.relativeLuminance(i.parseRgb(t));return(Math.max(n,s)+.05)/(Math.min(n,s)+.05)},getBackground(e){const t=getComputedStyle(e),n=t.backgroundColor,s=t.backgroundImage,r=`${i.parseRgb(n)}`.split(",");return r[3]<1&&r[3]>0?"alpha":"rgba(0, 0, 0, 0)"!==n&&"transparent"!==n&&"none"===s&&"0"!==r[3]?n:"none"!==s?"image":"HTML"===e.tagName?"rgb(255, 255, 255)":i.getBackground(e.parentNode)},check(){e={errors:[],warnings:[]};for(let n=0;n<t.length;n++){const s=t[n];if(i){const t=getComputedStyle(s),{color:n}=t,{fill:r}=t,a=parseInt(t.fontSize,10)*(3/4),{fontWeight:o}=t,l=s.tagName,c=i.getBackground(s),d=[].reduce.call(s.childNodes,((e,t)=>e+(3===t.nodeType?t.textContent:"")),"").trim(),u=window.getComputedStyle(s).clip.replace(/\s/g,""),h=parseFloat(window.getComputedStyle(s).width),p=parseFloat(window.getComputedStyle(s).height);let f,g,m;if(1!==h||1!==p||"rect(0,0,0,0)"!==u&&"rect(1px,1px,1px,1px)"!==u){if("SVG"===l)f=Math.round(100*i.contrastRatio(r,c))/100,f<3&&(g={elem:s,ratio:`${f}:1`},e.errors.push(g));else if(d.length||"INPUT"===l||"SELECT"===l||"TEXTAREA"===l){const t=s.getAttribute("type");"range"===t||"color"===t||("image"===c||"alpha"===c?(m={elem:s},e.warnings.push(m)):(f=Math.round(100*i.contrastRatio(n,c))/100,a>=18||a>=14&&o>=700?f<3&&(g={elem:s,ratio:`${f}:1`},e.errors.push(g)):f<4.5&&(g={elem:s,ratio:`${f}:1`},e.errors.push(g))))}}else;}}return e}};i.check(),e.errors.forEach((e=>{const t=e.elem,i=e.ratio,s=t.cloneNode(!0),r=s.querySelectorAll(".sa11y-heading-label");for(let e=0;e<r.length;e++)s.removeChild(r[e]);const a=this.fnIgnore(s,"script").textContent;"INPUT"===t.tagName?this.results.push({element:t,type:n,content:ze.sprintf("CONTRAST_INPUT_ERROR",i),inline:!1,position:"beforebegin"}):this.results.push({element:t,type:n,content:ze.sprintf("CONTRAST_ERROR",i,a),inline:!1,position:"beforebegin"})})),e.warnings.forEach((e=>{const t=e.elem,i=t.cloneNode(!0),n=i.querySelectorAll(".sa11y-heading-label");for(let e=0;e<n.length;e++)i.removeChild(n[e]);const r=this.fnIgnore(i,"script").textContent,a=this.prepareDismissal(`contrast: ${r}`);this.results.push({element:t,type:s,content:ze.sprintf("CONTRAST_WARNING",r),inline:!1,position:"beforebegin",dismiss:a})}))}}else this.contrastItem.setAttribute("style","display: none !important;"),this.store.setItem("sa11y-remember-contrast","Off")},this.checkReadability=()=>{if(!0===i.readabilityPlugin){if("On"===this.store.getItem("sa11y-remember-readability")){this.readability.forEach((e=>{const t=e.textContent;t.length>=120&&"."!==t.charAt(t.length-1)&&e.insertAdjacentHTML("beforeend","<span class='sa11y-readability-period sa11y-visually-hidden'>.</span>")}));const e=[];for(let t=0;t<this.readability.length;t++){const i=this.readability[t],n=this.getText(i);""!==n&&e.push(n)}const t=e.join(" ").toString();if(["en","fr","de","nl","it"].includes(i.readabilityLang)){const e=e=>{let t=e;if(t=t.toLowerCase().replace(".","").replace("\n",""),t.length<=3)return 1;t=t.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,""),t=t.replace(/^y/,"");const i=t.match(/[aeiouy]{1,2}/g);let n=0;return!!i&&(n=i.length),n},n=t.replace(/[.!?-]+/g," ").split(" ");let s=0;for(let e=0;e<n.length;e++)0!=n[e]&&(s+=1);const r=t.split(/[.!?]+/);let a=0;for(let e=0;e<r.length;e++)""!==r[e]&&(a+=1);let o=0,l=0,c=0;for(let t=0;t<n.length;t++)if(0!=n[t]){const i=e(n[t]);1===i&&(l+=1),2===i&&(c+=1),o+=i}let d=!1;if("en"===i.readabilityLang?d=206.835-s/a*1.015-o/s*84.6:"fr"===i.readabilityLang?d=207-s/a*1.015-o/s*73.6:"es"===i.readabilityLang?d=206.84-s/a*1.02-o/s*100*.6:"de"===i.readabilityLang?d=180-s/a-o/s*58.5:"nl"===i.readabilityLang?d=206.84-o/s*100*.77-s/a*.93:"it"===i.readabilityLang&&(d=217-s/a*1.3-o/s*100*.6),0===t.length)this.readabilityInfo.innerHTML=ze._("READABILITY_NO_P_OR_LI_MESSAGE");else if(s>30){d>100?d=100:d<0&&(d=0);const e=d.toFixed(1),t=(s/a).toFixed(1),i=Math.round((s-(l+c))/s*100);this.readabilityInfo.innerHTML=e>=0&&e<30?`${e} <span class="sa11y-readability-score">${ze._("LANG_VERY_DIFFICULT")}</span>`:e>31&&e<49?`${e} <span class="sa11y-readability-score">${ze._("LANG_DIFFICULT")}</span>`:e>50&&e<60?`${e} <span class="sa11y-readability-score">${ze._("LANG_FAIRLY_DIFFICULT")}</span>`:`${e} <span class="sa11y-readability-score">${ze._("LANG_GOOD")}</span>`,this.readabilityDetails.innerHTML=`\n              <li><strong>${ze._("LANG_AVG_SENTENCE")}</strong> ${t}</li>\n              <li><strong>${ze._("LANG_COMPLEX_WORDS")}</strong> ${i}%</li>\n              <li><strong>${ze._("LANG_TOTAL_WORDS")}</strong> ${s}</li>`}else this.readabilityInfo.textContent=ze._("READABILITY_NOT_ENOUGH_CONTENT_MESSAGE")}if(["sv","fi","da","no","nb","nn"].includes(i.readabilityLang)){const e=(e=>{const t=()=>e.replace(/[-'.]/gi,"").split(/[^a-zA-Z0-9]/g).filter(Boolean),i=t().length,n=t().filter((e=>e.length>6)).length,s=e.split(/\?|!|\.|\n/g).filter(Boolean).length;return{score:Math.round(i/s+100*n/i),avgWordsPerSentence:(i/s).toFixed(1),complexWords:Math.round(n/i*100),wordCount:i}})(t);0===t.length?this.readabilityInfo.innerHTML=ze._("READABILITY_NO_P_OR_LI_MESSAGE"):e.wordCount>30?(e.score>=0&&e.score<39?this.readabilityInfo.innerHTML=`${e.score} <span class="sa11y-readability-score">${ze._("LANG_GOOD")}</span>`:e.score>40&&e.score<50?this.readabilityInfo.innerHTML=`${e.score} <span class="sa11y-readability-score">${ze._("LANG_FAIRLY_DIFFICULT")}</span>`:e.score>51&&e.score<61?this.readabilityInfo.innerHTML=`${e.score} <span class="sa11y-readability-score">${ze._("LANG_DIFFICULT")}</span>`:this.readabilityInfo.innerHTML=`${e.score} <span class="sa11y-readability-score">${ze._("LANG_VERY_DIFFICULT")}</span>`,this.readabilityDetails.innerHTML=`\n                <li><strong>${ze._("LANG_AVG_SENTENCE")}</strong> ${e.avgWordsPerSentence}</li>\n                <li><strong>${ze._("LANG_COMPLEX_WORDS")}</strong> ${e.complexWords}%</li>\n                <li><strong>${ze._("LANG_TOTAL_WORDS")}</strong> ${e.wordCount}</li>`):this.readabilityInfo.textContent=ze._("READABILITY_NOT_ENOUGH_CONTENT_MESSAGE")}}}else this.readabilityItem.setAttribute("style","display: none !important;"),this.readabilityPanel.classList.remove("sa11y-active")},this.initialize()}}export{ze as Lang,Ke as Sa11y,Qe as Sa11yCustomChecks};
