var e="top",t="bottom",i="right",n="left",s="auto",r=[e,t,i,n],o="start",a="end",l="clippingParents",c="viewport",d="popper",u="reference",h=r.reduce((function(e,t){return e.concat([t+"-"+o,t+"-"+a])}),[]),p=[].concat(r,[s]).reduce((function(e,t){return e.concat([t,t+"-"+o,t+"-"+a])}),[]),f=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function g(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function y(e){return e instanceof m(e).Element||e instanceof Element}function b(e){return e instanceof m(e).HTMLElement||e instanceof HTMLElement}function v(e){return"undefined"!=typeof ShadowRoot&&(e instanceof m(e).ShadowRoot||e instanceof ShadowRoot)}var A={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];b(s)&&g(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});b(n)&&g(n)&&(Object.assign(n.style,r),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};function E(e){return e.split("-")[0]}var I=Math.max,T=Math.min,L=Math.round;function x(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function _(){return!/^((?!chrome|android).)*safari/i.test(x())}function w(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),s=1,r=1;t&&b(e)&&(s=e.offsetWidth>0&&L(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&L(n.height)/e.offsetHeight||1);var o=(y(e)?m(e):window).visualViewport,a=!_()&&i,l=(n.left+(a&&o?o.offsetLeft:0))/s,c=(n.top+(a&&o?o.offsetTop:0))/r,d=n.width/s,u=n.height/r;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function S(e){var t=w(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function O(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&v(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function C(e){return m(e).getComputedStyle(e)}function k(e){return["table","td","th"].indexOf(g(e))>=0}function N(e){return((y(e)?e.ownerDocument:e.document)||window.document).documentElement}function $(e){return"html"===g(e)?e:e.assignedSlot||e.parentNode||(v(e)?e.host:null)||N(e)}function D(e){return b(e)&&"fixed"!==C(e).position?e.offsetParent:null}function R(e){for(var t=m(e),i=D(e);i&&k(i)&&"static"===C(i).position;)i=D(i);return i&&("html"===g(i)||"body"===g(i)&&"static"===C(i).position)?t:i||function(e){var t=/firefox/i.test(x());if(/Trident/i.test(x())&&b(e)&&"fixed"===C(e).position)return null;var i=$(e);for(v(i)&&(i=i.host);b(i)&&["html","body"].indexOf(g(i))<0;){var n=C(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function B(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function M(e,t,i){return I(e,T(t,i))}function P(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function H(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}var G=function(e,t){return P("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:H(e,r))};var q={name:"arrow",enabled:!0,phase:"main",fn:function(s){var r,o=s.state,a=s.name,l=s.options,c=o.elements.arrow,d=o.modifiersData.popperOffsets,u=E(o.placement),h=B(u),p=[n,i].indexOf(u)>=0?"height":"width";if(c&&d){var f=G(l.padding,o),g=S(c),m="y"===h?e:n,y="y"===h?t:i,b=o.rects.reference[p]+o.rects.reference[h]-d[h]-o.rects.popper[p],v=d[h]-o.rects.reference[h],A=R(c),I=A?"y"===h?A.clientHeight||0:A.clientWidth||0:0,T=b/2-v/2,L=f[m],x=I-g[p]-f[y],_=I/2-g[p]/2+T,w=M(L,_,x),O=h;o.modifiersData[a]=((r={})[O]=w,r.centerOffset=w-_,r)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&O(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function W(e){return e.split("-")[1]}var j={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V(s){var r,o=s.popper,l=s.popperRect,c=s.placement,d=s.variation,u=s.offsets,h=s.position,p=s.gpuAcceleration,f=s.adaptive,g=s.roundOffsets,y=s.isFixed,b=u.x,v=void 0===b?0:b,A=u.y,E=void 0===A?0:A,I="function"==typeof g?g({x:v,y:E}):{x:v,y:E};v=I.x,E=I.y;var T=u.hasOwnProperty("x"),x=u.hasOwnProperty("y"),_=n,w=e,S=window;if(f){var O=R(o),k="clientHeight",$="clientWidth";if(O===m(o)&&"static"!==C(O=N(o)).position&&"absolute"===h&&(k="scrollHeight",$="scrollWidth"),c===e||(c===n||c===i)&&d===a)w=t,E-=(y&&O===S&&S.visualViewport?S.visualViewport.height:O[k])-l.height,E*=p?1:-1;if(c===n||(c===e||c===t)&&d===a)_=i,v-=(y&&O===S&&S.visualViewport?S.visualViewport.width:O[$])-l.width,v*=p?1:-1}var D,B=Object.assign({position:h},f&&j),M=!0===g?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:L(t*n)/n||0,y:L(i*n)/n||0}}({x:v,y:E}):{x:v,y:E};return v=M.x,E=M.y,p?Object.assign({},B,((D={})[w]=x?"0":"",D[_]=T?"0":"",D.transform=(S.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",D)):Object.assign({},B,((r={})[w]=x?E+"px":"",r[_]=T?v+"px":"",r.transform="",r))}var F={passive:!0};var U={left:"right",right:"left",bottom:"top",top:"bottom"};function z(e){return e.replace(/left|right|bottom|top/g,(function(e){return U[e]}))}var Q={start:"end",end:"start"};function K(e){return e.replace(/start|end/g,(function(e){return Q[e]}))}function Y(e){var t=m(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function X(e){return w(N(e)).left+Y(e).scrollLeft}function J(e){var t=C(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function Z(e){return["html","body","#document"].indexOf(g(e))>=0?e.ownerDocument.body:b(e)&&J(e)?e:Z($(e))}function ee(e,t){var i;void 0===t&&(t=[]);var n=Z(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),r=m(n),o=s?[r].concat(r.visualViewport||[],J(n)?n:[]):n,a=t.concat(o);return s?a:a.concat(ee($(o)))}function te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ie(e,t,i){return t===c?te(function(e,t){var i=m(e),n=N(e),s=i.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var c=_();(c||!c&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+X(e),y:l}}(e,i)):y(t)?function(e,t){var i=w(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):te(function(e){var t,i=N(e),n=Y(e),s=null==(t=e.ownerDocument)?void 0:t.body,r=I(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=I(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+X(e),l=-n.scrollTop;return"rtl"===C(s||i).direction&&(a+=I(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}(N(e)))}function ne(e,t,i,n){var s="clippingParents"===t?function(e){var t=ee($(e)),i=["absolute","fixed"].indexOf(C(e).position)>=0&&b(e)?R(e):e;return y(i)?t.filter((function(e){return y(e)&&O(e,i)&&"body"!==g(e)})):[]}(e):[].concat(t),r=[].concat(s,[i]),o=r[0],a=r.reduce((function(t,i){var s=ie(e,i,n);return t.top=I(s.top,t.top),t.right=T(s.right,t.right),t.bottom=T(s.bottom,t.bottom),t.left=I(s.left,t.left),t}),ie(e,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function se(s){var r,l=s.reference,c=s.element,d=s.placement,u=d?E(d):null,h=d?W(d):null,p=l.x+l.width/2-c.width/2,f=l.y+l.height/2-c.height/2;switch(u){case e:r={x:p,y:l.y-c.height};break;case t:r={x:p,y:l.y+l.height};break;case i:r={x:l.x+l.width,y:f};break;case n:r={x:l.x-c.width,y:f};break;default:r={x:l.x,y:l.y}}var g=u?B(u):null;if(null!=g){var m="y"===g?"height":"width";switch(h){case o:r[g]=r[g]-(l[m]/2-c[m]/2);break;case a:r[g]=r[g]+(l[m]/2-c[m]/2)}}return r}function re(n,s){void 0===s&&(s={});var o=s,a=o.placement,h=void 0===a?n.placement:a,p=o.strategy,f=void 0===p?n.strategy:p,g=o.boundary,m=void 0===g?l:g,b=o.rootBoundary,v=void 0===b?c:b,A=o.elementContext,E=void 0===A?d:A,I=o.altBoundary,T=void 0!==I&&I,L=o.padding,x=void 0===L?0:L,_=P("number"!=typeof x?x:H(x,r)),S=E===d?u:d,O=n.rects.popper,C=n.elements[T?S:E],k=ne(y(C)?C:C.contextElement||N(n.elements.popper),m,v,f),$=w(n.elements.reference),D=se({reference:$,element:O,strategy:"absolute",placement:h}),R=te(Object.assign({},O,D)),B=E===d?R:$,M={top:k.top-B.top+_.top,bottom:B.bottom-k.bottom+_.bottom,left:k.left-B.left+_.left,right:B.right-k.right+_.right},G=n.modifiersData.offset;if(E===d&&G){var q=G[h];Object.keys(M).forEach((function(n){var s=[i,t].indexOf(n)>=0?1:-1,r=[e,t].indexOf(n)>=0?"y":"x";M[n]+=q[r]*s}))}return M}function oe(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=i.boundary,o=i.rootBoundary,a=i.padding,l=i.flipVariations,c=i.allowedAutoPlacements,d=void 0===c?p:c,u=W(n),f=u?l?h:h.filter((function(e){return W(e)===u})):r,g=f.filter((function(e){return d.indexOf(e)>=0}));0===g.length&&(g=f);var m=g.reduce((function(t,i){return t[i]=re(e,{placement:i,boundary:s,rootBoundary:o,padding:a})[E(i)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}var ae={name:"flip",enabled:!0,phase:"main",fn:function(r){var a=r.state,l=r.options,c=r.name;if(!a.modifiersData[c]._skip){for(var d=l.mainAxis,u=void 0===d||d,h=l.altAxis,p=void 0===h||h,f=l.fallbackPlacements,g=l.padding,m=l.boundary,y=l.rootBoundary,b=l.altBoundary,v=l.flipVariations,A=void 0===v||v,I=l.allowedAutoPlacements,T=a.options.placement,L=E(T),x=f||(L===T||!A?[z(T)]:function(e){if(E(e)===s)return[];var t=z(e);return[K(e),t,K(t)]}(T)),_=[T].concat(x).reduce((function(e,t){return e.concat(E(t)===s?oe(a,{placement:t,boundary:m,rootBoundary:y,padding:g,flipVariations:A,allowedAutoPlacements:I}):t)}),[]),w=a.rects.reference,S=a.rects.popper,O=new Map,C=!0,k=_[0],N=0;N<_.length;N++){var $=_[N],D=E($),R=W($)===o,B=[e,t].indexOf(D)>=0,M=B?"width":"height",P=re(a,{placement:$,boundary:m,rootBoundary:y,altBoundary:b,padding:g}),H=B?R?i:n:R?t:e;w[M]>S[M]&&(H=z(H));var G=z(H),q=[];if(u&&q.push(P[D]<=0),p&&q.push(P[H]<=0,P[G]<=0),q.every((function(e){return e}))){k=$,C=!1;break}O.set($,q)}if(C)for(var j=function(e){var t=_.find((function(t){var i=O.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},V=A?3:1;V>0;V--){if("break"===j(V))break}a.placement!==k&&(a.modifiersData[c]._skip=!0,a.placement=k,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function le(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function ce(s){return[e,i,t,n].some((function(e){return s[e]>=0}))}var de={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var s=t.state,r=t.options,o=t.name,a=r.offset,l=void 0===a?[0,0]:a,c=p.reduce((function(t,r){return t[r]=function(t,s,r){var o=E(t),a=[n,e].indexOf(o)>=0?-1:1,l="function"==typeof r?r(Object.assign({},s,{placement:t})):r,c=l[0],d=l[1];return c=c||0,d=(d||0)*a,[n,i].indexOf(o)>=0?{x:d,y:c}:{x:c,y:d}}(r,s.rects,l),t}),{}),d=c[s.placement],u=d.x,h=d.y;null!=s.modifiersData.popperOffsets&&(s.modifiersData.popperOffsets.x+=u,s.modifiersData.popperOffsets.y+=h),s.modifiersData[o]=c}};var ue={name:"preventOverflow",enabled:!0,phase:"main",fn:function(s){var r=s.state,a=s.options,l=s.name,c=a.mainAxis,d=void 0===c||c,u=a.altAxis,h=void 0!==u&&u,p=a.boundary,f=a.rootBoundary,g=a.altBoundary,m=a.padding,y=a.tether,b=void 0===y||y,v=a.tetherOffset,A=void 0===v?0:v,L=re(r,{boundary:p,rootBoundary:f,padding:m,altBoundary:g}),x=E(r.placement),_=W(r.placement),w=!_,O=B(x),C="x"===O?"y":"x",k=r.modifiersData.popperOffsets,N=r.rects.reference,$=r.rects.popper,D="function"==typeof A?A(Object.assign({},r.rects,{placement:r.placement})):A,P="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),H=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,G={x:0,y:0};if(k){if(d){var q,j="y"===O?e:n,V="y"===O?t:i,F="y"===O?"height":"width",U=k[O],z=U+L[j],Q=U-L[V],K=b?-$[F]/2:0,Y=_===o?N[F]:$[F],X=_===o?-$[F]:-N[F],J=r.elements.arrow,Z=b&&J?S(J):{width:0,height:0},ee=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[j],ie=ee[V],ne=M(0,N[F],Z[F]),se=w?N[F]/2-K-ne-te-P.mainAxis:Y-ne-te-P.mainAxis,oe=w?-N[F]/2+K+ne+ie+P.mainAxis:X+ne+ie+P.mainAxis,ae=r.elements.arrow&&R(r.elements.arrow),le=ae?"y"===O?ae.clientTop||0:ae.clientLeft||0:0,ce=null!=(q=null==H?void 0:H[O])?q:0,de=U+oe-ce,ue=M(b?T(z,U+se-ce-le):z,U,b?I(Q,de):Q);k[O]=ue,G[O]=ue-U}if(h){var he,pe="x"===O?e:n,fe="x"===O?t:i,ge=k[C],me="y"===C?"height":"width",ye=ge+L[pe],be=ge-L[fe],ve=-1!==[e,n].indexOf(x),Ae=null!=(he=null==H?void 0:H[C])?he:0,Ee=ve?ye:ge-N[me]-$[me]-Ae+P.altAxis,Ie=ve?ge+N[me]+$[me]-Ae-P.altAxis:be,Te=b&&ve?function(e,t,i){var n=M(e,t,i);return n>i?i:n}(Ee,ge,Ie):M(b?Ee:ye,ge,b?Ie:be);k[C]=Te,G[C]=Te-ge}r.modifiersData[l]=G}},requiresIfExists:["offset"]};function he(e,t,i){void 0===i&&(i=!1);var n,s,r=b(t),o=b(t)&&function(e){var t=e.getBoundingClientRect(),i=L(t.width)/e.offsetWidth||1,n=L(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),a=N(t),l=w(e,o,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!i)&&(("body"!==g(t)||J(a))&&(c=(n=t)!==m(n)&&b(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:Y(n)),b(t)?((d=w(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=X(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function pe(e){var t=new Map,i=new Set,n=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),n}var fe={placement:"bottom",modifiers:[],strategy:"absolute"};function ge(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function me(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,s=t.defaultOptions,r=void 0===s?fe:s;return function(e,t,i){void 0===i&&(i=r);var s,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},fe,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(i){var s="function"==typeof i?i(a.options):i;u(),a.options=Object.assign({},r,a.options,s),a.scrollParents={reference:y(e)?ee(e):e.contextElement?ee(e.contextElement):[],popper:ee(t)};var o,c,h=function(e){var t=pe(e);return f.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((o=[].concat(n,a.options.modifiers),c=o.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var r=s({state:a,name:t,instance:d,options:n}),o=function(){};l.push(r||o)}})),d.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(ge(t,i)){a.rects={reference:he(t,R(i),"fixed"===a.options.strategy),popper:S(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],r=s.fn,o=s.options,l=void 0===o?{}:o,u=s.name;"function"==typeof r&&(a=r({state:a,options:l,name:u,instance:d})||a)}else a.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(a)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(s())}))}))),o}),destroy:function(){u(),c=!0}};if(!ge(e,t))return d;function u(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(i).then((function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)})),d}}var ye=me({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,s=n.scroll,r=void 0===s||s,o=n.resize,a=void 0===o||o,l=m(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",i.update,F)})),a&&l.addEventListener("resize",i.update,F),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",i.update,F)})),a&&l.removeEventListener("resize",i.update,F)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=se({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=void 0===n||n,r=i.adaptive,o=void 0===r||r,a=i.roundOffsets,l=void 0===a||a,c={placement:E(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,V(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,V(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},A,de,ae,ue,q,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=re(t,{elementContext:"reference"}),a=re(t,{altBoundary:!0}),l=le(o,n),c=le(a,s,r),d=ce(l),u=ce(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),be="tippy-box",ve="tippy-content",Ae="tippy-backdrop",Ee="tippy-arrow",Ie="tippy-svg-arrow",Te={passive:!0,capture:!0},Le=function(){return document.body};function xe(e,t,i){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(i)?i[t]:i:n}return e}function _e(e,t){var i={}.toString.call(e);return 0===i.indexOf("[object")&&i.indexOf(t+"]")>-1}function we(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Se(e,t){return 0===t?e:function(n){clearTimeout(i),i=setTimeout((function(){e(n)}),t)};var i}function Oe(e){return[].concat(e)}function Ce(e,t){-1===e.indexOf(t)&&e.push(t)}function ke(e){return[].slice.call(e)}function Ne(e){return Object.keys(e).reduce((function(t,i){return void 0!==e[i]&&(t[i]=e[i]),t}),{})}function $e(){return document.createElement("div")}function De(e){return["Element","Fragment"].some((function(t){return _e(e,t)}))}function Re(e){return De(e)?[e]:function(e){return _e(e,"NodeList")}(e)?ke(e):Array.isArray(e)?e:ke(document.querySelectorAll(e))}function Be(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Me(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Pe(e,t,i){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,i)}))}function He(e,t){for(var i=t;i;){var n;if(e.contains(i))return!0;i=null==i.getRootNode||null==(n=i.getRootNode())?void 0:n.host}return!1}var Ge={isTouch:!1},qe=0;function We(){Ge.isTouch||(Ge.isTouch=!0,window.performance&&document.addEventListener("mousemove",je))}function je(){var e=performance.now();e-qe<20&&(Ge.isTouch=!1,document.removeEventListener("mousemove",je)),qe=e}function Ve(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var i=t._tippy;t.blur&&!i.state.isVisible&&t.blur()}}var Fe=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,Ue=Object.assign({appendTo:Le,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),ze=Object.keys(Ue);function Qe(e){var t=(e.plugins||[]).reduce((function(t,i){var n,s=i.name,r=i.defaultValue;s&&(t[s]=void 0!==e[s]?e[s]:null!=(n=Ue[s])?n:r);return t}),{});return Object.assign({},e,t)}function Ke(e,t){var i=Object.assign({},t,{content:we(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Qe(Object.assign({},Ue,{plugins:t}))):ze).reduce((function(t,i){var n=(e.getAttribute("data-tippy-"+i)||"").trim();if(!n)return t;if("content"===i)t[i]=n;else try{t[i]=JSON.parse(n)}catch(e){t[i]=n}return t}),{})}(e,t.plugins));return i.aria=Object.assign({},Ue.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}var Ye=function(){return"innerHTML"};function Xe(e,t){e[Ye()]=t}function Je(e){var t=$e();return!0===e?t.className=Ee:(t.className=Ie,De(e)?t.appendChild(e):Xe(t,e)),t}function Ze(e,t){De(t.content)?(Xe(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Xe(e,t.content):e.textContent=t.content)}function et(e){var t=e.firstElementChild,i=ke(t.children);return{box:t,content:i.find((function(e){return e.classList.contains(ve)})),arrow:i.find((function(e){return e.classList.contains(Ee)||e.classList.contains(Ie)})),backdrop:i.find((function(e){return e.classList.contains(Ae)}))}}function tt(e){var t=$e(),i=$e();i.className=be,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=$e();function s(i,n){var s=et(t),r=s.box,o=s.content,a=s.arrow;n.theme?r.setAttribute("data-theme",n.theme):r.removeAttribute("data-theme"),"string"==typeof n.animation?r.setAttribute("data-animation",n.animation):r.removeAttribute("data-animation"),n.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?r.setAttribute("role",n.role):r.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||Ze(o,e.props),n.arrow?a?i.arrow!==n.arrow&&(r.removeChild(a),r.appendChild(Je(n.arrow))):r.appendChild(Je(n.arrow)):a&&r.removeChild(a)}return n.className=ve,n.setAttribute("data-state","hidden"),Ze(n,e.props),t.appendChild(i),i.appendChild(n),s(e.props,e.props),{popper:t,onUpdate:s}}tt.$$tippy=!0;var it=1,nt=[],st=[];function rt(e,t){var i,n,s,r,o,a,l,c,d=Ke(e,Object.assign({},Ue,Qe(Ne(t)))),u=!1,h=!1,p=!1,f=!1,g=[],m=Se(z,d.interactiveDebounce),y=it++,b=(c=d.plugins).filter((function(e,t){return c.indexOf(e)===t})),v={id:y,reference:e,popper:$e(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(s)},setProps:function(t){if(v.state.isDestroyed)return;$("onBeforeUpdate",[v,t]),F();var i=v.props,n=Ke(e,Object.assign({},i,Ne(t),{ignoreAttributes:!0}));v.props=n,V(),i.interactiveDebounce!==n.interactiveDebounce&&(B(),m=Se(z,n.interactiveDebounce));i.triggerTarget&&!n.triggerTarget?Oe(i.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded");R(),N(),I&&I(i,n);v.popperInstance&&(X(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));$("onAfterUpdate",[v,t])},setContent:function(e){v.setProps({content:e})},show:function(){var e=v.state.isVisible,t=v.state.isDestroyed,i=!v.state.isEnabled,n=Ge.isTouch&&!v.props.touch,s=xe(v.props.duration,0,Ue.duration);if(e||t||i||n)return;if(S().hasAttribute("disabled"))return;if($("onShow",[v],!1),!1===v.props.onShow(v))return;v.state.isVisible=!0,w()&&(E.style.visibility="visible");N(),G(),v.state.isMounted||(E.style.transition="none");if(w()){var r=C();Be([r.box,r.content],0)}a=function(){var e;if(v.state.isVisible&&!f){if(f=!0,E.offsetHeight,E.style.transition=v.props.moveTransition,w()&&v.props.animation){var t=C(),i=t.box,n=t.content;Be([i,n],s),Me([i,n],"visible")}D(),R(),Ce(st,v),null==(e=v.popperInstance)||e.forceUpdate(),$("onMount",[v]),v.props.animation&&w()&&function(e,t){W(e,t)}(s,(function(){v.state.isShown=!0,$("onShown",[v])}))}},function(){var e,t=v.props.appendTo,i=S();e=v.props.interactive&&t===Le||"parent"===t?i.parentNode:we(t,[i]);e.contains(E)||e.appendChild(E);v.state.isMounted=!0,X()}()},hide:function(){var e=!v.state.isVisible,t=v.state.isDestroyed,i=!v.state.isEnabled,n=xe(v.props.duration,1,Ue.duration);if(e||t||i)return;if($("onHide",[v],!1),!1===v.props.onHide(v))return;v.state.isVisible=!1,v.state.isShown=!1,f=!1,u=!1,w()&&(E.style.visibility="hidden");if(B(),q(),N(!0),w()){var s=C(),r=s.box,o=s.content;v.props.animation&&(Be([r,o],n),Me([r,o],"hidden"))}D(),R(),v.props.animation?w()&&function(e,t){W(e,(function(){!v.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&t()}))}(n,v.unmount):v.unmount()},hideWithInteractivity:function(e){O().addEventListener("mousemove",m),Ce(nt,m),m(e)},enable:function(){v.state.isEnabled=!0},disable:function(){v.hide(),v.state.isEnabled=!1},unmount:function(){v.state.isVisible&&v.hide();if(!v.state.isMounted)return;J(),Z().forEach((function(e){e._tippy.unmount()})),E.parentNode&&E.parentNode.removeChild(E);st=st.filter((function(e){return e!==v})),v.state.isMounted=!1,$("onHidden",[v])},destroy:function(){if(v.state.isDestroyed)return;v.clearDelayTimeouts(),v.unmount(),F(),delete e._tippy,v.state.isDestroyed=!0,$("onDestroy",[v])}};if(!d.render)return v;var A=d.render(v),E=A.popper,I=A.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+v.id,v.popper=E,e._tippy=v,E._tippy=v;var T=b.map((function(e){return e.fn(v)})),L=e.hasAttribute("aria-expanded");return V(),R(),N(),$("onCreate",[v]),d.showOnCreate&&ee(),E.addEventListener("mouseenter",(function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()})),E.addEventListener("mouseleave",(function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",m)})),v;function x(){var e=v.props.touch;return Array.isArray(e)?e:[e,0]}function _(){return"hold"===x()[0]}function w(){var e;return!(null==(e=v.props.render)||!e.$$tippy)}function S(){return l||e}function O(){var e,t,i=S().parentNode;return i?null!=(t=Oe(i)[0])&&null!=(e=t.ownerDocument)&&e.body?t.ownerDocument:document:document}function C(){return et(E)}function k(e){return v.state.isMounted&&!v.state.isVisible||Ge.isTouch||r&&"focus"===r.type?0:xe(v.props.delay,e?0:1,Ue.delay)}function N(e){void 0===e&&(e=!1),E.style.pointerEvents=v.props.interactive&&!e?"":"none",E.style.zIndex=""+v.props.zIndex}function $(e,t,i){var n;(void 0===i&&(i=!0),T.forEach((function(i){i[e]&&i[e].apply(i,t)})),i)&&(n=v.props)[e].apply(n,t)}function D(){var t=v.props.aria;if(t.content){var i="aria-"+t.content,n=E.id;Oe(v.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(i);if(v.state.isVisible)e.setAttribute(i,t?t+" "+n:n);else{var s=t&&t.replace(n,"").trim();s?e.setAttribute(i,s):e.removeAttribute(i)}}))}}function R(){!L&&v.props.aria.expanded&&Oe(v.props.triggerTarget||e).forEach((function(e){v.props.interactive?e.setAttribute("aria-expanded",v.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")}))}function B(){O().removeEventListener("mousemove",m),nt=nt.filter((function(e){return e!==m}))}function M(t){if(!Ge.isTouch||!p&&"mousedown"!==t.type){var i=t.composedPath&&t.composedPath()[0]||t.target;if(!v.props.interactive||!He(E,i)){if(Oe(v.props.triggerTarget||e).some((function(e){return He(e,i)}))){if(Ge.isTouch)return;if(v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[v,t]);!0===v.props.hideOnClick&&(v.clearDelayTimeouts(),v.hide(),h=!0,setTimeout((function(){h=!1})),v.state.isMounted||q())}}}function P(){p=!0}function H(){p=!1}function G(){var e=O();e.addEventListener("mousedown",M,!0),e.addEventListener("touchend",M,Te),e.addEventListener("touchstart",H,Te),e.addEventListener("touchmove",P,Te)}function q(){var e=O();e.removeEventListener("mousedown",M,!0),e.removeEventListener("touchend",M,Te),e.removeEventListener("touchstart",H,Te),e.removeEventListener("touchmove",P,Te)}function W(e,t){var i=C().box;function n(e){e.target===i&&(Pe(i,"remove",n),t())}if(0===e)return t();Pe(i,"remove",o),Pe(i,"add",n),o=n}function j(t,i,n){void 0===n&&(n=!1),Oe(v.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,i,n),g.push({node:e,eventType:t,handler:i,options:n})}))}function V(){var e;_()&&(j("touchstart",U,{passive:!0}),j("touchend",Q,{passive:!0})),(e=v.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(j(e,U),e){case"mouseenter":j("mouseleave",Q);break;case"focus":j(Fe?"focusout":"blur",K);break;case"focusin":j("focusout",K)}}))}function F(){g.forEach((function(e){var t=e.node,i=e.eventType,n=e.handler,s=e.options;t.removeEventListener(i,n,s)})),g=[]}function U(e){var t,i=!1;if(v.state.isEnabled&&!Y(e)&&!h){var n="focus"===(null==(t=r)?void 0:t.type);r=e,l=e.currentTarget,R(),!v.state.isVisible&&_e(e,"MouseEvent")&&nt.forEach((function(t){return t(e)})),"click"===e.type&&(v.props.trigger.indexOf("mouseenter")<0||u)&&!1!==v.props.hideOnClick&&v.state.isVisible?i=!0:ee(e),"click"===e.type&&(u=!i),i&&!n&&te(e)}}function z(e){var t=e.target,i=S().contains(t)||E.contains(t);if("mousemove"!==e.type||!i){var n=Z().concat(E).map((function(e){var t,i=null==(t=e._tippy.popperInstance)?void 0:t.state;return i?{popperRect:e.getBoundingClientRect(),popperState:i,props:d}:null})).filter(Boolean);(function(e,t){var i=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,s=e.popperState,r=e.props.interactiveBorder,o=s.placement.split("-")[0],a=s.modifiersData.offset;if(!a)return!0;var l="bottom"===o?a.top.y:0,c="top"===o?a.bottom.y:0,d="right"===o?a.left.x:0,u="left"===o?a.right.x:0,h=t.top-n+l>r,p=n-t.bottom-c>r,f=t.left-i+d>r,g=i-t.right-u>r;return h||p||f||g}))})(n,e)&&(B(),te(e))}}function Q(e){Y(e)||v.props.trigger.indexOf("click")>=0&&u||(v.props.interactive?v.hideWithInteractivity(e):te(e))}function K(e){v.props.trigger.indexOf("focusin")<0&&e.target!==S()||v.props.interactive&&e.relatedTarget&&E.contains(e.relatedTarget)||te(e)}function Y(e){return!!Ge.isTouch&&_()!==e.type.indexOf("touch")>=0}function X(){J();var t=v.props,i=t.popperOptions,n=t.placement,s=t.offset,r=t.getReferenceClientRect,o=t.moveTransition,l=w()?et(E).arrow:null,c=r?{getBoundingClientRect:r,contextElement:r.contextElement||S()}:e,d={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(w()){var i=C().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?i.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)})),t.attributes.popper={}}}},u=[{name:"offset",options:{offset:s}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},d];w()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),u.push.apply(u,(null==i?void 0:i.modifiers)||[]),v.popperInstance=ye(c,E,Object.assign({},i,{placement:n,onFirstUpdate:a,modifiers:u}))}function J(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function Z(){return ke(E.querySelectorAll("[data-tippy-root]"))}function ee(e){v.clearDelayTimeouts(),e&&$("onTrigger",[v,e]),G();var t=k(!0),n=x(),s=n[0],r=n[1];Ge.isTouch&&"hold"===s&&r&&(t=r),t?i=setTimeout((function(){v.show()}),t):v.show()}function te(e){if(v.clearDelayTimeouts(),$("onUntrigger",[v,e]),v.state.isVisible){if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=k(!1);t?n=setTimeout((function(){v.state.isVisible&&v.hide()}),t):s=requestAnimationFrame((function(){v.hide()}))}}else q()}}function ot(e,t){void 0===t&&(t={});var i=Ue.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",We,Te),window.addEventListener("blur",Ve);var n=Object.assign({},t,{plugins:i}),s=Re(e).reduce((function(e,t){var i=t&&rt(t,n);return i&&e.push(i),e}),[]);return De(e)?s[0]:s}ot.defaultProps=Ue,ot.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Ue[t]=e[t]}))},ot.currentInput=Ge,Object.assign({},A,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}}),ot.setDefaultProps({render:tt});
/**
 * Sa11y, the accessibility quality assurance assistant.
 * @version: 2.3.6
 * @author: Development led by Adam Chaboryk, CPWA. <adam.chaboryk@ryerson.ca>
 * @license: https://github.com/ryersondmp/sa11y/blob/master/LICENSE.md
 * @acknowledgements https://sa11y.netlify.app/acknowledgements/
 * @copyright (c) 2020 - 2022 Toronto Metropolitan University (formerly Ryerson University).
 * The above copyright notice shall be included in all copies or substantial portions of the Software.
*/
const at={langStrings:{},addI18n(e){this.langStrings=e},_(e){return this.translate(e)},sprintf(e,...t){let i=this._(e);return i=this.prepHTML(i),t&&t.length&&t.forEach((e=>{i=i.replace(/%\([a-zA-z]+\)/,e)})),i},translate(e){return this.langStrings[e]||e},prepHTML:e=>e.replaceAll(/<hr>/g,'<hr aria-hidden="true">').replaceAll(/<a[\s]href=/g,'<a target="_blank" rel="noopener noreferrer" href=').replaceAll(/<\/a>/g,`<span class="sa11y-visually-hidden"> (${at._("NEW_TAB")})</span></a>`).replaceAll(/{r}/g,'class="sa11y-red-text"')};class lt{setSa11y(e){this.sa11y=e}check(){}}class ct{constructor(e){const t={checkRoot:"body",containerIgnore:".sa11y-ignore",contrastIgnore:'.sr-only, [role="menu"] *',outlineIgnore:"",headerIgnore:"",imageIgnore:"",linkIgnore:'nav *, [role="navigation"] *',linkIgnoreSpan:"",linksToFlag:"",nonConsecutiveHeadingIsError:!0,flagLongHeadings:!0,showGoodLinkButton:!0,detectSPArouting:!1,doNotRun:"",dismissAnnotations:!0,headless:!1,selectorPath:!1,readabilityPlugin:!0,readabilityRoot:"body",readabilityLang:"en",readabilityIgnore:"",contrastPlugin:!0,formLabelsPlugin:!0,linksAdvancedPlugin:!0,customChecks:!0,badLinksQA:!0,strongItalicsQA:!0,pdfQA:!0,langQA:!0,blockquotesQA:!0,tablesQA:!0,allCapsQA:!0,fakeHeadingsQA:!0,fakeListQA:!0,duplicateIdQA:!0,underlinedTextQA:!0,pageTitleQA:!0,subscriptQA:!0,embeddedContentAll:!0,embeddedContentAudio:!0,embeddedContentVideo:!0,embeddedContentDataViz:!0,embeddedContentTitles:!0,embeddedContentGeneral:!0,videoContent:"youtube.com, vimeo.com, yuja.com, panopto.com",audioContent:"soundcloud.com, simplecast.com, podbean.com, buzzsprout.com, blubrry.com, transistor.fm, fusebox.fm, libsyn.com",dataVizContent:"datastudio.google.com, tableau",embeddedContent:""};t.embeddedContent=`${t.videoContent}, ${t.audioContent}, ${t.dataVizContent}`;const i={...t,...e},n=at._("ERROR"),s=at._("WARNING"),r=at._("GOOD"),o=window.location.pathname;this.html=document.querySelector("html"),this.initialize=()=>{var e;(()=>{const{doNotRun:e}=i;return e.trim().length>0&&document.querySelector(e)})()||(this.globals(),this.utilities(),e=()=>{!1===i.headless?(this.buildSa11yUI(),this.settingsPanelToggles(),this.initializePanelToggles(),this.mainToggle(),this.skipToIssueTooltip(),this.detectPageChanges(),this.dismissAnnotations(),i.customChecks&&i.customChecks.setSa11y&&i.customChecks.setSa11y(this),this.toggle.disabled=!1,"Closed"!==this.store.getItem("sa11y-remember-panel")&&this.store.getItem("sa11y-remember-panel")?this.panelActive=!0:(this.panelActive=!1,this.checkAll())):(i.customChecks&&i.customChecks.setSa11y&&i.customChecks.setSa11y(this),this.checkAll())},"complete"===document.readyState?e():window.addEventListener("load",e))},this.buildSa11yUI=()=>{const e=document.createElement("div");e.setAttribute("id","sa11y-container"),e.setAttribute("role","region"),e.setAttribute("lang",at._("LANG_CODE")),e.setAttribute("aria-label",at._("CONTAINER_LABEL"));const t="On"===this.store.getItem("sa11y-remember-contrast"),i="On"===this.store.getItem("sa11y-remember-labels"),n="On"===this.store.getItem("sa11y-remember-links-advanced"),s="On"===this.store.getItem("sa11y-remember-readability");e.innerHTML=`\n        <button type="button" aria-expanded="false" id="sa11y-toggle" aria-describedby="sa11y-notification-badge" aria-label="${at._("MAIN_TOGGLE_LABEL")}" disabled>\n          <svg role='img' focusable='false' width='35px' height='35px' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path fill='#ffffff' d='M256 48c114.953 0 208 93.029 208 208 0 114.953-93.029 208-208 208-114.953 0-208-93.029-208-208 0-114.953 93.029-208 208-208m0-40C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 56C149.961 64 64 149.961 64 256s85.961 192 192 192 192-85.961 192-192S362.039 64 256 64zm0 44c19.882 0 36 16.118 36 36s-16.118 36-36 36-36-16.118-36-36 16.118-36 36-36zm117.741 98.023c-28.712 6.779-55.511 12.748-82.14 15.807.851 101.023 12.306 123.052 25.037 155.621 3.617 9.26-.957 19.698-10.217 23.315-9.261 3.617-19.699-.957-23.316-10.217-8.705-22.308-17.086-40.636-22.261-78.549h-9.686c-5.167 37.851-13.534 56.208-22.262 78.549-3.615 9.255-14.05 13.836-23.315 10.217-9.26-3.617-13.834-14.056-10.217-23.315 12.713-32.541 24.185-54.541 25.037-155.621-26.629-3.058-53.428-9.027-82.141-15.807-8.6-2.031-13.926-10.648-11.895-19.249s10.647-13.926 19.249-11.895c96.686 22.829 124.283 22.783 220.775 0 8.599-2.03 17.218 3.294 19.249 11.895 2.029 8.601-3.297 17.219-11.897 19.249z'/></svg>\n          <div id="sa11y-notification-badge">\n            <span id="sa11y-notification-count"></span>\n            <span id="sa11y-notification-text" class="sa11y-visually-hidden"></span>\n          </div>\n        </button><div id="sa11y-panel"><div id="sa11y-page-errors"></div><div id="sa11y-outline-panel" role="tabpanel" aria-labelledby="sa11y-outline-header">\n            <div id="sa11y-outline-header" class="sa11y-header-text">\n              <h2 tabindex="-1">${at._("OUTLINE")}</h2>\n            </div>\n            <div id="sa11y-outline-content">\n              <ul id="sa11y-outline-list" tabindex="0" role="list" aria-label="${at._("OUTLINE")}"></ul>\n            </div>\n            <div id="sa11y-readability-panel">\n              <div id="sa11y-readability-content">\n                <h2 class="sa11y-header-text-inline">${at._("LANG_READABILITY")}</h2>\n                <p id="sa11y-readability-info"></p>\n                <ul id="sa11y-readability-details"></ul>\n              </div>\n            </div>\n          </div><div id="sa11y-settings-panel" role="tabpanel" aria-labelledby="sa11y-settings-header">\n            <div id="sa11y-settings-header" class="sa11y-header-text">\n              <h2 tabindex="-1">${at._("SETTINGS")}</h2>\n            </div>\n            <div id="sa11y-settings-content">\n              <ul id="sa11y-settings-options">\n                <li id="sa11y-contrast-item">\n                  <label id="sa11y-check-contrast" for="sa11y-contrast-toggle">${at._("CONTRAST")}</label>\n                  <button id="sa11y-contrast-toggle"\n                    aria-labelledby="sa11y-check-contrast"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${t?"true":"false"}">${t?at._("ON"):at._("OFF")}</button>\n                </li>\n                <li id="sa11y-form-labels-item">\n                  <label id="sa11y-check-labels" for="sa11y-labels-toggle">${at._("FORM_LABELS")}</label>\n                  <button id="sa11y-labels-toggle"\n                    aria-labelledby="sa11y-check-labels"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${i?"true":"false"}">${i?at._("ON"):at._("OFF")}</button>\n                </li>\n                <li id="sa11y-links-advanced-item">\n                  <label id="check-changerequest" for="sa11y-links-advanced-toggle">${at._("LINKS_ADVANCED")} <span class="sa11y-badge">AAA</span></label>\n                  <button id="sa11y-links-advanced-toggle"\n                    aria-labelledby="check-changerequest"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${n?"true":"false"}">${n?at._("ON"):at._("OFF")}</button>\n                </li>\n                <li id="sa11y-readability-item">\n                  <label id="check-readability" for="sa11y-readability-toggle">${at._("LANG_READABILITY")} <span class="sa11y-badge">AAA</span></label>\n                  <button id="sa11y-readability-toggle"\n                    aria-labelledby="check-readability"\n                    class="sa11y-settings-switch"\n                    aria-pressed="${s?"true":"false"}">${s?at._("ON"):at._("OFF")}</button>\n                </li>\n                <li>\n                  <label id="sa11y-dark-mode" for="sa11y-theme-toggle">${at._("DARK_MODE")}</label>\n                  <button id="sa11y-theme-toggle"\n                    aria-labelledby="sa11y-dark-mode"\n                    class="sa11y-settings-switch"></button>\n                </li>\n              </ul>\n            </div>\n          </div><div id="sa11y-panel-alert">\n          <div class="sa11y-header-text">\n              <button id="sa11y-close-alert" class="sa11y-close-btn" aria-label="${at._("ALERT_CLOSE")}" aria-describedby="sa11y-alert-heading sa11y-panel-alert-text"></button>\n              <h2 id="sa11y-alert-heading">${at._("ALERT_TEXT")}</h2>\n          </div>\n          <p id="sa11y-panel-alert-text"></p>\n          <div id="sa11y-panel-alert-preview"></div>\n        </div><div id="sa11y-panel-content">\n          <button id="sa11y-skip-button" type="button">\n            <div class="sa11y-panel-icon"></div>\n            <span class="sa11y-visually-hidden">${at._("SHORTCUT_SCREEN_READER")}</span>\n          </button>\n          <button id="sa11y-dismiss-button" type="button">\n            <div class="sa11y-dismiss-icon"></div>\n            <span id="sa11y-dismiss-tooltip" class="sa11y-visually-hidden"></span>\n          </button>\n          <div id="sa11y-panel-text">\n            <h1 class="sa11y-visually-hidden">${at._("PANEL_HEADING")}</h1>\n            <p id="sa11y-status" aria-live="polite"></p>\n          </div>\n        </div><div id="sa11y-panel-controls" role="tablist" aria-orientation="horizontal">\n          <button type="button" role="tab" aria-expanded="false" id="sa11y-outline-toggle" aria-controls="sa11y-outline-panel">\n            ${at._("OUTLINE")}\n          </button>\n          <button type="button" role="tab" aria-expanded="false" id="sa11y-settings-toggle" aria-controls="sa11y-settings-panel">\n            ${at._("SETTINGS")}\n          </button>\n          <div style="width:40px;"></div>\n        </div></div>`,document.body.appendChild(e),this.container=document.getElementById("sa11y-container"),this.panel=document.getElementById("sa11y-panel"),this.panelContent=document.getElementById("sa11y-panel-content"),this.panelControls=document.getElementById("sa11y-panel-controls"),this.outlinePanel=document.getElementById("sa11y-outline-panel"),this.outlineList=document.getElementById("sa11y-outline-list"),this.outlineHeader=document.getElementById("sa11y-outline-header"),this.notificationBadge=document.getElementById("sa11y-notification-badge"),this.notificationCount=document.getElementById("sa11y-notification-count"),this.notificationText=document.getElementById("sa11y-notification-text"),this.dismissedBadge=document.getElementById("sa11y-dismissed-badge"),this.status=document.getElementById("sa11y-status"),this.settingsPanel=document.getElementById("sa11y-settings-panel"),this.settingsContent=document.getElementById("sa11y-settings-content"),this.contrastToggle=document.getElementById("sa11y-contrast-toggle"),this.labelsToggle=document.getElementById("sa11y-labels-toggle"),this.linksToggle=document.getElementById("sa11y-links-advanced-toggle"),this.readabilityToggle=document.getElementById("sa11y-readability-toggle"),this.themeToggle=document.getElementById("sa11y-theme-toggle"),this.contrastItem=document.getElementById("sa11y-contrast-item"),this.formLabelsItem=document.getElementById("sa11y-form-labels-item"),this.linksAdvacedItem=document.getElementById("sa11y-links-advanced-item"),this.readabilityItem=document.getElementById("sa11y-readability-item"),this.toggle=document.getElementById("sa11y-toggle"),this.outlineToggle=document.getElementById("sa11y-outline-toggle"),this.settingToggle=document.getElementById("sa11y-settings-toggle"),this.skipButton=document.getElementById("sa11y-skip-button"),this.restoreDismissButton=document.getElementById("sa11y-dismiss-button"),this.dismissTooltip=document.getElementById("sa11y-dismiss-tooltip"),this.alertPanel=document.getElementById("sa11y-panel-alert"),this.alertText=document.getElementById("sa11y-panel-alert-text"),this.alertPreview=document.getElementById("sa11y-panel-alert-preview"),this.closeAlert=document.getElementById("sa11y-close-alert"),this.readabilityInfo=document.getElementById("sa11y-readability-info"),this.readabilityPanel=document.getElementById("sa11y-readability-panel"),this.readabilityDetails=document.getElementById("sa11y-readability-details")},this.globals=()=>{i.readabilityRoot||(i.readabilityRoot=i.checkRoot);const e=["en","fr","es","de","nl","it","sv","fi","da","no","nb","nn"],t=this.html.getAttribute("lang");if(t){const n=t.toLowerCase();e.some((e=>n.includes(e)))||(i.readabilityPlugin=!1)}else i.readabilityPlugin=!1;if(i.containerIgnore){const e=i.containerIgnore.split(",").map((e=>`${e} *, ${e}`));i.containerIgnore=`[aria-hidden], [data-tippy-root] *, #sa11y-container *, #wpadminbar *, ${e.join(", ")}`}else i.containerIgnore="[aria-hidden], [data-tippy-root] *, #sa11y-container *, #wpadminbar *";if(this.containerIgnore=i.containerIgnore,this.contrastIgnore=`${this.containerIgnore}, .sa11y-heading-label, script`,i.contrastIgnore&&(this.contrastIgnore=`${i.contrastIgnore}, ${this.contrastIgnore}`),this.readabilityIgnore=`${this.containerIgnore}, nav li, [role="navigation"] li`,i.readabilityIgnore&&(this.readabilityIgnore=`${i.readabilityIgnore}, ${this.readabilityIgnore}`),this.headerIgnore=this.containerIgnore,i.headerIgnore&&(this.headerIgnore=`${i.headerIgnore}, ${this.headerIgnore}`),i.outlineIgnore&&(this.outlineIgnore=`${i.outlineIgnore}, #sa11y-container h1, #sa11y-container h2`),this.imageIgnore=`${this.containerIgnore}, [role='presentation']`,i.imageIgnore&&(this.imageIgnore=`${i.imageIgnore}, ${this.imageIgnore}`),this.linkIgnore=`${this.containerIgnore}, [aria-hidden="true"], .anchorjs-link`,i.linkIgnore&&(this.linkIgnore=`${i.linkIgnore}, ${this.linkIgnore}`),i.linkIgnoreSpan){const e=i.linkIgnoreSpan.split(",").map((e=>`${e} *, ${e}`));i.linkIgnoreSpan=`noscript, ${e.join(", ")}`}else i.linkIgnoreSpan="noscript";if(i.videoContent){const e=i.videoContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.videoContent=`video, ${e.join(", ")}`}else i.videoContent="video";if(i.audioContent){const e=i.audioContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.audioContent=`audio, ${e.join(", ")}`}else i.audioContent="audio";if(i.dataVizContent){const e=i.dataVizContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.dataVizContent=e.join(", ")}else i.dataVizContent="datastudio.google.com, tableau";if(i.embeddedContent){const e=i.embeddedContent.split(/\s*[\s,]\s*/).map((e=>`[src*='${e}']`));i.embeddedContent=e.join(", ")}let n=!1;"function"==typeof window.matchMedia&&(n=window.matchMedia("(prefers-reduced-motion: reduce)")),this.scrollBehaviour=!n||n.matches?"auto":"smooth"},this.mainToggle=()=>{this.toggle.addEventListener("click",(e=>{"Opened"===this.store.getItem("sa11y-remember-panel")?(this.store.setItem("sa11y-remember-panel","Closed"),this.toggle.classList.remove("sa11y-on"),this.toggle.setAttribute("aria-expanded","false"),this.resetAll(),this.updateBadge(),e.preventDefault()):(this.store.setItem("sa11y-remember-panel","Opened"),this.toggle.classList.add("sa11y-on"),this.toggle.setAttribute("aria-expanded","true"),this.checkAll(),this.notificationBadge.style.display="none",e.preventDefault())})),"Opened"===this.store.getItem("sa11y-remember-panel")&&(this.toggle.classList.add("sa11y-on"),this.toggle.setAttribute("aria-expanded","true")),this.toggle.classList.contains("sa11y-on")&&(this.toggle.classList.toggle("loading-sa11y"),this.toggle.setAttribute("aria-expanded","true"),setTimeout(this.checkAll,400)),document.onkeydown=e=>{const t=e||window.event;"Escape"===t.key&&this.panel.classList.contains("sa11y-active")&&(this.toggle.setAttribute("aria-expanded","false"),this.toggle.classList.remove("sa11y-on"),this.toggle.click(),this.resetAll()),t.altKey&&"KeyA"===t.code&&(this.toggle.click(),this.toggle.focus(),t.preventDefault())}},this.utilities=()=>{this.isElementHidden=e=>{if(e.getAttribute("hidden")||0===e.offsetWidth&&0===e.offsetHeight)return!0;return"none"===getComputedStyle(e).getPropertyValue("display")},this.isElementVisuallyHiddenOrHidden=e=>{if(e.getAttribute("hidden")||0===e.offsetWidth&&0===e.offsetHeight||1===e.clientHeight&&1===e.clientWidth)return!0;return"none"===getComputedStyle(e).getPropertyValue("display")},this.escapeHTML=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML.replaceAll('"',"&quot;").replaceAll("'","&#039;").replaceAll("`","&#x60;")},this.sanitizeHTML=e=>e.replace(/[^\w. ]/gi,(e=>`&#${e.charCodeAt(0)};`)),this.jsEscape=e=>String(e).replace(/[^\w. ]/gi,(e=>`\\u${`0000${e.charCodeAt(0).toString(16)}`.slice(-4)}`)),this.computeTextNodeWithImage=e=>{const t=this.getText(e),i=Array.from(e.querySelectorAll("img"));let n="";if(0===i.length&&t.length>1)n=t;else if(i.length&&0===t.length){const e=i[0].getAttribute("alt");e&&" "!==e&&""!==e?void 0!==e&&(n=e):n=""}else i.length&&t.length&&(i.forEach((e=>{e.insertAdjacentHTML("afterend",` <span class='sa11y-clone-image-text' aria-hidden='true'>${i[0].getAttribute("alt")}</span>`)})),n=t);return n},this.debounce=(e,t)=>{let i=null;return(...n)=>{window.clearTimeout(i),i=window.setTimeout((()=>{e(...n)}),t)}},this.fnIgnore=(e,t)=>{const i=e.cloneNode(!0);return Array.from(t?i.querySelectorAll(t):i.children).forEach((e=>{e.parentElement.removeChild(e)})),i},this.computeAriaLabel=e=>{if(e.matches("[aria-label]"))return e.getAttribute("aria-label");if(e.matches("[aria-labelledby]")){const t=e.getAttribute("aria-labelledby").split(/\s+/);if(t.length>0){let e="";return t.forEach((t=>{const i=t.replaceAll(".","\\.").replaceAll("[","\\[").replaceAll("]","\\]"),n=document.querySelector(`#${i}`);null===n?e+=" ":n.hasAttribute("aria-label")?e+=`${n.getAttribute("aria-label")}`:e+=`${n.firstChild.nodeValue} `})),e}}if(Array.from(e.children).filter((e=>e.matches("[aria-label]"))).length>0){const t=Array.from(e.childNodes);let i="";return t.forEach((e=>{1===e.nodeType?3===e.nodeType||null===e.ariaLabel?i+=e.innerText:i+=e.getAttribute("aria-label"):i+=e.nodeValue})),i}if(Array.from(e.children).filter((e=>e.matches("[aria-labelledby]"))).length>0){const t=Array.from(e.childNodes);let i="";return t.forEach((e=>{if(8===e.nodeType);else if(3===e.nodeType||null===e.getAttribute("aria-labelledby"))i+=e.nodeValue;else{const t=e.getAttribute("aria-labelledby").split(/\s+/);if(t.length>0){let e="";t.forEach((t=>{const i=t.replaceAll(".","\\.").replaceAll("[","\\[").replaceAll("]","\\]");null===document.querySelector(`#${i}`)?e+=" ":e+=`${document.querySelector(`#${i}`).firstChild.nodeValue} `})),i+=e}}})),i}return"noAria"},this.findVisibleParent=(e,t,i)=>{let n=e;for(;null!==n;){if(window.getComputedStyle(n).getPropertyValue(t)===i)return n;n=n.parentElement}return null},this.offsetTop=e=>{const t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i}},this.store={getItem(e){try{return null===localStorage.getItem(e)?sessionStorage.getItem(e):localStorage.getItem(e)}catch(e){return!1}},setItem(e,t){try{localStorage.setItem(e,t)}catch(i){sessionStorage.setItem(e,t)}return!0},removeItem(e){try{localStorage.removeItem(e)}catch(t){sessionStorage.removeItem(e)}return!0}},this.addPulse=e=>{const t="sa11y-pulse-border";document.querySelectorAll(`.${t}`).forEach((e=>e.classList.remove(t))),e.classList.add(t),setTimeout((()=>{e.classList.remove(t)}),2500)},this.createAlert=(e,t)=>{this.alertPanel.classList.add("sa11y-active"),this.alertText.innerHTML=e,t&&(this.alertPreview.classList.add("sa11y-panel-alert-preview"),this.alertPreview.innerHTML=t),setTimeout((()=>{this.closeAlert.focus()}),500),this.closeAlert.addEventListener("click",(()=>{this.removeAlert(),this.skipButton.focus()}))},this.removeAlert=()=>{for(this.alertPanel.classList.remove("sa11y-active"),this.alertPreview.classList.remove("sa11y-panel-alert-preview");this.alertText.firstChild;)this.alertText.removeChild(this.alertText.firstChild);for(;this.alertPreview.firstChild;)this.alertPreview.removeChild(this.alertPreview.firstChild)},this.getText=e=>e.textContent.replace(/[\n\r]+|[\s]{2,}/g," ").trim(),this.getNextSibling=(e,t)=>{let i=e.nextElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.nextElementSibling}return""},this.prepareDismissal=e=>String(e).substring(0,256),this.generateSelectorPath=e=>{const t=[];let i,n=e;for(;n.tagName;){let e=0;if(n.parentNode){const{children:t}=n.parentNode;for(;e<t.length&&t[e]!==n;)e+=1}const{className:s}=n,r=n.id;i=n.localName+(s?`.${s}`:"")+(r?`#${r}`:""),t.unshift(i+(e>0?`:nth-child(${e+1})`:"")),n=n.parentNode}return t.join(" > ")},ct.trapFocus=e=>{const t=e.querySelectorAll("a[href]:not([disabled]), button:not([disabled])"),i=t[0],n=t[t.length-1];e.addEventListener("keydown",(e=>{("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===i&&(n.focus(),e.preventDefault()):document.activeElement===n&&(i.focus(),e.preventDefault()))}))}},this.settingsPanelToggles=()=>{this.contrastToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-contrast")?(this.store.setItem("sa11y-remember-contrast","Off"),this.contrastToggle.textContent=`${at._("OFF")}`,this.contrastToggle.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-contrast","On"),this.contrastToggle.textContent=`${at._("ON")}`,this.contrastToggle.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())},this.labelsToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-labels")?(this.store.setItem("sa11y-remember-labels","Off"),this.labelsToggle.textContent=`${at._("OFF")}`,this.labelsToggle.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-labels","On"),this.labelsToggle.textContent=`${at._("ON")}`,this.labelsToggle.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())},this.linksToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-links-advanced")?(this.store.setItem("sa11y-remember-links-advanced","Off"),this.linksToggle.textContent=`${at._("OFF")}`,this.linksToggle.setAttribute("aria-pressed","false"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-links-advanced","On"),this.linksToggle.textContent=`${at._("ON")}`,this.linksToggle.setAttribute("aria-pressed","true"),this.resetAll(!1),await this.checkAll())},this.readabilityToggle.onclick=async()=>{"On"===this.store.getItem("sa11y-remember-readability")?(this.store.setItem("sa11y-remember-readability","Off"),this.readabilityToggle.textContent=`${at._("OFF")}`,this.readabilityToggle.setAttribute("aria-pressed","false"),this.readabilityPanel.classList.remove("sa11y-active"),this.resetAll(!1),await this.checkAll()):(this.store.setItem("sa11y-remember-readability","On"),this.readabilityToggle.textContent=`${at._("ON")}`,this.readabilityToggle.setAttribute("aria-pressed","true"),this.readabilityPanel.classList.add("sa11y-active"),this.resetAll(!1),await this.checkAll())},"On"===this.store.getItem("sa11y-remember-readability")&&this.readabilityPanel.classList.add("sa11y-active");const e=window.matchMedia("(prefers-color-scheme: dark)");e.matches?(this.themeToggle.textContent=`${at._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true")):(this.themeToggle.textContent=`${at._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false"));e.addEventListener("change",(()=>{e.matches?(this.html.setAttribute("data-sa11y-theme","dark"),this.themeToggle.textContent=`${at._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true"),this.store.setItem("sa11y-remember-theme","")):(this.html.setAttribute("data-sa11y-theme","light"),this.themeToggle.textContent=`${at._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false"),this.store.setItem("sa11y-remember-theme",""))})),this.themeToggle.onclick=async()=>{const t=this.store.getItem("sa11y-remember-theme");"dark"===t?(this.html.setAttribute("data-sa11y-theme","light"),this.store.setItem("sa11y-remember-theme","light"),this.themeToggle.textContent=`${at._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false")):"light"===t?(this.html.setAttribute("data-sa11y-theme","dark"),this.store.setItem("sa11y-remember-theme","dark"),this.themeToggle.textContent=`${at._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true")):e.matches?(this.html.setAttribute("data-sa11y-theme","light"),this.store.setItem("sa11y-remember-theme","light"),this.themeToggle.textContent=`${at._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false")):(this.html.setAttribute("data-sa11y-theme","dark"),this.store.setItem("sa11y-remember-theme","dark"),this.themeToggle.textContent=`${at._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true"))};const t=this.store.getItem("sa11y-remember-theme");"dark"===t?(this.html.setAttribute("data-sa11y-theme","dark"),this.store.setItem("sa11y-remember-theme","dark"),this.themeToggle.textContent=`${at._("ON")}`,this.themeToggle.setAttribute("aria-pressed","true")):"light"===t&&(this.html.setAttribute("data-sa11y-theme","light"),this.store.setItem("sa11y-remember-theme","light"),this.themeToggle.textContent=`${at._("OFF")}`,this.themeToggle.setAttribute("aria-pressed","false"))},this.skipToIssueTooltip=()=>{let e;e=-1!==navigator.userAgent.indexOf("Mac")?'<span class="sa11y-kbd">Option</span> + <span class="sa11y-kbd">S</span>':'<span class="sa11y-kbd">Alt</span> + <span class="sa11y-kbd">S</span>',ot("#sa11y-skip-button",{content:`${at._("SHORTCUT_TOOLTIP")} &raquo; ${e}`,allowHTML:!0,delay:[500,0],trigger:"mouseenter focusin",arrow:!0,placement:"top",theme:"sa11y-theme",maxWidth:165,aria:{content:null,expanded:!1},appendTo:document.body,zIndex:2147483645}),this.dismissTippy=ot(this.restoreDismissButton,{delay:[500,0],trigger:"mouseenter focusin",arrow:!0,placement:"top",theme:"sa11y-theme",maxWidth:165,aria:{content:null,expanded:!1},appendTo:document.body,zIndex:2147483645})},this.detectPageChanges=()=>{if(!0===i.detectSPArouting){let e=o;const t=this.debounce((async()=>{e!==o&&("Closed"!==this.store.getItem("sa11y-remember-panel")&&this.store.getItem("sa11y-remember-panel")||(this.panelActive=!1,this.checkAll()),!0===this.panelActive&&(this.resetAll(!1),await this.checkAll()),e=window.location.pathname)}),250);window.addEventListener("mousemove",t),window.addEventListener("keydown",t)}},this.checkAll=async()=>{if(this.results=[],this.headingOutline=[],this.errorCount=0,this.warningCount=0,!1===i.headless&&(this.dismissed=this.store.getItem("sa11y-dismissed"),this.dismissed=this.dismissed?JSON.parse(this.dismissed):[],this.dismissCount=this.dismissed.filter((e=>e.href===o)).length,this.dismissCount&&this.restoreDismissButton.classList.add("sa11y-active"),this.dismissTooltip.innerText=at.sprintf("PANEL_DISMISS_BUTTON",this.dismissCount),this.dismissTippy.setContent(at.sprintf("PANEL_DISMISS_BUTTON",this.dismissCount))),this.findElements(),this.checkHeaders(),this.checkLinkText(),this.checkImages(),this.checkContrast(),this.checkLabels(),this.checkLinksAdvanced(),this.checkReadability(),this.checkEmbeddedContent(),this.checkQA(),i.customChecks&&i.customChecks.setSa11y&&i.customChecks.check(),!0===i.selectorPath&&this.results.forEach((e=>{if(void 0!==e.element){const t=this.generateSelectorPath(e.element);Object.assign(e,{cssPath:t})}})),!1===i.headless){const e=this.dismissed.map((e=>{const t=this.results.find((t=>e.key.includes(t.dismiss)&&e.href===o));return void 0===t?"":t}));this.results=this.results.filter((t=>!e.find((e=>e.dismiss===t.dismiss)))),this.updateCount(),!0===this.panelActive?(this.results.forEach(((e,t)=>{Object.assign(e,{id:t}),this.annotate(e.element,e.type,e.content,e.inline,e.position,e.id)})),this.initializeTooltips(),this.generatePageOutline(),this.updateStatus(),setTimeout((()=>{this.detectOverflow(),this.nudge()}),0)):(this.resetAll(),this.updateBadge())}},this.updateCount=()=>{this.results.forEach(((e,t)=>{const i=this.results[t].type;i===n?this.errorCount+=1:i===s&&(this.warningCount+=1)}))},this.resetAll=(e=!0)=>{this.panelActive=!0,this.html.removeAttribute("data-sa11y-active");["sa11y-error-border","sa11y-error-text","sa11y-warning-border","sa11y-warning-text","sa11y-good-border","sa11y-good-text","sa11y-overflow"].forEach((e=>document.querySelectorAll(`.${e}`).forEach((t=>t.classList.remove(e)))));for((e=>{e.forEach((e=>document.querySelectorAll(`[${e}]`).forEach((t=>t.removeAttribute(e)))))})(["data-sa11y-parent","data-sa11y-error","data-sa11y-warning","data-sa11y-error-inline","data-sa11y-warning-inline"]),this.readabilityInfo.innerHTML="",document.querySelectorAll("\n        .sa11y-element,\n        .sa11y-instance,\n        .sa11y-instance-inline,\n        .sa11y-heading-label,\n        #sa11y-outline-list li,\n        .sa11y-readability-period,\n        #sa11y-readability-details li,\n        .sa11y-clone-image-text\n      ").forEach((e=>e.parentNode.removeChild(e))),this.removeAlert(),document.removeEventListener("keyup",this.shortcutAltS);this.status.firstChild;)this.status.removeChild(this.status.firstChild);e&&this.panel.classList.remove("sa11y-active")},this.initializeTooltips=()=>{const e={name:"hideOnEsc",defaultValue:!0,fn({hide:e}){const t=t=>{27===t.keyCode&&e()};return{onShow(){document.addEventListener("keydown",t)},onHide(){document.removeEventListener("keydown",t)}}}},t=ot(".sa11y-btn",{interactive:!0,trigger:"mouseenter click",arrow:!0,delay:[0,400],theme:"sa11y-theme",placement:"right-start",allowHTML:!0,aria:{content:"describedby",expanded:"auto"},appendTo:document.body,zIndex:2147483645,plugins:[e],onShow(e){const i=e.popper;t.forEach((e=>{e!==i&&e.hide()})),i.querySelector(".sa11y-close-btn").addEventListener("click",(()=>{e.hide(),e.reference.focus()}))},onTrigger(e,t){"click"===t.type&&(setTimeout((()=>{e.popper.querySelector(".sa11y-close-btn").focus()}),0),ct.trapFocus(e.popper))},onHide(e){e.popper.querySelector(".sa11y-close-btn").removeEventListener("click",(()=>{e.hide()}))}})},this.dismissAnnotations=()=>{!0===i.dismissAnnotations&&(document.addEventListener("click",(async e=>{let t=JSON.parse(this.store.getItem("sa11y-dismissed"));const i=e.target;if("BUTTON"===i.tagName&&i.hasAttribute("data-sa11y-dismiss")){const e=parseInt(i.getAttribute("data-sa11y-dismiss"),10),n=this.results.find((t=>t.id===e));null===t&&(t=[]);const s={key:n.dismiss,href:o},r=document.querySelector(`[data-sa11y-annotation='${n.id}']`);this.latestDismissed=r.getAttribute("data-sa11y-position"),this.store.setItem("sa11y-dismiss-item",JSON.stringify(s)),t.push(s),this.store.setItem("sa11y-dismissed",JSON.stringify(t)),this.store.removeItem("sa11y-dismiss-item"),this.restoreDismissButton.classList.add("sa11y-active"),null!==i.closest("[data-tippy-root]")&&i.closest("[data-tippy-root]").remove(),this.resetAll(!1),await this.checkAll()}}),!1),this.restoreDismissButton.onclick=async()=>{this.dismissTippy.hide();const e=this.dismissed.filter((e=>e.href!==o));this.store.setItem("sa11y-dismissed",JSON.stringify(e)),this.restoreDismissButton.classList.remove("sa11y-active"),this.resetAll(!1),await this.checkAll()})},this.detectOverflow=()=>{document.querySelectorAll(".sa11y-btn").forEach((e=>{const t=((e,t,i)=>{let n=e;for(;null!==n;){if(window.getComputedStyle(n).getPropertyValue(t)===i)return n;n=n.parentElement}return null})(e,"overflow","hidden");null!==t&&t.classList.add("sa11y-overflow")}))},this.nudge=()=>{document.querySelectorAll(".sa11y-instance, .sa11y-instance-inline").forEach((e=>{const t=e.nextElementSibling;null!==t&&(t.classList.contains("sa11y")||t.hasAttribute("data-sa11y-error")||t.hasAttribute("data-sa11y-warning"))&&null!==t.querySelector(".sa11y-btn")&&t.querySelector(".sa11y-btn").setAttribute("style","margin: -10px -20px !important;")}))},this.updateBadge=()=>{const e=this.errorCount+this.warningCount;0===e?this.notificationBadge.style.display="none":this.warningCount>0&&0===this.errorCount?(this.notificationBadge.style.display="flex",this.notificationBadge.classList.add("sa11y-notification-badge-warning"),this.notificationCount.innerText=`${this.warningCount}`,this.notificationText.innerText=`${at._("PANEL_ICON_WARNINGS")}`):(this.notificationBadge.style.display="flex",this.notificationBadge.classList.remove("sa11y-notification-badge-warning"),this.notificationCount.innerText=`${e}`,this.notificationText.innerText=at._("PANEL_ICON_TOTAL"))},this.updateStatus=()=>{if(this.skipToIssue(),this.skipButton.disabled=!1,this.panel.classList.add("sa11y-active"),this.html.setAttribute("data-sa11y-active","true"),this.skipButton.classList.add("sa11y-active"),this.errorCount>0&&this.warningCount>0)this.panelContent.setAttribute("class","sa11y-errors"),this.status.innerHTML=`${at._("ERRORS")} <span class="sa11y-panel-count">${this.errorCount}</span> ${at._("WARNINGS")} <span class="sa11y-panel-count" id="sa11y-warning-count">${this.warningCount}</span>`;else if(this.errorCount>0)this.panelContent.setAttribute("class","sa11y-errors"),this.status.innerHTML=`${at._("ERRORS")} <span class="sa11y-panel-count">${this.errorCount}</span>`;else if(this.warningCount>0)this.panelContent.setAttribute("class","sa11y-warnings"),this.status.innerHTML=`${at._("WARNINGS")} <span class="sa11y-panel-count" id="sa11y-warning-count">${this.warningCount}</span>`;else{this.dismissCount>0?(this.status.innerHTML=`${at._("DISMISSED")} <span class="sa11y-panel-count">${this.dismissCount}</span>`,this.skipButton.classList.remove("sa11y-active")):(this.panelContent.setAttribute("class","sa11y-good"),this.status.innerHTML=`${at._("PANEL_STATUS_NONE")}`);0===document.querySelectorAll(".sa11y-btn").length&&(this.skipButton.disabled=!0)}},this.initializePanelToggles=()=>{this.outlineToggle.addEventListener("click",(()=>{"true"===this.outlineToggle.getAttribute("aria-expanded")?(this.outlineToggle.classList.remove("sa11y-outline-active"),this.outlinePanel.classList.remove("sa11y-active"),this.outlineToggle.setAttribute("aria-expanded","false"),this.store.setItem("sa11y-remember-outline","Closed")):(this.outlineToggle.classList.add("sa11y-outline-active"),this.outlinePanel.classList.add("sa11y-active"),this.outlineToggle.setAttribute("aria-expanded","true"),this.store.setItem("sa11y-remember-outline","Opened")),document.querySelector("#sa11y-outline-header > h2").focus();document.querySelectorAll(".sa11y-heading-label").forEach((e=>e.classList.toggle("sa11y-label-visible"))),this.settingsPanel.classList.remove("sa11y-active"),this.settingToggle.classList.remove("sa11y-settings-active"),this.settingToggle.setAttribute("aria-expanded","false"),this.outlineList.clientHeight>250&&this.outlineList.setAttribute("tabindex","0")})),"Opened"===this.store.getItem("sa11y-remember-outline")&&(this.outlineToggle.classList.add("sa11y-outline-active"),this.outlinePanel.classList.add("sa11y-active"),this.outlineToggle.setAttribute("aria-expanded","true")),this.settingToggle.addEventListener("click",(()=>{"true"===this.settingToggle.getAttribute("aria-expanded")?(this.settingToggle.classList.remove("sa11y-settings-active"),this.settingsPanel.classList.remove("sa11y-active"),this.settingToggle.setAttribute("aria-expanded","false")):(this.settingToggle.classList.add("sa11y-settings-active"),this.settingsPanel.classList.add("sa11y-active"),this.settingToggle.setAttribute("aria-expanded","true")),document.querySelector("#sa11y-settings-header > h2").focus(),this.outlinePanel.classList.remove("sa11y-active"),this.outlineToggle.classList.remove("sa11y-outline-active"),this.outlineToggle.setAttribute("aria-expanded","false");document.querySelectorAll(".sa11y-heading-label").forEach((e=>e.classList.remove("sa11y-label-visible"))),this.store.setItem("sa11y-remember-outline","Closed"),this.settingsContent.clientHeight>350&&(this.settingsContent.setAttribute("tabindex","0"),this.settingsContent.setAttribute("aria-label",`${at._("SETTINGS")}`),this.settingsContent.setAttribute("role","region"))})),this.panelControls.addEventListener("keydown",(e=>{const t=document.querySelectorAll("#sa11y-outline-toggle[role=tab], #sa11y-settings-toggle[role=tab]");if("ArrowRight"===e.key)for(let i=0;i<t.length;i++)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i+1].focus(),e.preventDefault();break}if("ArrowDown"===e.key)for(let i=0;i<t.length;i++)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i+1].focus(),e.preventDefault();break}if("ArrowLeft"===e.key)for(let i=t.length-1;i>0;i--)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i-1].focus(),e.preventDefault();break}if("ArrowUp"===e.key)for(let i=t.length-1;i>0;i--)if("true"===t[i].getAttribute("aria-expanded")||"false"===t[i].getAttribute("aria-expanded")){t[i-1].focus(),e.preventDefault();break}}))},this.skipToIssue=()=>{document.querySelectorAll("[data-sa11y-annotation]").forEach(((e,t)=>{e.setAttribute("data-sa11y-position",t)}));const e=document.querySelectorAll("[data-sa11y-position]"),t=e.length;let i;i=void 0!==this.latestDismissed?this.latestDismissed-1:void 0!==this.activeAnnotation?this.activeAnnotation:-1;const n=()=>{e.forEach((e=>{const t=this.findVisibleParent(e,"display","none");if(null!==t){const e=t.previousElementSibling;e?this.addPulse(e):this.addPulse(t.parentNode)}}))},s=t=>{if(0===t.offsetTop){const s=this.findVisibleParent(t,"display","none");n();const r=e[i].getAttribute("data-tippy-content");if(this.createAlert(`${at._("NOT_VISIBLE_ALERT")}`,r),s){const e=s.previousElementSibling,{parentNode:t}=s;return e?this.offsetTop(e).top-150:this.offsetTop(t).top-150}}return this.removeAlert(),this.skipButton.focus(),this.offsetTop(t).top-150},r=()=>{const n=document.querySelector(".sa11y-btn[aria-expanded=true]");n&&(this.activeAnnotation=parseInt(n.getAttribute("data-sa11y-position"),10),n.click(),i=this.activeAnnotation),i+=1;const r=e[i];if(r){const e=s(r);window.scrollTo({top:e,behavior:`${this.scrollBehaviour}`}),0!==r.offsetTop&&(r.focus(),r.click())}i>=t-1&&(i=-1)},o=()=>{const t=document.querySelector(".sa11y-btn[aria-expanded=true]");if(t){const e=parseInt(t.getAttribute("data-sa11y-position"),10);t.click(),i=e}i=Math.max(0,i-=1);const n=e[i];if(n){const e=s(n);window.scrollTo({top:e,behavior:`${this.scrollBehaviour}`}),0!==n.offsetTop&&(n.focus(),n.click())}};this.shortcutAltS=e=>{e.preventDefault(),t&&e.altKey&&("Period"===e.code||"KeyS"===e.code)?r():t&&e.altKey&&("Comma"===e.code||"KeyW"===e.code)&&o()},document.addEventListener("keyup",this.shortcutAltS,!1),this.skipButton.addEventListener("click",r,!1)},this.findElements=()=>{const e=(e,t,n)=>{let s;"document"===n?s=document:"readability"===n?s=document.querySelector(i.readabilityRoot):(s=document.querySelector(i.checkRoot),this.root=s),s||(s=document.body,this.root=document.body,this.createAlert(`${at.sprintf("ERROR_MISSING_ROOT_TARGET",i.checkRoot)}`));const r=Array.from(document.querySelectorAll(t));return Array.from(s.querySelectorAll(e)).filter((e=>!r.includes(e)))};this.contrast=e("*",this.contrastIgnore),this.images=e("img",this.imageIgnore),this.headings=e('h1, h2, h3, h4, h5, h6, [role="heading"][aria-level]',this.headerIgnore),this.headingOne=e('h1, [role="heading"][aria-level="1"]',this.headerIgnore,"document"),this.links=e("a[href]",this.linkIgnore),this.readability=e("p, li",this.readabilityIgnore,"readability"),this.paragraphs=e("p",this.containerIgnore),this.lists=e("li",this.containerIgnore),this.spans=e("span",this.containerIgnore),this.blockquotes=e("blockquote",this.containerIgnore),this.tables=e('table:not([role="presentation"])',this.containerIgnore),this.pdf=e('a[href$=".pdf"]',this.containerIgnore),this.strongitalics=e("strong, em",this.containerIgnore),this.inputs=e("input, select, textarea",this.containerIgnore),this.ids=e("[id]",this.containerIgnore,"document"),this.underlines=e("u",this.containerIgnore),this.subscripts=e("sup, sub",this.containerIgnore),this.labels=e("label",this.containerIgnore),this.language=this.html.getAttribute("lang"),this.customErrorLinks=i.linksToFlag?e(i.linksToFlag,this.containerIgnore):[],this.iframes=e("iframe, audio, video",this.containerIgnore),this.videos=this.iframes.filter((e=>e.matches(i.videoContent))),this.audio=this.iframes.filter((e=>e.matches(i.audioContent))),this.datavisualizations=this.iframes.filter((e=>e.matches(i.dataVizContent))),this.embeddedContent=this.iframes.filter((e=>!e.matches(i.embeddedContent)))},this.generatePageOutline=()=>{const e=[];this.dismissed.map((e=>{const t=this.headingOutline.find((t=>e.key.includes(t.dismiss)&&e.href===o));return void 0===t?"":t})).forEach((e=>{Object.assign(e,{dismissedHeading:!0})})),this.headingOutline.forEach((t=>{const r=t.element,o=t.headingLevel,a=t.text,l=t.index,c=t.type,d=t.hidden,u=t.visibleParent,h=t.dismissedHeading;let p=[];if(i.outlineIgnore&&(p=Array.from(document.querySelectorAll(this.outlineIgnore))),!p.includes(r)){const t=!0===d?'<span class="sa11y-hidden-icon"></span><span class="sa11y-visually-hidden">Hidden</span>':"",i=!0===d?'class="sa11y-hidden-h"':"";let r;c===n?(r=`\n            <li class="sa11y-outline-${o}">\n              <a role="button" id="sa11y-link-${l}" tabindex="-1" ${i}>\n                <span class="sa11y-badge sa11y-error-badge">\n                <span aria-hidden="true">${t} &#33;</span>\n                <span class="sa11y-visually-hidden">${at._("ERROR")}</span> ${o}</span>\n                <strong class="sa11y-outline-list-item sa11y-red-text">${a}</strong>\n              </a>\n            </li>`,e.push(r)):c!==s||h?(r=`\n            <li class="sa11y-outline-${o}">\n              <a role="button" id="sa11y-link-${l}" tabindex="-1" ${i}>\n                <span class="sa11y-badge">${t} ${o}</span>\n                <span class="sa11y-outline-list-item">${a}</span>\n              </a>\n            </li>`,e.push(r)):(r=`\n            <li class="sa11y-outline-${o}">\n              <a role="button" id="sa11y-link-${l}" tabindex="-1" ${i}>\n                <span class="sa11y-badge sa11y-warning-badge">\n                <span aria-hidden="true">${t} &#x3f;</span>\n                <span class="sa11y-visually-hidden">${at._("WARNING")}</span> ${o}</span>\n                <strong class="sa11y-outline-list-item sa11y-yellow-text">${a}</strong>\n              </a>\n            </li>`,e.push(r))}const f=document.createElement("span");if(f.classList.add("sa11y-heading-label"),f.innerHTML=`H${o}`,null!==u){r.insertAdjacentElement("beforeend",f);const e=u.previousElementSibling,t=`<span class="sa11y-element" id="sa11y-h${l}"></span>`;e?(e.insertAdjacentHTML("beforebegin",t),e.setAttribute("data-sa11y-parent",`h${l}`)):(u.parentNode.insertAdjacentHTML("beforebegin",t),u.parentNode.setAttribute("data-sa11y-parent",`h${l}`))}else f.setAttribute("id",`sa11y-h${l}`),r.insertAdjacentElement("beforeend",f);"Opened"===this.store.getItem("sa11y-remember-outline")&&f.classList.add("sa11y-label-visible")})),this.outlineList.innerHTML=e.join(" "),setTimeout((()=>{const e=Array.from(this.outlineList.querySelectorAll("a"));e.forEach(((e,t)=>{const i=document.getElementById(`sa11y-link-${t}`),n=document.getElementById(`sa11y-h${t}`),s=n.parentElement,r=document.querySelector(`[data-sa11y-parent="h${t}"]`),o=()=>n.scrollIntoView({behavior:`${this.scrollBehaviour}`,block:"center"}),a=()=>null!==r?this.addPulse(r):this.addPulse(s),l=e=>{("keyup"===e.type&&"Enter"===e.code||"click"===e.type)&&(o(),a(),i.classList.contains("sa11y-hidden-h")?this.createAlert(`${at._("HEADING_NOT_VISIBLE_ALERT")}`):this.alertPanel.classList.contains("sa11y-active")&&this.removeAlert()),e.preventDefault()};i.addEventListener("click",l,!1),i.addEventListener("keyup",l,!1)}));let t=0;const i=i=>{if(!["ArrowUp","ArrowDown","Space"].includes(i.code))return;if("Space"===i.code)return void e[t].click();let n;e[t].setAttribute("tabindex",-1),"ArrowDown"===i.code?(n=t+1,t===e.length-1&&(n=0)):"ArrowUp"===i.code&&(n=t-1,0===t&&(n=e.length-1)),e[n].setAttribute("tabindex",0),e[n].focus(),t=n,i.preventDefault()};this.outlineList.addEventListener("focus",(()=>{e.length>0&&(this.outlineList.setAttribute("tabindex",-1),e[t].setAttribute("tabindex",0),e[t].focus()),this.outlineList.addEventListener("keydown",i)})),this.outlineList.addEventListener("blur",(()=>{this.outlineList.removeEventListener("keydown",i)}))}),0)},this.annotate=(e,t,o,a=!1,l,c)=>{const d=[n,s,r];if(-1===d.indexOf(t))throw Error(`Invalid type [${t}] for annotation`);[t].forEach((t=>{if(t===n&&void 0!==e){const t=a?"data-sa11y-error-inline":"data-sa11y-error";e.setAttribute(t,c)}else if(t===s){const t=a?"data-sa11y-warning-inline":"data-sa11y-warning";e.setAttribute(t,c)}}));const u={[d[0]]:"error",[d[1]]:"warning",[d[2]]:"good"},h=!0===i.dismissAnnotations&&"warning"===u[t]?`<button data-sa11y-dismiss='${c}' type='button'>${at._("DISMISS")}</button>`:"",p=document.createElement("div");if(void 0===e){p.setAttribute("class","sa11y-instance"),p.innerHTML=`\n          <div data-sa11y-annotation="${c}" tabindex="-1" class="sa11y-page-error-text">\n          <div class="sa11y-header-text"><h2>${[t]}</h2></div>\n            ${o}\n          </div>`;document.querySelector("#sa11y-page-errors").insertAdjacentElement("afterbegin",p)}else{p.classList.add(""+(a?"sa11y-instance-inline":"sa11y-instance")),p.innerHTML=`\n        <button\n          data-sa11y-annotation="${c}"\n          type="button"\n          aria-label="${[t]}"\n          class="sa11y-btn sa11y-${u[t]}-btn${a?"-text":""}"\n          data-tippy-content=\n            "<div lang='${at._("LANG_CODE")}' class='sa11y-annotation-tooltip'>\n              <button class='sa11y-close-btn sa11y-close-tooltip' aria-label='${at._("ALERT_CLOSE")}'></button>\n              <div class='sa11y-header-text'>${[t]}</div>\n                ${this.escapeHTML(o)}\n                ${h}\n            </div>"\n        ></button>`;let i=e.closest("a, button");i||(i=e),i.insertAdjacentElement(l,p)}},this.checkHeaders=()=>{let e;this.headings.forEach(((t,r)=>{const o=this.computeTextNodeWithImage(t),a=this.sanitizeHTML(o);let l;l=t.getAttribute("aria-level")?+t.getAttribute("aria-level"):+t.tagName.slice(1),l=parseInt(l,10);const c=a.length;let d=null,u=null;if(l-e>1&&0!==r)if(!0===i.nonConsecutiveHeadingIsError)d=at.sprintf("HEADING_NON_CONSECUTIVE_LEVEL",e,l),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"});else{u=at.sprintf("HEADING_NON_CONSECUTIVE_LEVEL",e,l);const i=this.prepareDismissal(l+a);this.results.push({element:t,type:s,content:u,inline:!1,position:"beforebegin",dismiss:i})}else if(0===c)if(t.querySelectorAll("img").length){const e=t.querySelector("img").getAttribute("alt");null!==e&&" "!==e&&""!==e||(d=at.sprintf("HEADING_EMPTY_WITH_IMAGE",l),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"}))}else d=at.sprintf("HEADING_EMPTY",l),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"});else if(0===r&&1!==l&&2!==l)d=at._("HEADING_FIRST"),this.results.push({element:t,type:n,content:d,inline:!1,position:"beforebegin"});else if(c>170&&!0===i.flagLongHeadings){u=at.sprintf("HEADING_LONG",c);const e=this.prepareDismissal(l+a);this.results.push({element:t,type:s,content:u,inline:!1,position:"beforebegin",dismiss:e})}e=l;const h=this.isElementVisuallyHiddenOrHidden(t),p=this.findVisibleParent(t,"display","none");if(null!==d)this.headingOutline.push({element:t,headingLevel:l,text:a,index:r,type:n,hidden:h,visibleParent:p});else if(null!==u){const e=this.prepareDismissal(l+a);this.headingOutline.push({element:t,headingLevel:l,text:a,index:r,type:s,hidden:h,visibleParent:p,dismiss:e})}else null!==d&&null!==u||this.headingOutline.push({element:t,headingLevel:l,text:a,index:r,hidden:h,visibleParent:p})})),0===this.headingOne.length&&this.results.push({type:n,content:at.sprintf("HEADING_MISSING_ONE")})},this.checkLinkText=()=>{this.links.forEach((e=>{let t=this.computeAriaLabel(e);const o=e.getAttribute("aria-labelledby"),a=e.getAttribute("aria-label");let l=null,c=null;const d=e.getAttribute("title");if(e.children.length){const t=e.children[0];l=t.getAttribute("aria-labelledby"),c=t.getAttribute("aria-label")}if("noAria"===t){t=this.getText(e);const i=e.querySelector("img");if(i){const e=this.computeAriaLabel(i);t+="noAria"!==e?e:i&&i.getAttribute("alt")||""}}const u=(e=>{const t=[null,null,null];return at._("PARTIAL_ALT_STOPWORDS").forEach((i=>(e.length===i.length&&e.toLowerCase().indexOf(i)>=0&&(t[0]=i),!1))),at._("WARNING_ALT_STOPWORDS").forEach((i=>(e.toLowerCase().indexOf(i)>=0&&(t[1]=i),!1))),["http",".asp",".htm",".php",".edu/",".com/",".net/",".org/",".us/",".ca/",".de/",".icu/",".uk/",".ru/",".info/",".top/",".xyz/",".tk/",".cn/",".ga/",".cf/",".nl/",".io/",".fr/",".pe/",".nz/",".pt/",".es/",".pl/",".ua/"].forEach((i=>(e.toLowerCase().indexOf(i)>=0&&(t[2]=i),!1))),t})(this.fnIgnore(e,i.linkIgnoreSpan).textContent.replace(/[!*?]/g,"").trim());if(e.querySelectorAll("img").length);else if(e.getAttribute("href")&&!t)e&&d||(e.children.length?this.results.push({element:e,type:n,content:at.sprintf("LINK_EMPTY_LINK_NO_LABEL"),inline:!0,position:"afterend"}):this.results.push({element:e,type:n,content:at.sprintf("LINK_EMPTY"),inline:!0,position:"afterend"}));else if(null!=u[0])o||a||l||c?!0===i.showGoodLinkButton&&this.results.push({element:e,type:r,content:at.sprintf("LINK_LABEL",t),inline:!0,position:"afterend"}):"true"===e.getAttribute("aria-hidden")&&"-1"===e.getAttribute("tabindex")||this.results.push({element:e,type:n,content:at.sprintf("LINK_STOPWORD",u[0]),inline:!0,position:"afterend"});else if(null!=u[1]){const i=this.prepareDismissal(`link: ${t} ${u[1]}`);this.results.push({element:e,type:s,content:at.sprintf("LINK_BEST_PRACTICES",u[1]),inline:!0,position:"beforebegin",dismiss:i})}else if(null!=u[2]){const i=this.prepareDismissal(`link: ${t} ${u[2]}`);t.length>40&&this.results.push({element:e,type:s,content:at.sprintf("LINK_URL"),inline:!0,position:"beforebegin",dismiss:i})}else(o||a||l||c)&&!0===i.showGoodLinkButton&&this.results.push({element:e,type:r,content:at.sprintf("LINK_LABEL",t),inline:!0,position:"afterend"})}))},this.checkLinksAdvanced=()=>{if(!0===i.linksAdvancedPlugin){if("On"===this.store.getItem("sa11y-remember-links-advanced")||!0===i.headless){const e={};this.links.forEach((t=>{let i=this.computeAriaLabel(t);const n=t.querySelector("img");if("noAria"===i&&(i=this.getText(t),n)){const e=this.computeAriaLabel(n);i+="noAria"!==e?e:n&&n.getAttribute("alt")||""}const r=i.replace(/'|"|-|\.|\s+/g,"").toLowerCase(),o=t.getAttribute("href");if(0!==i.length)if(e[r]&&0!==r.length)if(e[o]);else{const e=this.prepareDismissal(`link: ${r}`);this.results.push({element:t,type:s,content:at.sprintf("LINK_IDENTICAL_NAME",i),inline:!0,position:"beforebegin",dismiss:e})}else e[r]=!0,e[o]=!0;const a=at._("NEW_WINDOW_PHRASES").some((e=>(0===i.trim().length&&t.getAttribute("title")&&(i=t.getAttribute("title")),i.toLowerCase().indexOf(e)>=0))),l=at._("FILE_TYPE_PHRASES").some((e=>i.toLowerCase().indexOf(e)>=0)),c=t.matches("\n              a[href$='.pdf'],\n              a[href$='.doc'],\n              a[href$='.docx'],\n              a[href$='.zip'],\n              a[href$='.mp3'],\n              a[href$='.txt'],\n              a[href$='.exe'],\n              a[href$='.dmg'],\n              a[href$='.rtf'],\n              a[href$='.pptx'],\n              a[href$='.ppt'],\n              a[href$='.xls'],\n              a[href$='.xlsx'],\n              a[href$='.csv'],\n              a[href$='.mp4'],\n              a[href$='.mov'],\n              a[href$='.avi']\n            ");if(0!==r.length&&"_blank"===t.getAttribute("target")&&!c&&!a){const e=this.prepareDismissal(`link: ${r}`);this.results.push({element:t,type:s,content:at.sprintf("NEW_TAB_WARNING"),inline:!0,position:"beforebegin",dismiss:e})}if(0!==r.length&&c&&!l){const e=this.prepareDismissal(`link: ${r}`);this.results.push({element:t,type:s,content:at.sprintf("FILE_TYPE_WARNING"),inline:!0,position:"beforebegin",dismiss:e})}}))}}else this.linksAdvacedItem.setAttribute("style","display: none !important;"),this.store.setItem("sa11y-remember-links-advanced","Off")},this.checkImages=()=>{this.containsAltTextStopWords=e=>{const t=[null,null,null];return[".png",".jpg",".jpeg",".webp",".gif",".tiff",".svg"].forEach((i=>{e.toLowerCase().indexOf(i)>=0&&(t[0]=i)})),at._("SUSPICIOUS_ALT_STOPWORDS").forEach((i=>{e.toLowerCase().indexOf(i)>=0&&(t[1]=i)})),at._("PLACEHOLDER_ALT_STOPWORDS").forEach((i=>{e.length===i.length&&e.toLowerCase().indexOf(i)>=0&&(t[2]=i)})),t},this.images.forEach((e=>{const t=e.getAttribute("alt");if(null===t)e.closest("a[href]")?this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1?this.results.push({element:e,type:n,content:at.sprintf("MISSING_ALT_LINK_BUT_HAS_TEXT_MESSAGE"),inline:!1,position:"beforebegin"}):0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length&&this.results.push({element:e,type:n,content:at.sprintf("MISSING_ALT_LINK_MESSAGE"),inline:!1,position:"beforebegin"}):this.results.push({element:e,type:n,content:at.sprintf("MISSING_ALT_MESSAGE"),inline:!1,position:"beforebegin"});else{const i=this.sanitizeHTML(t),o=this.containsAltTextStopWords(i),a=t.length,l=e.getAttribute("src").split("?")[0];if(e.closest("a[href]")&&"-1"===e.closest("a[href]").getAttribute("tabindex")&&"true"===e.closest("a[href]").getAttribute("aria-hidden"));else if(null!==o[0]&&e.closest("a[href]"))this.results.push({element:e,type:n,content:at.sprintf("LINK_IMAGE_BAD_ALT_MESSAGE",o[0],i),inline:!1,position:"beforebegin"});else if(null!==o[2]&&e.closest("a[href]"))this.results.push({element:e,type:n,content:at.sprintf("LINK_IMAGE_PLACEHOLDER_ALT_MESSAGE",i),inline:!1,position:"beforebegin"});else if(null!==o[1]&&e.closest("a[href]")){const t=this.prepareDismissal(`link: ${l} ${i} ${o[1]}`);this.results.push({element:e,type:s,content:at.sprintf("LINK_IMAGE_SUS_ALT_MESSAGE",o[1],i),inline:!1,position:"beforebegin",dismiss:t})}else if(null!==o[0])this.results.push({element:e,type:n,content:at.sprintf("LINK_ALT_HAS_BAD_WORD_MESSAGE",o[0],i),inline:!1,position:"beforebegin"});else if(null!==o[2])this.results.push({element:e,type:n,content:at.sprintf("ALT_PLACEHOLDER_MESSAGE",i),inline:!1,position:"beforebegin"});else if(null!==o[1]){const t=this.prepareDismissal(l+i+o[1]);this.results.push({element:e,type:s,content:at.sprintf("ALT_HAS_SUS_WORD",o[1],i),inline:!1,position:"beforebegin",dismiss:t})}else if(""!==t&&" "!==t||!e.closest("a[href]")){if(t.length>250&&e.closest("a[href]")){const n=this.prepareDismissal(l+i+t.length);this.results.push({element:e,type:s,content:at.sprintf("LINK_IMAGE_LONG_ALT",a,i),inline:!1,position:"beforebegin",dismiss:n})}else if(""!==t&&e.closest("a[href]")&&0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length){const t=this.prepareDismissal(`image link: ${l} ${i}`);this.results.push({element:e,type:s,content:at.sprintf("LINK_IMAGE_ALT_WARNING",i),inline:!1,position:"beforebegin",dismiss:t})}else if(""!==t&&e.closest("a[href]")&&this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length>=1){const t=this.prepareDismissal(`image link: ${l} ${i}`);this.results.push({element:e,type:s,content:at.sprintf("LINK_IMAGE_ALT_AND_TEXT_WARNING",i),inline:!1,position:"beforebegin",dismiss:t})}else if(""===t||" "===t)if(e.closest("figure")){const t=e.closest("figure").querySelector("figcaption");if(null!==t&&t.textContent.trim().length>=1){const t=this.prepareDismissal(`decorative: ${l}`);this.results.push({element:e,type:s,content:at.sprintf("IMAGE_FIGURE_DECORATIVE"),inline:!1,position:"beforebegin",dismiss:t})}else{const t=this.prepareDismissal(`decorative: ${l}`);this.results.push({element:e,type:s,content:at.sprintf("IMAGE_DECORATIVE"),inline:!1,position:"beforebegin",dismiss:t})}}else{const t=this.prepareDismissal(`decorative: ${l}`);this.results.push({element:e,type:s,content:at.sprintf("IMAGE_DECORATIVE"),inline:!1,position:"beforebegin",dismiss:t})}else if(t.length>250){const n=this.prepareDismissal(l+i+t.length);this.results.push({element:e,type:s,content:at.sprintf("IMAGE_ALT_TOO_LONG",a,i),inline:!1,position:"beforebegin",dismiss:n})}else if(""!==t)if(e.closest("figure")){const t=e.closest("figure").querySelector("figcaption");if(t&&t.textContent.trim().toLowerCase()===i.trim().toLowerCase()){const t=this.prepareDismissal(`figure: ${l} ${i}`);this.results.push({element:e,type:s,content:at.sprintf("IMAGE_FIGURE_DUPLICATE_ALT",i),inline:!1,position:"beforebegin",dismiss:t})}else this.results.push({element:e,type:r,content:at.sprintf("IMAGE_PASS",i),inline:!1,position:"beforebegin"})}else this.results.push({element:e,type:r,content:at.sprintf("IMAGE_PASS",i),inline:!1,position:"beforebegin"})}else"-1"===e.closest("a[href]").getAttribute("tabindex")&&"true"===e.closest("a[href]").getAttribute("aria-hidden")||("true"===e.closest("a[href]").getAttribute("aria-hidden")?this.results.push({element:e,type:n,content:at.sprintf("LINK_IMAGE_ARIA_HIDDEN"),inline:!1,position:"beforebegin"}):0===this.fnIgnore(e.closest("a[href]"),"noscript").textContent.trim().length?this.results.push({element:e,type:n,content:at.sprintf("LINK_IMAGE_NO_ALT_TEXT"),inline:!1,position:"beforebegin"}):this.results.push({element:e,type:r,content:at.sprintf("LINK_IMAGE_HAS_TEXT"),inline:!1,position:"beforebegin"}))}}))},this.checkLabels=()=>{!0===i.formLabelsPlugin?"On"!==this.store.getItem("sa11y-remember-labels")&&!0!==i.headless||this.inputs.forEach((e=>{if(!0!==this.isElementHidden(e)){let t=this.computeAriaLabel(e);const i=e.getAttribute("type"),r=e.getAttribute("tabindex");if("submit"===i||"button"===i||"hidden"===i||"-1"===r);else if("image"===i){const t=e.getAttribute("alt");t&&" "!==t||e.getAttribute("aria-label")||this.results.push({element:e,type:n,content:at.sprintf("LABELS_MISSING_IMAGE_INPUT_MESSAGE"),inline:!1,position:"beforebegin"})}else if("reset"===i){const i=this.prepareDismissal(`input: ${t}`);this.results.push({element:e,type:s,content:at.sprintf("LABELS_INPUT_RESET_MESSAGE"),inline:!1,position:"beforebegin",dismiss:i})}else if(e.getAttribute("aria-label")||e.getAttribute("aria-labelledby")||e.getAttribute("title"))if(e.getAttribute("title")){t=e.getAttribute("title");const i=this.prepareDismissal(`input: ${t}`);this.results.push({element:e,type:s,content:at.sprintf("LABELS_ARIA_LABEL_INPUT_MESSAGE",t),inline:!1,position:"beforebegin",dismiss:i})}else{const i=this.prepareDismissal(`input: ${t}`);this.results.push({element:e,type:s,content:at.sprintf("LABELS_ARIA_LABEL_INPUT_MESSAGE",t),inline:!1,position:"beforebegin",dismiss:i})}else if(e.closest("label")&&e.closest("label").textContent.trim());else if(e.getAttribute("id")){let t=!1;if(this.labels.forEach((i=>{t||i.getAttribute("for")===e.getAttribute("id")&&(t=!0)})),!t){const t=e.getAttribute("id");this.results.push({element:e,type:n,content:at.sprintf("LABELS_NO_FOR_ATTRIBUTE_MESSAGE",t),inline:!1,position:"beforebegin"})}}else this.results.push({element:e,type:n,content:at.sprintf("LABELS_MISSING_LABEL_MESSAGE"),inline:!1,position:"beforebegin"})}})):(this.formLabelsItem.setAttribute("style","display: none !important;"),this.store.setItem("sa11y-remember-labels","Off"))},this.checkEmbeddedContent=()=>{!0===i.embeddedContentAll&&(!0===i.embeddedContentAudio&&this.audio.forEach((e=>{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:at.sprintf("EMBED_AUDIO"),inline:!1,position:"beforebegin",dismiss:t})})),!0===i.embeddedContentVideo&&this.videos.forEach((e=>{const t=e.getElementsByTagName("TRACK");if("VIDEO"===e.tagName&&t.length);else{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:at.sprintf("EMBED_VIDEO"),inline:!1,position:"beforebegin",dismiss:t})}})),!0===i.embeddedContentDataViz&&this.datavisualizations.forEach((e=>{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:at.sprintf("EMBED_DATA_VIZ"),inline:!1,position:"beforebegin",dismiss:t})})),!0===i.embeddedContentTitles&&this.iframes.forEach((e=>{"VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||null!==e.getAttribute("title")&&""!==e.getAttribute("title")||null!==e.getAttribute("aria-label")&&""!==e.getAttribute("aria-label")||null===e.getAttribute("aria-labelledby")&&(e.classList.contains("sa11y-warning-border")&&e.classList.remove("sa11y-warning-border"),this.results.push({element:e,type:n,content:at.sprintf("EMBED_MISSING_TITLE"),inline:!1,position:"beforebegin"}))})),!0===i.embeddedContentGeneral&&this.embeddedContent.forEach((e=>{if("VIDEO"===e.tagName||"AUDIO"===e.tagName||"true"===e.getAttribute("aria-hidden")||null!==e.getAttribute("hidden")||"none"===e.style.display||"presentation"===e.getAttribute("role")||"-1"===e.getAttribute("tabindex"));else{const t=this.prepareDismissal("undefined"!==e.getAttribute("src")?e.getAttribute("src"):e.querySelector("[src]").getAttribute("src"));this.results.push({element:e,type:s,content:at.sprintf("EMBED_GENERAL_WARNING"),inline:!1,position:"beforebegin",dismiss:t})}})))},this.checkQA=()=>{if(!0===i.badLinksQA&&this.customErrorLinks.forEach((e=>{this.results.push({element:e,type:n,content:at.sprintf("QA_BAD_LINK",e),inline:!0,position:"beforebegin"})})),!0===i.strongItalicsQA&&this.strongitalics.forEach((e=>{const t=e.textContent.trim().length,i=this.prepareDismissal(e.tagName+e.textContent);t>400&&this.results.push({element:e.parentNode,type:s,content:at.sprintf("QA_BAD_ITALICS"),inline:!1,position:"beforebegin",dismiss:i})})),!0===i.pdfQA&&this.pdf.forEach(((e,t)=>{const i=this.pdf.length,n=e.getAttribute("href"),r=this.prepareDismissal(`pdf: ${n}`);i&&void 0!==this.dismissed&&!this.dismissed.filter((e=>e.key===r)).length&&e.setAttribute("data-sa11y-warning-inline","pdf"),e&&0===t&&this.results.push({element:e,type:s,content:at.sprintf("QA_PDF",i),inline:!0,position:"beforebegin",dismiss:r})})),!0===i.langQA&&(!this.language||this.language.length<2)&&this.results.push({type:n,content:at.sprintf("QA_PAGE_LANGUAGE")}),!0===i.blockquotesQA&&this.blockquotes.forEach((e=>{const t=e.textContent;if(t.trim().length<25){const i=this.prepareDismissal(`${e.tagName}: ${t}`);this.results.push({element:e,type:s,content:at.sprintf("QA_BLOCKQUOTE_MESSAGE",t),inline:!1,position:"beforebegin",dismiss:i})}})),!0===i.tablesQA&&this.tables.forEach((e=>{const t=e.querySelectorAll("th"),i=e.querySelectorAll("h1, h2, h3, h4, h5, h6");0===t.length&&this.results.push({element:e,type:n,content:at.sprintf("TABLES_MISSING_HEADINGS"),inline:!1,position:"beforebegin"}),i.length>0&&i.forEach((e=>{this.results.push({element:e,type:n,content:at.sprintf("TABLES_SEMANTIC_HEADING"),inline:!1,position:"beforebegin"})})),t.forEach((e=>{0===e.textContent.trim().length&&this.results.push({element:e,type:n,content:at.sprintf("TABLES_EMPTY_HEADING"),inline:!1,position:"afterbegin"})}))})),!0===i.fakeHeadingsQA&&this.paragraphs.forEach((e=>{const t=e.innerHTML.indexOf("</strong><br>"),i=e.innerHTML.indexOf("<br></strong>"),n='h1, h2, h3, h4, h5, h6, [role="heading"][aria-level], blockquote',r=n.concat(", table"),o=this.getText(e);let a;if(e&&o.length>=300){const{firstChild:n}=e;if("STRONG"===n.tagName&&(-1!==i||-1!==t)){a=this.getText(n);const t=null!==a.match(/[.;?!"]/);if(!/[*]$/.test(a)&&!e.closest(r)&&a.length>=4&&a.length<=120&&!1===t){const e=this.prepareDismissal(`bold: ${a}`);this.results.push({element:n,type:s,content:at.sprintf("QA_FAKE_HEADING",a),inline:!1,position:"beforebegin",dismiss:e})}}}if(/^<(strong)>.+<\/\1>$/.test(e.innerHTML.trim())){a=o;const t=e.previousElementSibling,i=null!==a.match(/[.;?!"]/);if(null!==t&&t.matches(n));else if(!/[*]$/.test(a)&&a.length>=4&&a.length<=120&&!e.closest(r)&&!1===i){const t=this.prepareDismissal(`bold: ${a}`);this.results.push({element:e,type:s,content:at.sprintf("QA_FAKE_HEADING",a),inline:!1,position:"beforebegin",dismiss:t})}}(e=>{const t=getComputedStyle(e).fontSize.replace("px",""),i='h1, h2, h3, h4, h5, h6, [role="heading"][aria-level], blockquote',n=this.getText(e),r=e.previousElementSibling,o=null!==n.match(/[.;?!"]/);if(null!==r&&r.matches(i));else if(t>=24&&!e.closest(i)&&n.length>=4&&n.length<=120&&!1===o){const t=this.prepareDismissal(`bold: ${n}`);this.results.push({element:e,type:s,content:at.sprintf("QA_FAKE_HEADING",n),inline:!1,position:"beforebegin",dismiss:t})}})(e)})),!0===i.fakeListQA&&this.paragraphs.forEach((e=>{let t="";const i={b:"a",B:"A",2:"1","":"","":""},n=e=>e.replace(/^b|^B|^|^|^2/,(e=>i[e]));let r=!1;const o=e.textContent.substring(0,2);if(o.trim().length>0&&o!==t&&o.match(/a\.|a\)|A\.|A\)|\.|\)|\.|\)|1\.|1\)|\*\s|-\s|--|\s|\s|\s|\s|\s|\s|\s|\s|\s|\s/)){const i=e.innerHTML.indexOf("<br>");if(-1!==i){o===n(e.innerHTML.substring(i+4).trim().substring(0,2))&&(r=!0)}if(!r){if(this.getNextSibling(e,"p")){o===n(e.nextElementSibling.textContent.substring(0,2))&&(r=!0)}}if(r){const i=this.prepareDismissal(`list: ${e.textContent}`);this.results.push({element:e,type:s,content:at.sprintf("QA_SHOULD_BE_LIST",o),inline:!1,position:"beforebegin",dismiss:i}),t=o}else t=""}else t=""})),!0===i.allCapsQA){const e=e=>{let t="";"LI"===e.tagName?e.childNodes.forEach((e=>{3===e.nodeType&&(t+=e.textContent)})):t=this.getText(e);const i=t.match(/([A-Z]{2,}[ ])([A-Z]{2,}[ ])([A-Z]{2,}[ ])([A-Z]{2,})/g);if(i&&i[0].length>10){const i=this.prepareDismissal(`uppercase: ${t}`);this.results.push({element:e,type:s,content:at.sprintf("QA_UPPERCASE_WARNING"),inline:!1,position:"beforebegin",dismiss:i})}};this.paragraphs.forEach((t=>e(t))),this.headings.forEach((t=>e(t))),this.lists.forEach((t=>e(t))),this.blockquotes.forEach((t=>e(t)))}if(!0===i.duplicateIdQA){const e={};this.ids.forEach((t=>{const{id:i}=t;i&&(void 0===e[i]?e[i]=1:this.results.push({element:t,type:n,content:at.sprintf("QA_DUPLICATE_ID",i),inline:!0,position:"beforebegin"}))}))}if(!0===i.underlinedTextQA){this.underlines.forEach((e=>{const t=this.getText(e),i=this.prepareDismissal(`underline: ${t}`);this.results.push({element:e,type:s,content:at.sprintf("QA_TEXT_UNDERLINE_WARNING"),inline:!0,position:"beforebegin",dismiss:i})}));const e=e=>{const t=getComputedStyle(e).textDecorationLine,i=this.getText(e);if("underline"===t){const t=this.prepareDismissal(`underline: ${i}`);this.results.push({element:e,type:s,content:at.sprintf("QA_TEXT_UNDERLINE_WARNING"),inline:!1,position:"beforebegin",dismiss:t})}};this.paragraphs.forEach((t=>e(t))),this.headings.forEach((t=>e(t))),this.lists.forEach((t=>e(t))),this.blockquotes.forEach((t=>e(t))),this.spans.forEach((t=>e(t)))}if(!0===i.pageTitleQA){const e=document.querySelector("title");e&&0!==e.textContent.trim().length||this.results.push({type:n,content:at.sprintf("QA_PAGE_TITLE")})}!0===i.subscriptQA&&this.subscripts.forEach((e=>{const t=this.getText(e);if(t.length>=80){const i=this.prepareDismissal(`${e.tagName} ${t}`);this.results.push({element:e,type:s,content:at.sprintf("QA_SUBSCRIPT_WARNING"),inline:!0,position:"beforebegin",dismiss:i})}}))},this.checkContrast=()=>{if(!0===i.contrastPlugin){if("On"===this.store.getItem("sa11y-remember-contrast")||!0===i.headless){let e={errors:[],warnings:[]};const t=this.contrast,i={parseRgb(e){let t,i,n,s,r;if(i=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(n=i.slice(1,4),t=s=0;s<=2;t=++s)n[t]=+n[t];n[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(n=i.slice(1,5),t=r=0;r<=3;t=++r)n[t]=+n[t];return n},relativeLuminance(e){const t=[];for(let i=0;i<3;i++){const n=e[i]/255;t.push(n<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrastRatio(e,t){const n=i.relativeLuminance(i.parseRgb(e)),s=i.relativeLuminance(i.parseRgb(t));return(Math.max(n,s)+.05)/(Math.min(n,s)+.05)},getBackground(e){const t=getComputedStyle(e),n=t.backgroundColor,s=t.backgroundImage,r=`${i.parseRgb(n)}`.split(",");return r[3]<1&&r[3]>0?"alpha":"rgba(0, 0, 0, 0)"!==n&&"transparent"!==n&&"none"===s&&"0"!==r[3]?n:"none"!==s?"image":"HTML"===e.tagName?"rgb(255, 255, 255)":i.getBackground(e.parentNode)},check(){e={errors:[],warnings:[]};for(let n=0;n<t.length;n++){const s=t[n];if(i){const t=getComputedStyle(s),{color:n}=t,{fill:r}=t,o=parseInt(t.fontSize,10)*(3/4),{fontWeight:a}=t,l=s.tagName,c=i.getBackground(s),d=[].reduce.call(s.childNodes,((e,t)=>e+(3===t.nodeType?t.textContent:"")),"").trim(),u=window.getComputedStyle(s).clip.replace(/\s/g,""),h=parseFloat(window.getComputedStyle(s).width),p=parseFloat(window.getComputedStyle(s).height);let f,g,m;if(1!==h||1!==p||"rect(0,0,0,0)"!==u&&"rect(1px,1px,1px,1px)"!==u){if("SVG"===l)f=Math.round(100*i.contrastRatio(r,c))/100,f<3&&(g={elem:s,ratio:`${f}:1`},e.errors.push(g));else if(d.length||"INPUT"===l||"SELECT"===l||"TEXTAREA"===l){const t=s.getAttribute("type");"range"===t||"color"===t||("image"===c||"alpha"===c?(m={elem:s},e.warnings.push(m)):(f=Math.round(100*i.contrastRatio(n,c))/100,o>=18||o>=14&&a>=700?f<3&&(g={elem:s,ratio:`${f}:1`},e.errors.push(g)):f<4.5&&(g={elem:s,ratio:`${f}:1`},e.errors.push(g))))}}else;}}return e}};i.check(),e.errors.forEach((e=>{const t=e.elem,i=e.ratio,s=t.cloneNode(!0),r=s.querySelectorAll(".sa11y-heading-label");for(let e=0;e<r.length;e++)s.removeChild(r[e]);const o=this.fnIgnore(s,"script").textContent;"INPUT"===t.tagName?this.results.push({element:t,type:n,content:at.sprintf("CONTRAST_INPUT_ERROR",i),inline:!1,position:"beforebegin"}):this.results.push({element:t,type:n,content:at.sprintf("CONTRAST_ERROR",i,o),inline:!1,position:"beforebegin"})})),e.warnings.forEach((e=>{const t=e.elem,i=t.cloneNode(!0),n=i.querySelectorAll(".sa11y-heading-label");for(let e=0;e<n.length;e++)i.removeChild(n[e]);const r=this.fnIgnore(i,"script").textContent,o=this.prepareDismissal(`contrast: ${r}`);this.results.push({element:t,type:s,content:at.sprintf("CONTRAST_WARNING",r),inline:!1,position:"beforebegin",dismiss:o})}))}}else this.contrastItem.setAttribute("style","display: none !important;"),this.store.setItem("sa11y-remember-contrast","Off")},this.checkReadability=()=>{if(!0===i.readabilityPlugin){if("On"===this.store.getItem("sa11y-remember-readability")){this.readability.forEach((e=>{const t=e.textContent;t.length>=120&&"."!==t.charAt(t.length-1)&&e.insertAdjacentHTML("beforeend","<span class='sa11y-readability-period sa11y-visually-hidden'>.</span>")}));const e=[];for(let t=0;t<this.readability.length;t++){const i=this.readability[t],n=this.getText(i);""!==n&&e.push(n)}const t=e.join(" ").toString();if(["en","fr","de","nl","it"].includes(i.readabilityLang)){const e=e=>{let t=e;if(t=t.toLowerCase().replace(".","").replace("\n",""),t.length<=3)return 1;t=t.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,""),t=t.replace(/^y/,"");const i=t.match(/[aeiouy]{1,2}/g);let n=0;return!!i&&(n=i.length),n},n=t.replace(/[.!?-]+/g," ").split(" ");let s=0;for(let e=0;e<n.length;e++)0!=n[e]&&(s+=1);const r=t.split(/[.!?]+/);let o=0;for(let e=0;e<r.length;e++)""!==r[e]&&(o+=1);let a=0,l=0,c=0;for(let t=0;t<n.length;t++)if(0!=n[t]){const i=e(n[t]);1===i&&(l+=1),2===i&&(c+=1),a+=i}let d=!1;"en"===i.readabilityLang?d=206.835-s/o*1.015-a/s*84.6:"fr"===i.readabilityLang?d=207-s/o*1.015-a/s*73.6:"es"===i.readabilityLang?d=206.84-s/o*1.02-a/s*100*.6:"de"===i.readabilityLang?d=180-s/o-a/s*58.5:"nl"===i.readabilityLang?d=206.84-a/s*100*.77-s/o*.93:"it"===i.readabilityLang&&(d=217-s/o*1.3-a/s*100*.6),d>100?d=100:d<0&&(d=0);const u=d.toFixed(1),h=(s/o).toFixed(1),p=Math.round((s-(l+c))/s*100);let f;f=u>=0&&u<30?at._("LANG_VERY_DIFFICULT"):u>31&&u<49?at._("LANG_DIFFICULT"):u>50&&u<60?at._("LANG_FAIRLY_DIFFICULT"):at._("LANG_GOOD"),this.readabilityResults={score:u,averageWordsPerSentence:h,complexWords:p,difficultyLevel:f,wordCount:s}}else if(["sv","fi","da","no","nb","nn"].includes(i.readabilityLang)){const e=(e=>{const t=()=>e.replace(/[-'.]/gi,"").split(/[^a-zA-Z0-9]/g).filter(Boolean),i=t().length,n=t().filter((e=>e.length>6)).length,s=e.split(/\?|!|\.|\n/g).filter(Boolean).length,r=Math.round(i/s+100*n/i),o=(i/s).toFixed(1),a=Math.round(n/i*100);let l;return l=r>=0&&r<39?at._("LANG_GOOD"):r>40&&r<50?at._("LANG_FAIRLY_DIFFICULT"):r>51&&r<61?at._("LANG_DIFFICULT"):at._("LANG_VERY_DIFFICULT"),{score:r,difficulty:l,avgWordsPerSentence:o,complexWords:a,wordCount:i}})(t);this.readabilityResults={score:e.score,averageWordsPerSentence:e.avgWordsPerSentence,complexWords:e.complexWords,difficultyLevel:e.difficulty,wordCount:e.wordCount}}!1===i.headless&&(0===t.length?this.readabilityInfo.innerHTML=at._("READABILITY_NO_P_OR_LI_MESSAGE"):this.readabilityResults.wordCount>30?(this.readabilityInfo.innerHTML=`${this.readabilityResults.score} <span class="sa11y-readability-score">${this.readabilityResults.difficultyLevel}</span>`,this.readabilityDetails.innerHTML=`\n                <li>\n                  <strong>${at._("LANG_AVG_SENTENCE")}</strong>\n                  ${this.readabilityResults.averageWordsPerSentence}\n                </li>\n                <li>\n                  <strong>${at._("LANG_COMPLEX_WORDS")}</strong>\n                  ${this.readabilityResults.complexWords}%\n                </li>\n                <li>\n                  <strong>${at._("LANG_TOTAL_WORDS")}</strong>\n                  ${this.readabilityResults.wordCount}\n                </li>`):this.readabilityInfo.textContent=at._("READABILITY_NOT_ENOUGH_CONTENT_MESSAGE"))}}else!1===i.headless&&(this.readabilityItem.setAttribute("style","display: none !important;"),this.readabilityPanel.classList.remove("sa11y-active"))},this.initialize()}}export{at as Lang,ct as Sa11y,lt as Sa11yCustomChecks};
